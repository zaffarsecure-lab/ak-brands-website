<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AK Brands Marketing - India's Leading B2B Liquidation Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.95) 0%, rgba(26, 26, 26, 0.95) 100%);
            padding: 1.2rem 0 0 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(26, 188, 156, 0.1);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1.2rem;
        }

        .logo-img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            filter: drop-shadow(0 3px 10px rgba(26, 188, 156, 0.3));
            transition: transform 0.3s ease;
        }

        .logo-img:hover {
            transform: scale(1.05);
        }

        .brand-text {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .brand-name {
            font-size: 1.75rem;
            font-weight: 500;
            font-family: 'Playfair Display', Georgia, serif;
            color: #1abc9c;
            letter-spacing: 0.5px;
            line-height: 1.2;
            position: relative;
        }

        .brand-name .ak {
            font-weight: 600;
            color: #16a085;
        }

        .brand-tagline {
            font-size: 0.75rem;
            color: #95a5a6;
            font-weight: 400;
            letter-spacing: 0.5px;
            font-family: 'Playfair Display', Georgia, serif;
            opacity: 0.85;
            font-style: italic;
        }

        /* Dropdown Menu */
        .menu-dropdown {
            position: relative;
        }

        .menu-button {
            background: none;
            border: none;
            color: #ecf0f1;
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.3s;
        }

        .menu-button:hover {
            color: #1abc9c;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: rgba(44, 62, 80, 0.98);
            min-width: 180px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            border-radius: 8px;
            margin-top: 0.5rem;
            overflow: hidden;
            z-index: 1001;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(26, 188, 156, 0.3);
        }

        .dropdown-content.show {
            display: block;
            animation: dropdownSlide 0.3s ease-out;
        }

        @keyframes dropdownSlide {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dropdown-content a {
            color: #ecf0f1;
            padding: 1rem 1.5rem;
            text-decoration: none;
            display: block;
            transition: all 0.3s;
            font-weight: 500;
            position: relative;
            z-index: 1;
            cursor: pointer;
        }

        .dropdown-content a:hover {
            background: rgba(26, 188, 156, 0.2);
            color: #1abc9c;
            padding-left: 2rem;
        }

        /* Customer Selector */
        .customer-selector {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .customer-selector-title {
            color: white;
            font-weight: 700;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .customer-selector-row {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }

        .customer-selector-field {
            flex: 1;
        }

        .customer-selector-field label {
            display: block;
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .customer-selector-field select,
        .customer-selector-field input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            background: rgba(255,255,255,0.9);
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
        }

        .customer-selector-field select:focus,
        .customer-selector-field input:focus {
            outline: none;
            border-color: white;
            background: white;
        }

        .new-customer-btn {
            background: white;
            color: #667eea;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .new-customer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,255,255,0.3);
        }

        /* OTP Modal */
        .otp-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
        }

        .otp-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .otp-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 2.5rem;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.5s ease;
            text-align: center;
            color: white;
            border: 2px solid rgba(26, 188, 156, 0.3);
        }

        .otp-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
            color: #1abc9c;
        }

        .otp-subtitle {
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
            line-height: 1.5;
        }

        .otp-phone {
            font-weight: 700;
            color: #1abc9c;
            font-size: 1.1rem;
        }

        .otp-input-container {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin: 1.5rem 0;
        }

        .otp-digit {
            width: 50px;
            height: 60px;
            border: 2px solid rgba(26, 188, 156, 0.5);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1.5rem;
            text-align: center;
            font-weight: 700;
            transition: all 0.3s;
        }

        .otp-digit:focus {
            outline: none;
            border-color: #1abc9c;
            background: rgba(255,255,255,0.15);
            transform: scale(1.05);
        }

        .otp-error {
            color: #ff6b6b;
            font-size: 0.9rem;
            margin: 1rem 0;
            display: none;
        }

        .otp-error.show {
            display: block;
            animation: shake 0.5s;
        }

        .otp-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .otp-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .otp-verify {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
        }

        .otp-resend {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .otp-cancel {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .otp-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .otp-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .otp-timer {
            font-size: 0.9rem;
            margin-top: 1rem;
            opacity: 0.8;
        }

        .otp-loading {
            display: none;
            margin: 1rem 0;
        }

        .otp-loading.show {
            display: block;
        }

        .spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid #1abc9c;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Orders Section */
        .orders-section {
            display: none;
            padding: 4rem 2rem;
            background: #f8f9fa;
            min-height: 100vh;
        }

        .orders-section.show {
            display: block;
        }

        .orders-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .orders-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .orders-title {
            font-size: 2.5rem;
            color: #2c3e50;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }

        .orders-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .new-order-btn, .export-btn {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .export-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }

        .new-order-btn:hover, .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26, 188, 156, 0.4);
        }

        .logout-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .order-form-card {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .order-serial {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            display: inline-block;
            font-weight: 700;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .form-section-title {
            font-size: 1.3rem;
            color: #667eea;
            margin: 2rem 0 1.5rem 0;
            font-weight: 700;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-section-title:first-of-type {
            margin-top: 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-field {
            display: flex;
            flex-direction: column;
        }

        .form-field.full-width {
            grid-column: 1 / -1;
        }

        .form-field label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-field input,
        .form-field select,
        .form-field textarea {
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .form-field input[type="file"] {
            padding: 0.5rem;
        }

        .form-field input:focus,
        .form-field select:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .form-field textarea {
            resize: vertical;
            min-height: 80px;
        }

        .status-group {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
        }

        .status-group-title {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .form-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .save-order-btn {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
        }

        .save-order-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(26, 188, 156, 0.4);
        }

        .cancel-edit-btn {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cancel-edit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(149, 165, 166, 0.4);
        }

        /* Saved Orders List */
        .saved-orders-section {
            margin-top: 3rem;
        }

        .saved-orders-title {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .orders-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .order-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #667eea;
        }

        .order-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        }

        .order-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .order-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #667eea;
        }

        .order-date {
            font-size: 0.85rem;
            color: #95a5a6;
        }

        .order-info {
            margin-bottom: 1rem;
        }

        .order-info-row {
            display: flex;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .order-info-label {
            font-weight: 600;
            color: #2c3e50;
            min-width: 120px;
        }

        .order-info-value {
            color: #555;
        }

        .order-card-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .order-action-btn {
            flex: 1;
            padding: 0.6rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .edit-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
        }

        .delete-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .download-btn {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
        }

        .order-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .no-orders {
            text-align: center;
            padding: 3rem;
            color: #95a5a6;
            font-size: 1.2rem;
        }

        /* Export Dropdown */
        .export-dropdown {
            position: relative;
            display: inline-block;
        }

        .export-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: white;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-radius: 8px;
            z-index: 1;
            overflow: hidden;
        }

        .export-dropdown-content.show {
            display: block;
        }

        .export-dropdown-content button {
            width: 100%;
            padding: 0.8rem 1rem;
            border: none;
            background: white;
            text-align: left;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 600;
            color: #2c3e50;
        }

        .export-dropdown-content button:hover {
            background: #f8f9fa;
        }

        /* Animation Section */
        .animation-section {
            position: relative;
            width: 100%;
            height: 140px;
            margin-top: 1rem;
            background: linear-gradient(to bottom, transparent 0%, transparent 75%, #34495e 75%, #2c3e50 80%, #34495e 80%, #34495e 100%);
        }

        .animation-section.paused * {
            animation-play-state: paused !important;
        }

        .connection-line {
            position: absolute;
            bottom: 42%;
            left: 15%;
            width: 35%;
            height: 3px;
            background: linear-gradient(90deg, #1abc9c, #3498db);
            z-index: 8;
            opacity: 0;
            animation: showConnection 30s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(26, 188, 156, 0.5);
        }

        @keyframes showConnection {
            0%, 30% { opacity: 0; width: 0; }
            35% { opacity: 1; width: 35%; }
            40% { opacity: 1; width: 35%; }
            45% { opacity: 0; width: 35%; }
            100% { opacity: 0; width: 35%; }
        }

        .connection-line::before {
            content: '‚Üí';
            position: absolute;
            right: -15px;
            top: -12px;
            font-size: 1.5rem;
            color: #3498db;
        }

        .business-locations {
            position: absolute;
            bottom: 30%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 5%;
            z-index: 10;
        }

        .location {
            text-align: center;
            position: relative;
        }

        .location-icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.4));
        }

        .location-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: #ecf0f1;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            white-space: nowrap;
        }

        .supplier { color: #3498db; }
        .office { color: #1abc9c; }
        .customer { color: #f39c12; }

        .customer-person {
            position: absolute;
            bottom: 30%;
            right: 20%;
            font-size: 2rem;
            z-index: 15;
            animation: customerJourney 30s ease-in-out infinite;
        }

        @keyframes customerJourney {
            0%, 5% { right: 20%; transform: scaleX(1); opacity: 1; }
            15% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 1; }
            20%, 25% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 1; }
            30% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 0; }
            100% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 0; }
        }

        .order-payment {
            position: absolute;
            bottom: 35%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            z-index: 15;
            opacity: 0;
            animation: showOrderPayment 30s ease-in-out infinite;
        }

        @keyframes showOrderPayment {
            0%, 20% { opacity: 0; transform: translateX(-50%) scale(0); }
            25% { opacity: 1; transform: translateX(-50%) scale(1.2); }
            30% { opacity: 1; transform: translateX(-50%) scale(1); }
            35% { opacity: 0; transform: translateX(-50%) scale(0); }
            100% { opacity: 0; transform: translateX(-50%) scale(0); }
        }

        .packing-boxes {
            position: absolute;
            bottom: 35%;
            left: 15%;
            font-size: 1.5rem;
            z-index: 15;
            opacity: 0;
            animation: packingGoods 30s ease-in-out infinite;
        }

        @keyframes packingGoods {
            0%, 40% { opacity: 0; transform: scale(0); }
            45% { opacity: 1; transform: scale(1.2); }
            50% { opacity: 1; transform: scale(1); }
            55% { opacity: 1; transform: scale(1); }
            60% { opacity: 0; transform: scale(0); }
            100% { opacity: 0; transform: scale(0); }
        }

        .truck-container {
            position: absolute;
            bottom: 28%;
            width: 100%;
            height: 80px;
            z-index: 20;
        }

        .truck {
            position: absolute;
            left: 15%;
            bottom: 0;
            font-size: 3rem;
            opacity: 0;
            transform: scaleX(-1);
            animation: truckDelivery 30s ease-in-out infinite;
        }

        @keyframes truckDelivery {
            0%, 55% { left: 15%; opacity: 0; }
            60% { left: 15%; opacity: 1; }
            85% { left: 80%; opacity: 1; }
            90% { left: 80%; opacity: 1; }
            95% { left: 80%; opacity: 0; }
            100% { left: 80%; opacity: 0; }
        }

        .delivery-check {
            position: absolute;
            bottom: 35%;
            right: 15%;
            font-size: 2rem;
            z-index: 15;
            opacity: 0;
            animation: deliveryComplete 30s ease-in-out infinite;
        }

        @keyframes deliveryComplete {
            0%, 85% { opacity: 0; transform: scale(0) rotate(0deg); }
            90% { opacity: 1; transform: scale(1.3) rotate(360deg); }
            95% { opacity: 1; transform: scale(1) rotate(360deg); }
            100% { opacity: 0; transform: scale(0) rotate(360deg); }
        }

        .road-lines {
            position: absolute;
            bottom: 25%;
            left: 0;
            width: 100%;
            height: 2px;
            background: repeating-linear-gradient(90deg, transparent 0px, transparent 20px, rgba(255,255,255,0.3) 20px, rgba(255,255,255,0.3) 40px);
            z-index: 5;
        }

        .hero {
            position: relative;
            color: white;
            padding: 6rem 2rem;
            text-align: center;
            background-image: url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.5) 0%, rgba(118, 75, 162, 0.5) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
            text-shadow: 0 3px 15px rgba(0,0,0,0.5);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
            text-shadow: 0 2px 10px rgba(0,0,0,0.4);
        }

        .action-boxes {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 4rem;
            flex-wrap: wrap;
        }

        .action-box {
            text-decoration: none;
            cursor: pointer;
            text-align: center;
            position: relative;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .action-box:hover {
            animation: none;
            transform: translateY(-10px) scale(1.1);
        }

        .action-box-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            display: block;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5));
            transition: all 0.3s;
        }

        .action-box-label {
            display: inline-block;
            padding: 0.8rem 2rem;
            border: 3px solid;
            border-image: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%) 1;
            border-radius: 10px;
            font-size: 1.5rem;
            font-weight: 900;
            font-family: 'Inter', sans-serif;
            letter-spacing: 1px;
            text-transform: uppercase;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5), inset 0 0 20px rgba(255, 215, 0, 0.1);
            transition: all 0.3s;
        }

        .action-box.buy .action-box-label {
            color: #27ae60;
            text-shadow: 0 0 10px rgba(39, 174, 96, 0.8);
        }

        .action-box.sell .action-box-label {
            color: #e74c3c;
            text-shadow: 0 0 10px rgba(231, 76, 60, 0.8);
        }

        .action-box.auction .action-box-label {
            color: #8B4513;
            text-shadow: 0 0 10px rgba(139, 69, 19, 0.8);
        }

        .action-box:hover .action-box-icon {
            transform: rotate(10deg) scale(1.2);
            filter: drop-shadow(0 8px 25px rgba(255,255,255,0.3));
        }

        .action-box:hover .action-box-label {
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), inset 0 0 30px rgba(255, 215, 0, 0.2);
            transform: scale(1.05);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 2rem 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2.5rem;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
            position: relative;
            margin: auto;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            font-family: 'Inter', sans-serif;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .close-btn:hover {
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.9);
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: white;
            background: white;
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }

        .error-message {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            border-left: 4px solid #ff6b6b;
            display: none;
        }

        .error-message.show {
            display: block;
            animation: shake 0.5s;
        }

        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255,255,255,0.4);
        }

        .success-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            overflow-y: auto;
        }

        .success-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 1rem;
        }

        .success-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 2rem;
            border-radius: 20px;
            width: 95%;
            max-width: 600px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.5s ease;
            text-align: center;
            color: white;
            border: 2px solid rgba(255, 215, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.3;
        }

        .success-message {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            opacity: 0.95;
        }

        .discount-box {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 1.2rem;
            border-radius: 15px;
            margin: 1.5rem 0;
            border: 2px solid rgba(255, 215, 0, 0.5);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .discount-code {
            font-size: 2rem;
            font-weight: 900;
            letter-spacing: 3px;
            margin: 0.5rem 0;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.8));
        }

        .privacy-notice {
            background: rgba(52, 152, 219, 0.2);
            padding: 1rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            font-size: 0.9rem;
            line-height: 1.5;
            border-left: 4px solid #3498db;
        }

        .whatsapp-btn {
            display: inline-block;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            padding: 0.9rem 1.8rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1rem;
            margin-top: 1rem;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
        }

        .close-success-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #2c3e50;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .close-success-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        }

        .features {
            padding: 4rem 2rem;
            background: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2c3e50;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-family: 'Inter', sans-serif;
        }

        .about {
            padding: 4rem 2rem;
            background: white;
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .about-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
            margin-bottom: 1rem;
        }

        .contact {
            padding: 4rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .contact-info {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-info h2 {
            margin-bottom: 2rem;
            font-family: 'Inter', sans-serif;
        }

        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            font-size: 1.1rem;
        }

        .contact-details a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .contact-details a:hover {
            opacity: 0.8;
        }

        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem;
        }

        @media (max-width: 768px) {
            .animation-section { height: 100px; }
            .logo-img { width: 55px; height: 55px; }
            .brand-name { font-size: 1.4rem; }
            .brand-tagline { font-size: 0.6rem; }
            .location-icon { font-size: 1.5rem; }
            .location-label { font-size: 0.5rem; }
            .truck { font-size: 2rem; }
            .customer-person { font-size: 1.5rem; }
            .hero { background-attachment: scroll; padding: 4rem 1rem; }
            .hero h1 { font-size: 1.8rem; }
            .hero p { font-size: 1rem; }
            .action-boxes { gap: 2rem; }
            .action-box-icon { font-size: 3.5rem; }
            .action-box-label { font-size: 1.2rem; padding: 0.6rem 1.5rem; }
            .section-title { font-size: 2rem; }
            .modal-content { padding: 1.5rem; }
            .modal-title { font-size: 1.5rem; }
            .success-content { padding: 1.5rem; }
            .success-icon { font-size: 3rem; }
            .success-title { font-size: 1.5rem; }
            .success-message { font-size: 0.9rem; }
            .discount-code { font-size: 1.5rem; letter-spacing: 2px; }
            .discount-box { padding: 1rem; }
            .privacy-notice { font-size: 0.85rem; padding: 0.8rem; }
            .whatsapp-btn { font-size: 0.9rem; padding: 0.8rem 1.5rem; }
            .close-success-btn { font-size: 0.9rem; padding: 0.7rem 1.5rem; }
            .orders-title { font-size: 2rem; }
            .orders-header { flex-direction: column; gap: 1rem; align-items: flex-start; }
            .form-row { grid-template-columns: 1fr; }
            .orders-grid { grid-template-columns: 1fr; }
            .form-buttons { flex-direction: column; }
            .customer-selector-row { flex-direction: column; }
            .otp-digit { width: 40px; height: 50px; font-size: 1.2rem; }
            .otp-input-container { gap: 0.3rem; }
        }

        @media (max-width: 480px) {
            .success-title { font-size: 1.3rem; }
            .discount-code { font-size: 1.3rem; }
            .action-box-label { font-size: 1rem; padding: 0.5rem 1.2rem; }
            .order-form-card { padding: 1.5rem; }
            .otp-content { padding: 1.5rem; }
            .otp-title { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-section">
                <img src="https://nyc3.digitaloceanspaces.com/bhindi-drive/files/e42f16e8-8f96-4b73-9b52-8fe6992865e2/2025-12-11T20-02-47-298Z-a17e40fd-chat-image-1765483367276-0.jpg" alt="AK Brands Marketing Logo" class="logo-img" id="headerLogo">
                <div class="brand-text">
                    <div class="brand-name"><span class="ak">AK</span> Brands Marketing</div>
                    <div class="brand-tagline">Trusted Firm</div>
                </div>
            </div>
            <div class="menu-dropdown">
                <button class="menu-button" onclick="toggleMenu()">‚ãÆ</button>
                <div class="dropdown-content" id="menuDropdown">
                    <a href="#home" onclick="showSection('home')">Home</a>
                    <a href="#features" onclick="showSection('features')">Services</a>
                    <a href="#about" onclick="showSection('about')">About</a>
                    <a href="#contact" onclick="showSection('contact')">Contact</a>
                    <a onclick="openOrdersWithOTP()">Orders</a>
                </div>
            </div>
        </div>

        <div class="animation-section" id="animationSection">
            <div class="road-lines"></div>
            <div class="connection-line"></div>
            <div class="business-locations">
                <div class="location">
                    <div class="location-icon">üè≠</div>
                    <div class="location-label supplier">Supplier</div>
                </div>
                <div class="location">
                    <div class="location-icon">üè¢</div>
                    <div class="location-label office">AK</div>
                </div>
                <div class="location">
                    <div class="location-icon">üè™</div>
                    <div class="location-label customer">Customer</div>
                </div>
            </div>
            <div class="customer-person">üö∂</div>
            <div class="order-payment">üí≥üìù</div>
            <div class="packing-boxes">üì¶üì¶üì¶</div>
            <div class="truck-container">
                <div class="truck">üöö</div>
            </div>
            <div class="delivery-check">‚úÖ</div>
        </div>
    </header>

    <div id="otpModal" class="otp-modal">
        <div class="otp-content">
            <h2 class="otp-title">üîê Secure Login</h2>
            <p class="otp-subtitle">
                A 6-digit OTP will be sent to<br>
                <span class="otp-phone">+91 8660502217</span>
            </p>
            
            <div class="otp-loading" id="otpLoading">
                <div class="spinner"></div>
                <p style="margin-top: 1rem;">Sending OTP via WhatsApp...</p>
            </div>
            
            <div id="otpInputSection" style="display: none;">
                <div class="otp-input-container">
                    <input type="text" maxlength="1" class="otp-digit" id="otp1" oninput="moveToNext(this, 'otp2')" onkeydown="moveToPrev(event, this, null)">
                    <input type="text" maxlength="1" class="otp-digit" id="otp2" oninput="moveToNext(this, 'otp3')" onkeydown="moveToPrev(event, this, 'otp1')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp3" oninput="moveToNext(this, 'otp4')" onkeydown="moveToPrev(event, this, 'otp2')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp4" oninput="moveToNext(this, 'otp5')" onkeydown="moveToPrev(event, this, 'otp3')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp5" oninput="moveToNext(this, 'otp6')" onkeydown="moveToPrev(event, this, 'otp4')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp6" oninput="handleLastDigit()" onkeydown="moveToPrev(event, this, 'otp5')">
                </div>
                
                <div class="otp-error" id="otpError">‚ùå Invalid OTP. Please try again.</div>
                
                <div class="otp-timer" id="otpTimer"></div>
                
                <div class="otp-buttons">
                    <button class="otp-btn otp-verify" onclick="verifyOTP()">Verify</button>
                    <button class="otp-btn otp-resend" id="resendBtn" onclick="resendOTP()" disabled>Resend OTP</button>
                </div>
            </div>
            
            <button class="otp-btn otp-cancel" onclick="closeOTPModal()" style="width: 100%; margin-top: 1rem;">Cancel</button>
        </div>
    </div>

    <section id="ordersSection" class="orders-section">
        <div class="orders-container">
            <div class="orders-header">
                <h1 class="orders-title">üìã Customer Orders</h1>
                <div class="orders-actions">
                    <button class="new-order-btn" onclick="createNewOrder()">‚ûï New Order</button>
                    <div class="export-dropdown">
                        <button class="export-btn" onclick="toggleExportMenu()">üì• Export All</button>
                        <div class="export-dropdown-content" id="exportDropdown">
                            <button onclick="exportAllToPDF()">üìÑ Export to PDF</button>
                            <button onclick="exportAllToExcel()">üìä Export to Excel</button>
                            <button onclick="exportAllToWord()">üìù Export to Word</button>
                        </div>
                    </div>
                    <button class="logout-btn" onclick="logoutOrders()">üö™ Logout</button>
                </div>
            </div>

            <div class="order-form-card" id="orderFormCard">
                <div class="order-serial" id="orderSerial">Order #1</div>
                
                <!-- Customer Selector -->
                <div class="customer-selector">
                    <div class="customer-selector-title">üë• Select Existing Customer or Create New</div>
                    <div class="customer-selector-row">
                        <div class="customer-selector-field">
                            <label>Existing Customers</label>
                            <select id="customerSelector" onchange="loadCustomerData()">
                                <option value="">-- Select a customer --</option>
                            </select>
                        </div>
                        <button type="button" class="new-customer-btn" onclick="clearCustomerSelection()">‚ûï New Customer</button>
                    </div>
                </div>
                
                <form id="customerOrderForm">
                    <!-- 1. Customer Details -->
                    <div class="form-section-title">üë§ 1. Customer Details</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Name *</label>
                            <input type="text" name="customerName" id="customerName" required placeholder="Enter customer name">
                        </div>
                        <div class="form-field">
                            <label>Business Name *</label>
                            <input type="text" name="businessName" id="businessName" required placeholder="Enter business name">
                        </div>
                        <div class="form-field">
                            <label>Mobile Number *</label>
                            <input type="tel" name="mobileNumber" id="mobileNumber" required placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Address *</label>
                            <input type="text" name="address" id="address" required placeholder="Enter complete address">
                        </div>
                        <div class="form-field">
                            <label>City *</label>
                            <input type="text" name="city" id="city" required placeholder="Enter city">
                        </div>
                        <div class="form-field">
                            <label>State *</label>
                            <input type="text" name="state" id="state" required placeholder="Enter state">
                        </div>
                        <div class="form-field">
                            <label>Pincode *</label>
                            <input type="text" name="pincode" id="pincode" required placeholder="Enter 6 digit pincode" pattern="[0-9]{6}">
                        </div>
                    </div>

                    <!-- 2. Order Identification -->
                    <div class="form-section-title">üîñ 2. Order Identification</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Lot Number *</label>
                            <input type="text" name="lotNumber" required placeholder="Enter lot number">
                        </div>
                        <div class="form-field">
                            <label>Lot Date *</label>
                            <input type="date" name="lotDate" required>
                        </div>
                        <div class="form-field">
                            <label>Lot Book Person *</label>
                            <input type="text" name="lotBookPerson" required placeholder="Enter person name">
                        </div>
                    </div>

                    <!-- 3. Product Details -->
                    <div class="form-section-title">üì¶ 3. Product Details</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Category *</label>
                            <input type="text" name="category" required placeholder="e.g., Electronics, Garments">
                        </div>
                        <div class="form-field full-width">
                            <label>Description *</label>
                            <textarea name="description" required placeholder="Enter product description"></textarea>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Quantity *</label>
                            <input type="number" name="quantity" required placeholder="Enter quantity" min="1">
                        </div>
                        <div class="form-field">
                            <label>Rate Per Piece (‚Çπ) *</label>
                            <input type="number" name="ratePerPiece" required placeholder="Enter rate" min="0" step="0.01">
                        </div>
                        <div class="form-field">
                            <label>Total Amount (‚Çπ) *</label>
                            <input type="number" name="totalAmount" required placeholder="Enter total amount" min="0" step="0.01">
                        </div>
                        <div class="form-field">
                            <label>Condition of Stock *</label>
                            <input type="text" name="stockCondition" required placeholder="e.g., New, Like New, Good">
                        </div>
                    </div>

                    <!-- 4. Payment Details -->
                    <div class="form-section-title">üí≥ 4. Payment Details</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Payment Method *</label>
                            <select name="paymentMethod" required>
                                <option value="">Select method</option>
                                <option value="Cash">Cash</option>
                                <option value="Bank">Bank Transfer</option>
                                <option value="UPI">UPI</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="status-group">
                        <div class="status-group-title">Token Payment</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Token Amount (‚Çπ)</label>
                                <input type="number" name="tokenAmount" placeholder="Enter token amount" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Payment Reference</label>
                                <input type="text" name="tokenReference" placeholder="Enter reference number">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Part Payment 1</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Amount (‚Çπ)</label>
                                <input type="number" name="partPayment1" placeholder="Enter amount" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Payment Reference</label>
                                <input type="text" name="partPayment1Reference" placeholder="Enter reference number">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Part Payment 2</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Amount (‚Çπ)</label>
                                <input type="number" name="partPayment2" placeholder="Enter amount" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Payment Reference</label>
                                <input type="text" name="partPayment2Reference" placeholder="Enter reference number">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Part Payment 3</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Amount (‚Çπ)</label>
                                <input type="number" name="partPayment3" placeholder="Enter amount" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Payment Reference</label>
                                <input type="text" name="partPayment3Reference" placeholder="Enter reference number">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Final Payment</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Amount (‚Çπ)</label>
                                <input type="number" name="finalPayment" placeholder="Enter final amount" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Payment Reference</label>
                                <input type="text" name="finalPaymentReference" placeholder="Enter reference number">
                            </div>
                        </div>
                    </div>

                    <!-- 5. Logistics Details -->
                    <div class="form-section-title">üöö 5. Logistics Details</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Dispatch From</label>
                            <input type="text" name="dispatchFrom" placeholder="Enter dispatch location">
                        </div>
                        <div class="form-field">
                            <label>Dispatch To</label>
                            <input type="text" name="dispatchTo" placeholder="Enter delivery location">
                        </div>
                        <div class="form-field">
                            <label>Dispatch Date</label>
                            <input type="date" name="dispatchDate">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Courier/Transportation Name</label>
                            <input type="text" name="courierName" placeholder="Enter courier name">
                        </div>
                        <div class="form-field">
                            <label>LR Number</label>
                            <input type="text" name="lrNumber" placeholder="Enter LR number">
                        </div>
                        <div class="form-field">
                            <label>Parcel Count</label>
                            <input type="number" name="parcelCount" placeholder="Enter parcel count" min="1">
                        </div>
                        <div class="form-field">
                            <label>Estimated Delivery Date</label>
                            <input type="date" name="estimatedDeliveryDate">
                        </div>
                    </div>

                    <!-- 6. Order Status -->
                    <div class="form-section-title">üìä 6. Order Status</div>
                    
                    <div class="status-group">
                        <div class="status-group-title">Order Confirmed</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Date</label>
                                <input type="date" name="orderConfirmedDate">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Packed</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Date</label>
                                <input type="date" name="packedDate">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Dispatched</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Date</label>
                                <input type="date" name="dispatchedDate">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Delivered</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Date</label>
                                <input type="date" name="deliveredDate">
                            </div>
                        </div>
                    </div>

                    <div class="status-group">
                        <div class="status-group-title">Closed</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Date</label>
                                <input type="date" name="closedDate">
                            </div>
                        </div>
                    </div>

                    <!-- 7. Confirmation Proofs -->
                    <div class="form-section-title">üì∏ 7. Confirmation Proofs</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>WhatsApp Screenshot</label>
                            <input type="file" name="whatsappScreenshot" accept="image/*">
                        </div>
                        <div class="form-field">
                            <label>Payment Screenshot</label>
                            <input type="file" name="paymentScreenshot" accept="image/*">
                        </div>
                    </div>

                    <!-- 8. Remarks -->
                    <div class="form-section-title">üìù 8. Remarks</div>
                    <div class="form-row">
                        <div class="form-field full-width">
                            <label>Additional Notes/Remarks</label>
                            <textarea name="remarks" placeholder="Enter any additional notes or remarks" rows="4"></textarea>
                        </div>
                    </div>

                    <div class="form-buttons">
                        <button type="submit" class="save-order-btn">üíæ Save Order</button>
                        <button type="button" class="cancel-edit-btn" onclick="cancelEdit()" style="display: none;">‚ùå Cancel</button>
                    </div>
                </form>
            </div>

            <div class="saved-orders-section">
                <h2 class="saved-orders-title">üì¶ Saved Orders</h2>
                <div class="orders-grid" id="ordersGrid">
                    <div class="no-orders">No orders saved yet. Create your first order above!</div>
                </div>
            </div>
        </div>
    </section>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1>India's Leading B2B Liquidation Platform</h1>
            <p>Trusted partner for buying and selling liquidation stock lots</p>
            <div class="action-boxes">
                <div class="action-box buy" onclick="openModal('buy')">
                    <span class="action-box-icon">üõí</span>
                    <div class="action-box-label">Buy</div>
                </div>
                <div class="action-box sell" onclick="openModal('sell')">
                    <span class="action-box-icon">üíº</span>
                    <div class="action-box-label">Sell</div>
                </div>
                <div class="action-box auction" onclick="openModal('auction')">
                    <span class="action-box-icon">üî®</span>
                    <div class="action-box-label">Live Auction</div>
                </div>
            </div>
        </div>
    </section>

    <div id="buyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üõí Buy Stock Lots</h2>
                <button class="close-btn" onclick="closeModal('buy')">&times;</button>
            </div>
            <div class="error-message" id="buyError"></div>
            <form onsubmit="handleSubmit(event, 'buy')">
                <div class="form-group">
                    <label>Name *</label>
                    <input type="text" name="name" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label>WhatsApp Number *</label>
                    <input type="tel" name="phone" required placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}">
                </div>
                <div class="form-group">
                    <label>Address *</label>
                    <textarea name="address" required rows="3" placeholder="Enter your complete address"></textarea>
                </div>
                <div class="form-group">
                    <label>Category *</label>
                    <input type="text" name="category" required placeholder="Enter product category (e.g., Electronics, Garments, etc.)">
                </div>
                <button type="submit" class="submit-btn">Submit Request</button>
            </form>
        </div>
    </div>

    <div id="sellModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üíº Sell Your Stock</h2>
                <button class="close-btn" onclick="closeModal('sell')">&times;</button>
            </div>
            <div class="error-message" id="sellError"></div>
            <form onsubmit="handleSubmit(event, 'sell')">
                <div class="form-group">
                    <label>Name *</label>
                    <input type="text" name="name" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label>WhatsApp Number *</label>
                    <input type="tel" name="phone" required placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}">
                </div>
                <div class="form-group">
                    <label>Address *</label>
                    <textarea name="address" required rows="3" placeholder="Enter your complete address"></textarea>
                </div>
                <div class="form-group">
                    <label>Category *</label>
                    <input type="text" name="category" required placeholder="Enter product category (e.g., Electronics, Garments, etc.)">
                </div>
                <button type="submit" class="submit-btn">Submit Request</button>
            </form>
        </div>
    </div>

    <div id="auctionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üî® Live Auction</h2>
                <button class="close-btn" onclick="closeModal('auction')">&times;</button>
            </div>
            <div class="error-message" id="auctionError"></div>
            <form onsubmit="handleSubmit(event, 'auction')">
                <div class="form-group">
                    <label>Name *</label>
                    <input type="text" name="name" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label>WhatsApp Number *</label>
                    <input type="tel" name="phone" required placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}">
                </div>
                <div class="form-group">
                    <label>Address *</label>
                    <textarea name="address" required rows="3" placeholder="Enter your complete address"></textarea>
                </div>
                <div class="form-group">
                    <label>Category *</label>
                    <input type="text" name="category" required placeholder="Enter product category (e.g., Electronics, Garments, etc.)">
                </div>
                <button type="submit" class="submit-btn">Join Auction</button>
            </form>
        </div>
    </div>

    <div id="successModal" class="success-modal">
        <div class="success-content">
            <div class="success-icon">üéâ</div>
            <h2 class="success-title">Welcome to AK Brands Marketing¬© Family</h2>
            <p class="success-message">
                Thank you for choosing us as your trusted B2B liquidation partner! We're excited to have you on board.
            </p>
            <div class="discount-box">
                <p style="margin: 0; font-size: 1rem; font-weight: 600; color: white;">üéÅ EXCLUSIVE FIRST ORDER OFFER</p>
                <div class="discount-code" id="discountCode">AK1</div>
                <p style="margin: 0; opacity: 0.9; color: white; font-size: 0.9rem;">Get 2% OFF on your first order!</p>
            </div>
            <div class="privacy-notice">
                <strong>üîí Your Data is Safe With Us</strong><br>
                We will not use or share your data with any 3rd party until we get your confirmation. Your privacy and trust are our top priorities.
            </div>
            <a href="https://chat.whatsapp.com/FnBohcWrSobFcloZwC6Hnq" target="_blank" class="whatsapp-btn">
                üì± Join WhatsApp Community
            </a>
            <br>
            <button class="close-success-btn" onclick="sendToWhatsApp()">Continue</button>
        </div>
    </div>

    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>üè¢ Bulk Liquidation</h3>
                    <p>Access premium liquidation stock lots from top brands at competitive prices. Perfect for retailers and wholesalers.</p>
                </div>
                <div class="feature-card">
                    <h3>ü§ù Trusted Network</h3>
                    <p>Connect with verified buyers and sellers across India. Build lasting business relationships.</p>
                </div>
                <div class="feature-card">
                    <h3>üì¶ Quality Assurance</h3>
                    <p>All stock lots are verified and quality-checked to ensure you get the best value for your investment.</p>
                </div>
                <div class="feature-card">
                    <h3>üöö Logistics Support</h3>
                    <p>End-to-end logistics solutions to ensure smooth delivery of your liquidation stock across India.</p>
                </div>
                <div class="feature-card">
                    <h3>üíº Business Solutions</h3>
                    <p>Customized B2B solutions tailored to your specific business needs and requirements.</p>
                </div>
                <div class="feature-card">
                    <h3>üìä Market Insights</h3>
                    <p>Get access to market trends, pricing insights, and industry analysis to make informed decisions.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title">About AK Brands Marketing</h2>
            <div class="about-content">
                <p>AK Brands Marketing is India's premier B2B liquidation platform, connecting businesses with premium stock lots from leading brands. With years of experience in the liquidation industry, we've built a reputation for reliability, quality, and exceptional service.</p>
                <p>Our mission is to provide a transparent, efficient, and trustworthy marketplace where businesses can buy and sell liquidation stock with confidence. We serve retailers, wholesalers, and distributors across India, helping them maximize value and minimize risk.</p>
                <p>Whether you're looking to source quality products at competitive prices or liquidate excess inventory, AK Brands Marketing is your trusted partner for success.</p>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="contact-info">
            <h2>Get In Touch</h2>
            <div class="contact-details">
                <p>üìß Email: <a href="mailto:abdul@akbrandsmarketing.com">abdul@akbrandsmarketing.com</a></p>
                <p>üì± Phone: <a href="tel:+918660502217">+91 8660502217</a></p>
                <p>üìç Location: Bengaluru, Karnataka, India</p>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 AK Brands Marketing. All rights reserved.</p>
    </footer>

    <script>
        const COMPANY_INFO = {
            name: "AK Brands Marketing",
            tagline: "Trusted Firm",
            email: "abdul@akbrandsmarketing.com",
            phone: "+91 8660502217",
            location: "Bengaluru, Karnataka, India",
            logoUrl: "https://nyc3.digitaloceanspaces.com/bhindi-drive/files/e42f16e8-8f96-4b73-9b52-8fe6992865e2/2025-12-11T20-02-47-298Z-a17e40fd-chat-image-1765483367276-0.jpg"
        };
        
        let isOrdersLoggedIn = false;
        let codeCounter = parseInt(localStorage.getItem('akCodeCounter') || '1');
        let registeredPhones = JSON.parse(localStorage.getItem('akRegisteredPhones') || '{}');
        let customerData = null;
        let orders = JSON.parse(localStorage.getItem('akOrders') || '[]');
        let orderCounter = parseInt(localStorage.getItem('akOrderCounter') || '1');
        let editingOrderIndex = null;
        
        // Customer database
        let customers = JSON.parse(localStorage.getItem('akCustomers') || '[]');
        
        // OTP System
        let generatedOTP = '';
        let otpTimer = null;
        let resendTimer = null;
        let otpExpiryTime = null;

        function generateOTP() {
            return Math.floor(100000 + Math.random() * 900000).toString();
        }

        function openOrdersWithOTP() {
            if (isOrdersLoggedIn) {
                showOrdersSection();
            } else {
                document.getElementById('otpModal').classList.add('show');
                sendOTP();
            }
            document.getElementById('menuDropdown').classList.remove('show');
        }

        function sendOTP() {
            generatedOTP = generateOTP();
            otpExpiryTime = Date.now() + (5 * 60 * 1000); // 5 minutes
            
            document.getElementById('otpLoading').classList.add('show');
            document.getElementById('otpInputSection').style.display = 'none';
            
            // Send OTP via WhatsApp
            const message = `üîê *AK Brands Marketing - Secure Login*\n\nYour OTP for Orders Dashboard:\n\n*${generatedOTP}*\n\nValid for 5 minutes.\n\n‚ö†Ô∏è Do not share this code with anyone.`;
            const whatsappUrl = `https://wa.me/918660502217?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            // Simulate sending delay
            setTimeout(() => {
                document.getElementById('otpLoading').classList.remove('show');
                document.getElementById('otpInputSection').style.display = 'block';
                document.getElementById('otp1').focus();
                startOTPTimer();
                startResendTimer();
            }, 2000);
        }

        function startOTPTimer() {
            updateTimerDisplay();
            otpTimer = setInterval(() => {
                if (Date.now() >= otpExpiryTime) {
                    clearInterval(otpTimer);
                    document.getElementById('otpTimer').textContent = '‚è∞ OTP expired. Please request a new one.';
                    document.getElementById('otpTimer').style.color = '#ff6b6b';
                } else {
                    updateTimerDisplay();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const remaining = Math.max(0, Math.floor((otpExpiryTime - Date.now()) / 1000));
            const minutes = Math.floor(remaining / 60);
            const seconds = remaining % 60;
            document.getElementById('otpTimer').textContent = `‚è±Ô∏è OTP expires in ${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('otpTimer').style.color = 'rgba(255,255,255,0.8)';
        }

        function startResendTimer() {
            const resendBtn = document.getElementById('resendBtn');
            let countdown = 60;
            resendBtn.disabled = true;
            resendBtn.textContent = `Resend (${countdown}s)`;
            
            resendTimer = setInterval(() => {
                countdown--;
                if (countdown <= 0) {
                    clearInterval(resendTimer);
                    resendBtn.disabled = false;
                    resendBtn.textContent = 'Resend OTP';
                } else {
                    resendBtn.textContent = `Resend (${countdown}s)`;
                }
            }, 1000);
        }

        function resendOTP() {
            clearInterval(otpTimer);
            clearInterval(resendTimer);
            clearOTPInputs();
            sendOTP();
        }

        function moveToNext(current, nextId) {
            if (current.value.length === 1 && nextId) {
                document.getElementById(nextId).focus();
            }
        }

        function moveToPrev(event, current, prevId) {
            if (event.key === 'Backspace' && current.value === '' && prevId) {
                document.getElementById(prevId).focus();
            }
        }

        function handleLastDigit() {
            const otp6 = document.getElementById('otp6');
            if (otp6.value.length === 1) {
                verifyOTP();
            }
        }

        function verifyOTP() {
            const enteredOTP = 
                document.getElementById('otp1').value +
                document.getElementById('otp2').value +
                document.getElementById('otp3').value +
                document.getElementById('otp4').value +
                document.getElementById('otp5').value +
                document.getElementById('otp6').value;
            
            if (enteredOTP.length !== 6) {
                showOTPError('Please enter complete 6-digit OTP');
                return;
            }
            
            if (Date.now() >= otpExpiryTime) {
                showOTPError('OTP has expired. Please request a new one.');
                return;
            }
            
            if (enteredOTP === generatedOTP) {
                isOrdersLoggedIn = true;
                clearInterval(otpTimer);
                clearInterval(resendTimer);
                closeOTPModal();
                showOrdersSection();
            } else {
                showOTPError('Invalid OTP. Please try again.');
                clearOTPInputs();
                document.getElementById('otp1').focus();
            }
        }

        function showOTPError(message) {
            const errorDiv = document.getElementById('otpError');
            errorDiv.textContent = `‚ùå ${message}`;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 3000);
        }

        function clearOTPInputs() {
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`otp${i}`).value = '';
            }
        }

        function closeOTPModal() {
            document.getElementById('otpModal').classList.remove('show');
            clearInterval(otpTimer);
            clearInterval(resendTimer);
            clearOTPInputs();
        }

        function saveCustomer(customerDetails) {
            const existingIndex = customers.findIndex(c => c.mobileNumber === customerDetails.mobileNumber);
            
            if (existingIndex >= 0) {
                customers[existingIndex] = customerDetails;
            } else {
                customers.push(customerDetails);
            }
            
            localStorage.setItem('akCustomers', JSON.stringify(customers));
            updateCustomerDropdown();
        }

        function updateCustomerDropdown() {
            const selector = document.getElementById('customerSelector');
            selector.innerHTML = '<option value="">-- Select a customer --</option>';
            
            customers.forEach((customer, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = `${customer.customerName} - ${customer.businessName} (${customer.mobileNumber})`;
                selector.appendChild(option);
            });
        }

        function loadCustomerData() {
            const selector = document.getElementById('customerSelector');
            const selectedIndex = selector.value;
            
            if (selectedIndex === '') {
                return;
            }
            
            const customer = customers[selectedIndex];
            
            document.getElementById('customerName').value = customer.customerName || '';
            document.getElementById('businessName').value = customer.businessName || '';
            document.getElementById('mobileNumber').value = customer.mobileNumber || '';
            document.getElementById('address').value = customer.address || '';
            document.getElementById('city').value = customer.city || '';
            document.getElementById('state').value = customer.state || '';
            document.getElementById('pincode').value = customer.pincode || '';
        }

        function clearCustomerSelection() {
            document.getElementById('customerSelector').value = '';
            document.getElementById('customerName').value = '';
            document.getElementById('businessName').value = '';
            document.getElementById('mobileNumber').value = '';
            document.getElementById('address').value = '';
            document.getElementById('city').value = '';
            document.getElementById('state').value = '';
            document.getElementById('pincode').value = '';
        }

        function toggleMenu() {
            const dropdown = document.getElementById('menuDropdown');
            const animationSection = document.getElementById('animationSection');
            dropdown.classList.toggle('show');
            if (dropdown.classList.contains('show')) {
                animationSection.classList.add('paused');
            } else {
                animationSection.classList.remove('paused');
            }
        }

        function toggleExportMenu() {
            document.getElementById('exportDropdown').classList.toggle('show');
        }

        window.onclick = function(event) {
            if (!event.target.matches('.menu-button') && !event.target.matches('.export-btn')) {
                const dropdowns = document.getElementsByClassName('dropdown-content');
                const animationSection = document.getElementById('animationSection');
                const exportDropdown = document.getElementById('exportDropdown');
                
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                        animationSection.classList.remove('paused');
                    }
                }
                
                if (exportDropdown && exportDropdown.classList.contains('show')) {
                    exportDropdown.classList.remove('show');
                }
            }
            
            if (event.target.classList.contains('otp-modal')) {
                closeOTPModal();
            }
        }

        function showSection(section) {
            document.getElementById('ordersSection').classList.remove('show');
            document.getElementById('home').style.display = 'flex';
            document.getElementById('features').style.display = 'block';
            document.getElementById('about').style.display = 'block';
            document.getElementById('contact').style.display = 'block';
            document.getElementById(section).scrollIntoView({ behavior: 'smooth' });
            document.getElementById('menuDropdown').classList.remove('show');
        }

        function showOrdersSection() {
            document.getElementById('home').style.display = 'none';
            document.getElementById('features').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            document.getElementById('ordersSection').classList.add('show');
            updateOrderSerial();
            updateCustomerDropdown();
            displaySavedOrders();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function logoutOrders() {
            isOrdersLoggedIn = false;
            showSection('home');
        }

        function updateOrderSerial() {
            if (editingOrderIndex !== null) {
                document.getElementById('orderSerial').textContent = `Order #${orders[editingOrderIndex].orderNumber}`;
            } else {
                document.getElementById('orderSerial').textContent = `Order #${orderCounter}`;
            }
        }

        function createNewOrder() {
            editingOrderIndex = null;
            document.getElementById('customerOrderForm').reset();
            document.getElementById('customerSelector').value = '';
            updateOrderSerial();
            document.querySelector('.cancel-edit-btn').style.display = 'none';
            document.querySelector('.save-order-btn').textContent = 'üíæ Save Order';
            document.getElementById('orderFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function editOrder(index) {
            editingOrderIndex = index;
            const order = orders[index];
            const form = document.getElementById('customerOrderForm');
            
            Object.keys(order).forEach(key => {
                if (form[key] && key !== 'orderNumber' && key !== 'timestamp' && key !== 'whatsappScreenshotData' && key !== 'paymentScreenshotData') {
                    form[key].value = order[key] || '';
                }
            });
            
            const customerIndex = customers.findIndex(c => c.mobileNumber === order.mobileNumber);
            if (customerIndex >= 0) {
                document.getElementById('customerSelector').value = customerIndex;
            }
            
            updateOrderSerial();
            document.querySelector('.cancel-edit-btn').style.display = 'block';
            document.querySelector('.save-order-btn').textContent = '‚úèÔ∏è Update Order';
            document.getElementById('orderFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function cancelEdit() {
            createNewOrder();
        }

        function deleteOrder(index) {
            if (confirm(`Are you sure you want to delete Order #${orders[index].orderNumber}?`)) {
                orders.splice(index, 1);
                localStorage.setItem('akOrders', JSON.stringify(orders));
                displaySavedOrders();
                alert('‚úÖ Order deleted successfully!');
            }
        }

        function displaySavedOrders() {
            const ordersGrid = document.getElementById('ordersGrid');
            
            if (orders.length === 0) {
                ordersGrid.innerHTML = '<div class="no-orders">No orders saved yet. Create your first order above!</div>';
                return;
            }
            
            ordersGrid.innerHTML = orders.map((order, index) => {
                const date = new Date(order.timestamp);
                const formattedDate = date.toLocaleDateString('en-IN', { 
                    day: '2-digit', 
                    month: 'short', 
                    year: 'numeric' 
                });
                
                return `
                    <div class="order-card">
                        <div class="order-card-header">
                            <div class="order-number">Order #${order.orderNumber}</div>
                            <div class="order-date">${formattedDate}</div>
                        </div>
                        <div class="order-info">
                            <div class="order-info-row">
                                <span class="order-info-label">Customer:</span>
                                <span class="order-info-value">${order.customerName}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Business:</span>
                                <span class="order-info-value">${order.businessName}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Lot Number:</span>
                                <span class="order-info-value">${order.lotNumber || 'N/A'}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Category:</span>
                                <span class="order-info-value">${order.category || 'N/A'}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Total Amount:</span>
                                <span class="order-info-value">‚Çπ${order.totalAmount || '0'}</span>
                            </div>
                        </div>
                        <div class="order-card-actions">
                            <button class="order-action-btn edit-btn" onclick="editOrder(${index})">‚úèÔ∏è Edit</button>
                            <button class="order-action-btn download-btn" onclick="downloadOrder(${index})">üì• Download</button>
                            <button class="order-action-btn delete-btn" onclick="deleteOrder(${index})">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        async function handleFileUpload(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = (e) => resolve(e.target.result);
                reader.readAsDataURL(file);
            });
        }

        document.getElementById('customerOrderForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const orderData = {
                orderNumber: editingOrderIndex !== null ? orders[editingOrderIndex].orderNumber : orderCounter,
                timestamp: editingOrderIndex !== null ? orders[editingOrderIndex].timestamp : new Date().toISOString()
            };
            
            for (let [key, value] of formData.entries()) {
                if (key === 'whatsappScreenshot' || key === 'paymentScreenshot') {
                    if (value && value.size > 0) {
                        orderData[key + 'Data'] = await handleFileUpload(value);
                    } else if (editingOrderIndex !== null) {
                        orderData[key + 'Data'] = orders[editingOrderIndex][key + 'Data'] || '';
                    }
                } else {
                    orderData[key] = value;
                }
            }
            
            const customerDetails = {
                customerName: orderData.customerName,
                businessName: orderData.businessName,
                mobileNumber: orderData.mobileNumber,
                address: orderData.address,
                city: orderData.city,
                state: orderData.state,
                pincode: orderData.pincode
            };
            saveCustomer(customerDetails);
            
            if (editingOrderIndex !== null) {
                orders[editingOrderIndex] = orderData;
                alert(`‚úÖ Order #${orderData.orderNumber} updated successfully!`);
            } else {
                orders.push(orderData);
                orderCounter++;
                localStorage.setItem('akOrderCounter', orderCounter.toString());
                alert(`‚úÖ Order #${orderData.orderNumber} saved successfully!`);
            }
            
            localStorage.setItem('akOrders', JSON.stringify(orders));
            createNewOrder();
            displaySavedOrders();
        });

        function downloadOrder(index) {
            const order = orders[index];
            const dropdown = document.createElement('div');
            dropdown.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:2rem;border-radius:10px;box-shadow:0 10px 40px rgba(0,0,0,0.3);z-index:4000;';
            dropdown.innerHTML = `
                <h3 style="margin-bottom:1rem;color:#2c3e50;">Download Order #${order.orderNumber}</h3>
                <button onclick="exportOrderToPDF(${index}); document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#e74c3c;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">üìÑ PDF</button>
                <button onclick="exportOrderToExcel(${index}); document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#27ae60;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">üìä Excel</button>
                <button onclick="exportOrderToWord(${index}); document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#3498db;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">üìù Word</button>
                <button onclick="document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#95a5a6;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">‚ùå Cancel</button>
            `;
            document.body.appendChild(dropdown);
        }

        function sanitizeFilename(str) {
            return str.replace(/[^a-z0-9]/gi, '_').replace(/_+/g, '_').substring(0, 50);
        }

        function exportOrderToPDF(index) {
            const order = orders[index];
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Professional Header with Logo
            doc.setFillColor(102, 126, 234);
            doc.rect(0, 0, 210, 45, 'F');
            
            // Logo placeholder
            doc.setFillColor(255, 255, 255);
            doc.circle(20, 22, 12, 'F');
            doc.setFontSize(16);
            doc.setTextColor(102, 126, 234);
            doc.setFont(undefined, 'bold');
            doc.text('AK', 14, 25);
            
            // Company Name
            doc.setFontSize(24);
            doc.setTextColor(255, 255, 255);
            doc.setFont(undefined, 'bold');
            doc.text(COMPANY_INFO.name, 40, 20);
            
            // Tagline
            doc.setFontSize(10);
            doc.setFont(undefined, 'italic');
            doc.text(COMPANY_INFO.tagline, 40, 26);
            
            // Contact Info
            doc.setFontSize(9);
            doc.setFont(undefined, 'normal');
            doc.text(`üìß ${COMPANY_INFO.email}`, 40, 32);
            doc.text(`üì± ${COMPANY_INFO.phone}`, 40, 37);
            doc.text(`üìç ${COMPANY_INFO.location}`, 40, 42);
            
            // Order Title
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(18);
            doc.setFont(undefined, 'bold');
            doc.text(`CUSTOMER ORDER`, 15, 58);
            doc.setFontSize(12);
            doc.setFont(undefined, 'normal');
            doc.text(`Order #${order.orderNumber}  |  Date: ${new Date(order.timestamp).toLocaleDateString('en-IN')}`, 15, 65);
            
            let y = 75;
            const lineHeight = 6;
            const leftMargin = 15;
            const rightMargin = 195;
            
            // Helper function to add section
            function addSection(title, fields) {
                if (y > 270) {
                    doc.addPage();
                    y = 20;
                }
                
                // Section Title
                doc.setFillColor(102, 126, 234);
                doc.rect(leftMargin, y - 5, rightMargin - leftMargin, 8, 'F');
                doc.setFontSize(11);
                doc.setFont(undefined, 'bold');
                doc.setTextColor(255, 255, 255);
                doc.text(title, leftMargin + 2, y);
                y += 10;
                
                // Section Content
                doc.setFontSize(9);
                doc.setFont(undefined, 'normal');
                doc.setTextColor(0, 0, 0);
                
                fields.forEach(field => {
                    if (order[field.key]) {
                        const label = field.label;
                        const value = String(order[field.key]);
                        
                        // Check if we need a new page
                        if (y > 280) {
                            doc.addPage();
                            y = 20;
                        }
                        
                        // Label in bold
                        doc.setFont(undefined, 'bold');
                        doc.text(`${label}:`, leftMargin + 2, y);
                        
                        // Value in normal
                        doc.setFont(undefined, 'normal');
                        const labelWidth = doc.getTextWidth(`${label}: `);
                        
                        // Handle long text wrapping
                        const maxWidth = rightMargin - leftMargin - labelWidth - 4;
                        const lines = doc.splitTextToSize(value, maxWidth);
                        
                        lines.forEach((line, i) => {
                            if (i === 0) {
                                doc.text(line, leftMargin + 2 + labelWidth, y);
                            } else {
                                y += lineHeight;
                                if (y > 280) {
                                    doc.addPage();
                                    y = 20;
                                }
                                doc.text(line, leftMargin + 2 + labelWidth, y);
                            }
                        });
                        
                        y += lineHeight;
                    }
                });
                
                y += 3;
            }
            
            // 1. Customer Details
            addSection('üë§ CUSTOMER DETAILS', [
                { key: 'customerName', label: 'Name' },
                { key: 'businessName', label: 'Business Name' },
                { key: 'mobileNumber', label: 'Mobile Number' },
                { key: 'address', label: 'Address' },
                { key: 'city', label: 'City' },
                { key: 'state', label: 'State' },
                { key: 'pincode', label: 'Pincode' }
            ]);
            
            // 2. Order Identification
            addSection('üîñ ORDER IDENTIFICATION', [
                { key: 'lotNumber', label: 'Lot Number' },
                { key: 'lotDate', label: 'Lot Date' },
                { key: 'lotBookPerson', label: 'Lot Book Person' }
            ]);
            
            // 3. Product Details
            addSection('üì¶ PRODUCT DETAILS', [
                { key: 'category', label: 'Category' },
                { key: 'description', label: 'Description' },
                { key: 'quantity', label: 'Quantity' },
                { key: 'ratePerPiece', label: 'Rate Per Piece (‚Çπ)' },
                { key: 'totalAmount', label: 'Total Amount (‚Çπ)' },
                { key: 'stockCondition', label: 'Stock Condition' }
            ]);
            
            // 4. Payment Details
            addSection('üí≥ PAYMENT DETAILS', [
                { key: 'paymentMethod', label: 'Payment Method' },
                { key: 'tokenAmount', label: 'Token Amount (‚Çπ)' },
                { key: 'tokenReference', label: 'Token Reference' },
                { key: 'partPayment1', label: 'Part Payment 1 (‚Çπ)' },
                { key: 'partPayment1Reference', label: 'Part Payment 1 Ref' },
                { key: 'partPayment2', label: 'Part Payment 2 (‚Çπ)' },
                { key: 'partPayment2Reference', label: 'Part Payment 2 Ref' },
                { key: 'partPayment3', label: 'Part Payment 3 (‚Çπ)' },
                { key: 'partPayment3Reference', label: 'Part Payment 3 Ref' },
                { key: 'finalPayment', label: 'Final Payment (‚Çπ)' },
                { key: 'finalPaymentReference', label: 'Final Payment Ref' }
            ]);
            
            // 5. Logistics Details
            addSection('üöö LOGISTICS DETAILS', [
                { key: 'dispatchFrom', label: 'Dispatch From' },
                { key: 'dispatchTo', label: 'Dispatch To' },
                { key: 'dispatchDate', label: 'Dispatch Date' },
                { key: 'courierName', label: 'Courier Name' },
                { key: 'lrNumber', label: 'LR Number' },
                { key: 'parcelCount', label: 'Parcel Count' },
                { key: 'estimatedDeliveryDate', label: 'Est. Delivery Date' }
            ]);
            
            // 6. Order Status
            addSection('üìä ORDER STATUS', [
                { key: 'orderConfirmedDate', label: 'Order Confirmed' },
                { key: 'packedDate', label: 'Packed' },
                { key: 'dispatchedDate', label: 'Dispatched' },
                { key: 'deliveredDate', label: 'Delivered' },
                { key: 'closedDate', label: 'Closed' }
            ]);
            
            // 7. Remarks
            if (order.remarks) {
                addSection('üìù REMARKS', [
                    { key: 'remarks', label: 'Notes' }
                ]);
            }
            
            // Footer on last page
            const pageCount = doc.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);
                doc.setFontSize(8);
                doc.setTextColor(128, 128, 128);
                doc.text(`Page ${i} of ${pageCount}`, 105, 290, { align: 'center' });
                doc.text(`Generated on ${new Date().toLocaleDateString('en-IN')}`, 15, 290);
            }
            
            // Generate filename: AKBM_LotNo_CustomerName
            const lotNo = sanitizeFilename(order.lotNumber || 'NoLot');
            const customerName = sanitizeFilename(order.customerName || 'Customer');
            const filename = `AKBM_${lotNo}_${customerName}.pdf`;
            
            doc.save(filename);
        }

        function exportOrderToExcel(index) {
            const order = orders[index];
            const ws_data = [
                [COMPANY_INFO.name],
                [COMPANY_INFO.tagline],
                [`Email: ${COMPANY_INFO.email}  |  Phone: ${COMPANY_INFO.phone}`],
                [`Location: ${COMPANY_INFO.location}`],
                [],
                ['Order Number', order.orderNumber],
                ['Date', new Date(order.timestamp).toLocaleDateString()],
                [],
                ['CUSTOMER DETAILS'],
                ['Name', order.customerName || ''],
                ['Business Name', order.businessName || ''],
                ['Mobile Number', order.mobileNumber || ''],
                ['Address', order.address || ''],
                ['City', order.city || ''],
                ['State', order.state || ''],
                ['Pincode', order.pincode || ''],
                [],
                ['ORDER IDENTIFICATION'],
                ['Lot Number', order.lotNumber || ''],
                ['Lot Date', order.lotDate || ''],
                ['Lot Book Person', order.lotBookPerson || ''],
                [],
                ['PRODUCT DETAILS'],
                ['Category', order.category || ''],
                ['Description', order.description || ''],
                ['Quantity', order.quantity || ''],
                ['Rate Per Piece', order.ratePerPiece || ''],
                ['Total Amount', order.totalAmount || ''],
                ['Stock Condition', order.stockCondition || ''],
                [],
                ['PAYMENT DETAILS'],
                ['Payment Method', order.paymentMethod || ''],
                ['Token Amount', order.tokenAmount || ''],
                ['Token Reference', order.tokenReference || ''],
                ['Part Payment 1', order.partPayment1 || ''],
                ['Part Payment 1 Reference', order.partPayment1Reference || ''],
                ['Part Payment 2', order.partPayment2 || ''],
                ['Part Payment 2 Reference', order.partPayment2Reference || ''],
                ['Part Payment 3', order.partPayment3 || ''],
                ['Part Payment 3 Reference', order.partPayment3Reference || ''],
                ['Final Payment', order.finalPayment || ''],
                ['Final Payment Reference', order.finalPaymentReference || ''],
                [],
                ['LOGISTICS DETAILS'],
                ['Dispatch From', order.dispatchFrom || ''],
                ['Dispatch To', order.dispatchTo || ''],
                ['Dispatch Date', order.dispatchDate || ''],
                ['Courier Name', order.courierName || ''],
                ['LR Number', order.lrNumber || ''],
                ['Parcel Count', order.parcelCount || ''],
                ['Estimated Delivery Date', order.estimatedDeliveryDate || ''],
                [],
                ['ORDER STATUS'],
                ['Order Confirmed Date', order.orderConfirmedDate || ''],
                ['Packed Date', order.packedDate || ''],
                ['Dispatched Date', order.dispatchedDate || ''],
                ['Delivered Date', order.deliveredDate || ''],
                ['Closed Date', order.closedDate || ''],
                [],
                ['REMARKS'],
                ['Notes', order.remarks || '']
            ];
            
            const ws = XLSX.utils.aoa_to_sheet(ws_data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, `Order ${order.orderNumber}`);
            
            const lotNo = sanitizeFilename(order.lotNumber || 'NoLot');
            const customerName = sanitizeFilename(order.customerName || 'Customer');
            const filename = `AKBM_${lotNo}_${customerName}.xlsx`;
            
            XLSX.writeFile(wb, filename);
        }

        function exportOrderToWord(index) {
            const order = orders[index];
            let content = `${COMPANY_INFO.name}\n`;
            content += `${COMPANY_INFO.tagline}\n`;
            content += `Email: ${COMPANY_INFO.email}  |  Phone: ${COMPANY_INFO.phone}\n`;
            content += `Location: ${COMPANY_INFO.location}\n`;
            content += `\n${'='.repeat(80)}\n\n`;
            
            content += `CUSTOMER ORDER\n`;
            content += `Order #${order.orderNumber}\n`;
            content += `Date: ${new Date(order.timestamp).toLocaleDateString()}\n\n`;
            
            content += `CUSTOMER DETAILS\n`;
            content += `${'‚îÄ'.repeat(80)}\n`;
            content += `Name: ${order.customerName || ''}\n`;
            content += `Business Name: ${order.businessName || ''}\n`;
            content += `Mobile Number: ${order.mobileNumber || ''}\n`;
            content += `Address: ${order.address || ''}\n`;
            content += `City: ${order.city || ''}\n`;
            content += `State: ${order.state || ''}\n`;
            content += `Pincode: ${order.pincode || ''}\n\n`;
            
            content += `ORDER IDENTIFICATION\n`;
            content += `${'‚îÄ'.repeat(80)}\n`;
            content += `Lot Number: ${order.lotNumber || ''}\n`;
            content += `Lot Date: ${order.lotDate || ''}\n`;
            content += `Lot Book Person: ${order.lotBookPerson || ''}\n\n`;
            
            content += `PRODUCT DETAILS\n`;
            content += `${'‚îÄ'.repeat(80)}\n`;
            content += `Category: ${order.category || ''}\n`;
            content += `Description: ${order.description || ''}\n`;
            content += `Quantity: ${order.quantity || ''}\n`;
            content += `Rate Per Piece: ${order.ratePerPiece || ''}\n`;
            content += `Total Amount: ${order.totalAmount || ''}\n`;
            content += `Stock Condition: ${order.stockCondition || ''}\n\n`;
            
            content += `PAYMENT DETAILS\n`;
            content += `${'‚îÄ'.repeat(80)}\n`;
            content += `Payment Method: ${order.paymentMethod || ''}\n`;
            content += `Token Amount: ${order.tokenAmount || ''}\n`;
            content += `Token Reference: ${order.tokenReference || ''}\n`;
            content += `Part Payment 1: ${order.partPayment1 || ''}\n`;
            content += `Part Payment 1 Reference: ${order.partPayment1Reference || ''}\n`;
            content += `Part Payment 2: ${order.partPayment2 || ''}\n`;
            content += `Part Payment 2 Reference: ${order.partPayment2Reference || ''}\n`;
            content += `Part Payment 3: ${order.partPayment3 || ''}\n`;
            content += `Part Payment 3 Reference: ${order.partPayment3Reference || ''}\n`;
            content += `Final Payment: ${order.finalPayment || ''}\n`;
            content += `Final Payment Reference: ${order.finalPaymentReference || ''}\n\n`;
            
            content += `LOGISTICS DETAILS\n`;
            content += `${'‚îÄ'.repeat(80)}\n`;
            content += `Dispatch From: ${order.dispatchFrom || ''}\n`;
            content += `Dispatch To: ${order.dispatchTo || ''}\n`;
            content += `Dispatch Date: ${order.dispatchDate || ''}\n`;
            content += `Courier Name: ${order.courierName || ''}\n`;
            content += `LR Number: ${order.lrNumber || ''}\n`;
            content += `Parcel Count: ${order.parcelCount || ''}\n`;
            content += `Estimated Delivery Date: ${order.estimatedDeliveryDate || ''}\n\n`;
            
            content += `ORDER STATUS\n`;
            content += `${'‚îÄ'.repeat(80)}\n`;
            content += `Order Confirmed Date: ${order.orderConfirmedDate || ''}\n`;
            content += `Packed Date: ${order.packedDate || ''}\n`;
            content += `Dispatched Date: ${order.dispatchedDate || ''}\n`;
            content += `Delivered Date: ${order.deliveredDate || ''}\n`;
            content += `Closed Date: ${order.closedDate || ''}\n\n`;
            
            content += `REMARKS\n`;
            content += `${'‚îÄ'.repeat(80)}\n`;
            content += `${order.remarks || ''}\n`;
            
            const blob = new Blob([content], { type: 'application/msword' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            
            const lotNo = sanitizeFilename(order.lotNumber || 'NoLot');
            const customerName = sanitizeFilename(order.customerName || 'Customer');
            a.download = `AKBM_${lotNo}_${customerName}.doc`;
            
            a.click();
        }

        function exportAllToPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Company Header
            doc.setFillColor(102, 126, 234);
            doc.rect(0, 0, 210, 35, 'F');
            
            doc.setFontSize(22);
            doc.setTextColor(255, 255, 255);
            doc.setFont(undefined, 'bold');
            doc.text(COMPANY_INFO.name, 105, 15, { align: 'center' });
            
            doc.setFontSize(10);
            doc.setFont(undefined, 'normal');
            doc.text(COMPANY_INFO.tagline, 105, 21, { align: 'center' });
            doc.text(`üìß ${COMPANY_INFO.email}  |  üì± ${COMPANY_INFO.phone}`, 105, 27, { align: 'center' });
            doc.text(`üìç ${COMPANY_INFO.location}`, 105, 32, { align: 'center' });
            
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(18);
            doc.setFont(undefined, 'bold');
            doc.text('All Orders', 105, 45, { align: 'center' });
            
            orders.forEach((order, index) => {
                if (index > 0) doc.addPage();
                
                doc.setFontSize(16);
                doc.text(`Order #${order.orderNumber}`, 15, 60);
                
                let y = 70;
                const lineHeight = 7;
                
                doc.setFontSize(10);
                doc.text(`Customer: ${order.customerName || 'N/A'}`, 15, y); y += lineHeight;
                doc.text(`Business: ${order.businessName || 'N/A'}`, 15, y); y += lineHeight;
                doc.text(`Lot Number: ${order.lotNumber || 'N/A'}`, 15, y); y += lineHeight;
                doc.text(`Category: ${order.category || 'N/A'}`, 15, y); y += lineHeight;
                doc.text(`Total Amount: ‚Çπ${order.totalAmount || '0'}`, 15, y); y += lineHeight;
            });
            
            doc.save('AKBM_All_Orders.pdf');
            document.getElementById('exportDropdown').classList.remove('show');
        }

        function exportAllToExcel() {
            const ws_data = [
                [COMPANY_INFO.name],
                [COMPANY_INFO.tagline],
                [`Email: ${COMPANY_INFO.email}  |  Phone: ${COMPANY_INFO.phone}`],
                [`Location: ${COMPANY_INFO.location}`],
                [],
                ['Order #', 'Customer', 'Business', 'Lot Number', 'Category', 'Total Amount', 'Date']
            ];
            
            orders.forEach(order => {
                ws_data.push([
                    order.orderNumber,
                    order.customerName || '',
                    order.businessName || '',
                    order.lotNumber || '',
                    order.category || '',
                    order.totalAmount || '',
                    new Date(order.timestamp).toLocaleDateString()
                ]);
            });
            
            const ws = XLSX.utils.aoa_to_sheet(ws_data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'All Orders');
            XLSX.writeFile(wb, 'AKBM_All_Orders.xlsx');
            document.getElementById('exportDropdown').classList.remove('show');
        }

        function exportAllToWord() {
            let content = `${COMPANY_INFO.name}\n`;
            content += `${COMPANY_INFO.tagline}\n`;
            content += `Email: ${COMPANY_INFO.email}  |  Phone: ${COMPANY_INFO.phone}\n`;
            content += `Location: ${COMPANY_INFO.location}\n`;
            content += `\n${'='.repeat(80)}\n\n`;
            content += 'ALL ORDERS\n\n';
            
            orders.forEach(order => {
                content += `ORDER #${order.orderNumber}\n`;
                content += `Customer: ${order.customerName || 'N/A'}\n`;
                content += `Business: ${order.businessName || 'N/A'}\n`;
                content += `Lot Number: ${order.lotNumber || 'N/A'}\n`;
                content += `Category: ${order.category || 'N/A'}\n`;
                content += `Total Amount: ‚Çπ${order.totalAmount || '0'}\n`;
                content += `Date: ${new Date(order.timestamp).toLocaleDateString()}\n\n`;
                content += '---\n\n';
            });
            
            const blob = new Blob([content], { type: 'application/msword' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'AKBM_All_Orders.doc';
            a.click();
            document.getElementById('exportDropdown').classList.remove('show');
        }

        function openModal(type) {
            const modal = document.getElementById(type + 'Modal');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
            const errorDiv = document.getElementById(type + 'Error');
            errorDiv.classList.remove('show');
            errorDiv.textContent = '';
        }

        function closeModal(type) {
            const modal = document.getElementById(type + 'Modal');
            modal.classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function showError(type, message) {
            const errorDiv = document.getElementById(type + 'Error');
            errorDiv.textContent = message;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 5000);
        }

        function normalizePhoneNumber(phone) {
            let cleaned = phone.replace(/\D/g, '');
            if (cleaned.startsWith('91') && cleaned.length > 10) {
                cleaned = cleaned.substring(2);
            }
            if (cleaned.startsWith('0')) {
                cleaned = cleaned.substring(1);
            }
            if (cleaned.length === 10) {
                return '91' + cleaned;
            }
            return cleaned;
        }

        function handleSubmit(event, type) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const name = formData.get('name');
            const phone = formData.get('phone');
            const address = formData.get('address');
            const category = formData.get('category');
            const normalizedPhone = normalizePhoneNumber(phone);
            
            if (registeredPhones[normalizedPhone]) {
                showError(type, `‚ö†Ô∏è This number is already registered with discount code ${registeredPhones[normalizedPhone]}. Please register with another number.`);
                return;
            }
            
            const discountCode = 'AK' + codeCounter;
            codeCounter++;
            localStorage.setItem('akCodeCounter', codeCounter.toString());
            registeredPhones[normalizedPhone] = discountCode;
            localStorage.setItem('akRegisteredPhones', JSON.stringify(registeredPhones));
            
            customerData = {
                name: name,
                phone: normalizedPhone,
                address: address,
                category: category,
                type: type,
                discountCode: discountCode
            };
            
            document.getElementById('discountCode').textContent = discountCode;
            document.getElementById('successModal').classList.add('show');
            closeModal(type);
            form.reset();
        }

        function sendToWhatsApp() {
            document.getElementById('successModal').classList.remove('show');
            document.body.style.overflow = 'auto';
            
            if (customerData) {
                const messageToAdmin = `üéâ *New Customer Registration*\n\n` +
                    `*Name:* ${customerData.name}\n` +
                    `*Phone:* +${customerData.phone}\n` +
                    `*Address:* ${customerData.address}\n` +
                    `*Category:* ${customerData.category}\n` +
                    `*Type:* ${customerData.type.toUpperCase()}\n` +
                    `*Discount Code:* ${customerData.discountCode}\n\n` +
                    `_Registered via AK Brands Marketing Website_`;
                
                const customerWhatsAppUrl = `https://wa.me/918660502217?text=${encodeURIComponent(messageToAdmin)}`;
                window.open(customerWhatsAppUrl, '_blank');
                customerData = null;
            }
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
            if (event.target.classList.contains('success-modal')) {
                event.target.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
        });
    </script>
</body>
</html>