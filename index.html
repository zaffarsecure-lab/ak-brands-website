<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AK Brands Marketing - India's Leading B2B Liquidation Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.95) 0%, rgba(26, 26, 26, 0.95) 100%);
            padding: 1.2rem 0 0 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(26, 188, 156, 0.1);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1.2rem;
        }

        .logo-img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            filter: drop-shadow(0 3px 10px rgba(26, 188, 156, 0.3));
            transition: transform 0.3s ease;
        }

        .logo-img:hover {
            transform: scale(1.05);
        }

        .brand-text {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .brand-name {
            font-size: 1.75rem;
            font-weight: 500;
            font-family: 'Playfair Display', Georgia, serif;
            color: #1abc9c;
            letter-spacing: 0.5px;
            line-height: 1.2;
            position: relative;
        }

        .brand-name .ak {
            font-weight: 600;
            color: #16a085;
        }

        .brand-tagline {
            font-size: 0.75rem;
            color: #95a5a6;
            font-weight: 400;
            letter-spacing: 0.5px;
            font-family: 'Playfair Display', Georgia, serif;
            opacity: 0.85;
            font-style: italic;
        }

        /* Dropdown Menu */
        .menu-dropdown {
            position: relative;
        }

        .menu-button {
            background: none;
            border: none;
            color: #ecf0f1;
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.3s;
        }

        .menu-button:hover {
            color: #1abc9c;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: rgba(44, 62, 80, 0.98);
            min-width: 180px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            border-radius: 8px;
            margin-top: 0.5rem;
            overflow: hidden;
            z-index: 1001;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(26, 188, 156, 0.3);
        }

        .dropdown-content.show {
            display: block;
            animation: dropdownSlide 0.3s ease-out;
        }

        @keyframes dropdownSlide {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dropdown-content a {
            color: #ecf0f1;
            padding: 1rem 1.5rem;
            text-decoration: none;
            display: block;
            transition: all 0.3s;
            font-weight: 500;
            position: relative;
            z-index: 1;
            cursor: pointer;
        }

        .dropdown-content a:hover {
            background: rgba(26, 188, 156, 0.2);
            color: #1abc9c;
            padding-left: 2rem;
        }

        /* OTP Modal */
        .otp-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
        }

        .otp-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .otp-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 2.5rem;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.5s ease;
            text-align: center;
            color: white;
            border: 2px solid rgba(26, 188, 156, 0.3);
        }

        .otp-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
            color: #1abc9c;
        }

        .otp-subtitle {
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
            line-height: 1.5;
        }

        .phone-input-container {
            margin-bottom: 1.5rem;
        }

        .phone-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid rgba(26, 188, 156, 0.5);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1.1rem;
            text-align: center;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .phone-input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .phone-input:focus {
            outline: none;
            border-color: #1abc9c;
            background: rgba(255,255,255,0.15);
        }

        .send-otp-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .send-otp-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26, 188, 156, 0.4);
        }

        .send-otp-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .otp-input-container {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin: 1.5rem 0;
        }

        .otp-digit {
            width: 50px;
            height: 60px;
            border: 2px solid rgba(26, 188, 156, 0.5);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1.5rem;
            text-align: center;
            font-weight: 700;
            transition: all 0.3s;
        }

        .otp-digit:focus {
            outline: none;
            border-color: #1abc9c;
            background: rgba(255,255,255,0.15);
            transform: scale(1.05);
        }

        .otp-error {
            color: #ff6b6b;
            font-size: 0.9rem;
            margin: 1rem 0;
            display: none;
        }

        .otp-error.show {
            display: block;
            animation: shake 0.5s;
        }

        .otp-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .otp-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .otp-verify {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
        }

        .otp-resend {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .otp-cancel {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .otp-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .otp-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .otp-timer {
            font-size: 0.9rem;
            margin-top: 1rem;
            opacity: 0.8;
        }

        .otp-loading {
            display: none;
            margin: 1rem 0;
        }

        .otp-loading.show {
            display: block;
        }

        .spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid #1abc9c;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* PO Section */
        .po-section {
            display: none;
            padding: 4rem 2rem;
            background: #f8f9fa;
            min-height: 100vh;
        }

        .po-section.show {
            display: block;
        }

        .po-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .po-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .po-title {
            font-size: 2.5rem;
            color: #2c3e50;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }

        .po-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .new-po-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .new-po-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(230, 126, 34, 0.4);
        }

        .po-form-card {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .po-serial {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            display: inline-block;
            font-weight: 700;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .po-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .po-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #e67e22;
        }

        .po-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        }

        .po-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .po-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #e67e22;
        }

        .po-date {
            font-size: 0.85rem;
            color: #95a5a6;
        }

        /* Orders Section */
        .orders-section {
            display: none;
            padding: 4rem 2rem;
            background: #f8f9fa;
            min-height: 100vh;
        }

        .orders-section.show {
            display: block;
        }

        .orders-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .orders-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .orders-title {
            font-size: 2.5rem;
            color: #2c3e50;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }

        .orders-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .new-order-btn, .export-btn {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .export-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }

        .new-order-btn:hover, .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26, 188, 156, 0.4);
        }

        .logout-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .order-form-card {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .order-serial {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            display: inline-block;
            font-weight: 700;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .form-section-title {
            font-size: 1.3rem;
            color: #667eea;
            margin: 2rem 0 1.5rem 0;
            font-weight: 700;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-section-title:first-of-type {
            margin-top: 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-field {
            display: flex;
            flex-direction: column;
        }

        .form-field.full-width {
            grid-column: 1 / -1;
        }

        .form-field label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-field input,
        .form-field select,
        .form-field textarea {
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .form-field input[type="file"] {
            padding: 0.5rem;
        }

        .form-field input:focus,
        .form-field select:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .form-field textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .save-order-btn, .save-po-btn {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
        }

        .save-po-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
        }

        .save-order-btn:hover, .save-po-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(26, 188, 156, 0.4);
        }

        .cancel-edit-btn {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cancel-edit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(149, 165, 166, 0.4);
        }

        /* Saved Orders List */
        .saved-orders-section {
            margin-top: 3rem;
        }

        .saved-orders-title {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .orders-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .order-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #667eea;
        }

        .order-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        }

        .order-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .order-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #667eea;
        }

        .order-date {
            font-size: 0.85rem;
            color: #95a5a6;
        }

        .order-info {
            margin-bottom: 1rem;
        }

        .order-info-row {
            display: flex;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .order-info-label {
            font-weight: 600;
            color: #2c3e50;
            min-width: 120px;
        }

        .order-info-value {
            color: #555;
        }

        .order-card-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .order-action-btn {
            flex: 1;
            min-width: 100px;
            padding: 0.6rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .edit-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
        }

        .delete-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .download-btn {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
        }

        .order-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .no-orders {
            text-align: center;
            padding: 3rem;
            color: #95a5a6;
            font-size: 1.2rem;
        }

        /* Export Dropdown */
        .export-dropdown {
            position: relative;
            display: inline-block;
        }

        .export-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: white;
            min-width: 180px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-radius: 8px;
            z-index: 1;
            overflow: hidden;
        }

        .export-dropdown-content.show {
            display: block;
        }

        .export-dropdown-content button {
            width: 100%;
            padding: 0.8rem 1rem;
            border: none;
            background: white;
            text-align: left;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 600;
            color: #2c3e50;
        }

        .export-dropdown-content button:hover {
            background: #f8f9fa;
        }

        /* Animation Section */
        .animation-section {
            position: relative;
            width: 100%;
            height: 140px;
            margin-top: 1rem;
            background: linear-gradient(to bottom, transparent 0%, transparent 75%, #34495e 75%, #2c3e50 80%, #34495e 80%, #34495e 100%);
        }

        .animation-section.paused * {
            animation-play-state: paused !important;
        }

        .connection-line {
            position: absolute;
            bottom: 42%;
            left: 15%;
            width: 35%;
            height: 3px;
            background: linear-gradient(90deg, #1abc9c, #3498db);
            z-index: 8;
            opacity: 0;
            animation: showConnection 30s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(26, 188, 156, 0.5);
        }

        @keyframes showConnection {
            0%, 30% { opacity: 0; width: 0; }
            35% { opacity: 1; width: 35%; }
            40% { opacity: 1; width: 35%; }
            45% { opacity: 0; width: 35%; }
            100% { opacity: 0; width: 35%; }
        }

        .connection-line::before {
            content: '‚Üí';
            position: absolute;
            right: -15px;
            top: -12px;
            font-size: 1.5rem;
            color: #3498db;
        }

        .business-locations {
            position: absolute;
            bottom: 30%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 5%;
            z-index: 10;
        }

        .location {
            text-align: center;
            position: relative;
        }

        .location-icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.4));
        }

        .location-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: #ecf0f1;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            white-space: nowrap;
        }

        .supplier { color: #3498db; }
        .office { color: #1abc9c; }
        .customer { color: #f39c12; }

        .customer-person {
            position: absolute;
            bottom: 30%;
            right: 20%;
            font-size: 2rem;
            z-index: 15;
            animation: customerJourney 30s ease-in-out infinite;
        }

        @keyframes customerJourney {
            0%, 5% { right: 20%; transform: scaleX(1); opacity: 1; }
            15% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 1; }
            20%, 25% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 1; }
            30% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 0; }
            100% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 0; }
        }

        .order-payment {
            position: absolute;
            bottom: 35%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            z-index: 15;
            opacity: 0;
            animation: showOrderPayment 30s ease-in-out infinite;
        }

        @keyframes showOrderPayment {
            0%, 20% { opacity: 0; transform: translateX(-50%) scale(0); }
            25% { opacity: 1; transform: translateX(-50%) scale(1.2); }
            30% { opacity: 1; transform: translateX(-50%) scale(1); }
            35% { opacity: 0; transform: translateX(-50%) scale(0); }
            100% { opacity: 0; transform: translateX(-50%) scale(0); }
        }

        .packing-boxes {
            position: absolute;
            bottom: 35%;
            left: 15%;
            font-size: 1.5rem;
            z-index: 15;
            opacity: 0;
            animation: packingGoods 30s ease-in-out infinite;
        }

        @keyframes packingGoods {
            0%, 40% { opacity: 0; transform: scale(0); }
            45% { opacity: 1; transform: scale(1.2); }
            50% { opacity: 1; transform: scale(1); }
            55% { opacity: 1; transform: scale(1); }
            60% { opacity: 0; transform: scale(0); }
            100% { opacity: 0; transform: scale(0); }
        }

        .truck-container {
            position: absolute;
            bottom: 28%;
            width: 100%;
            height: 80px;
            z-index: 20;
        }

        .truck {
            position: absolute;
            left: 15%;
            bottom: 0;
            font-size: 3rem;
            opacity: 0;
            transform: scaleX(-1);
            animation: truckDelivery 30s ease-in-out infinite;
        }

        @keyframes truckDelivery {
            0%, 55% { left: 15%; opacity: 0; }
            60% { left: 15%; opacity: 1; }
            85% { left: 80%; opacity: 1; }
            90% { left: 80%; opacity: 1; }
            95% { left: 80%; opacity: 0; }
            100% { left: 80%; opacity: 0; }
        }

        .delivery-check {
            position: absolute;
            bottom: 35%;
            right: 15%;
            font-size: 2rem;
            z-index: 15;
            opacity: 0;
            animation: deliveryComplete 30s ease-in-out infinite;
        }

        @keyframes deliveryComplete {
            0%, 85% { opacity: 0; transform: scale(0) rotate(0deg); }
            90% { opacity: 1; transform: scale(1.3) rotate(360deg); }
            95% { opacity: 1; transform: scale(1) rotate(360deg); }
            100% { opacity: 0; transform: scale(0) rotate(360deg); }
        }

        .road-lines {
            position: absolute;
            bottom: 25%;
            left: 0;
            width: 100%;
            height: 2px;
            background: repeating-linear-gradient(90deg, transparent 0px, transparent 20px, rgba(255,255,255,0.3) 20px, rgba(255,255,255,0.3) 40px);
            z-index: 5;
        }

        .hero {
            position: relative;
            color: white;
            padding: 6rem 2rem;
            text-align: center;
            background-image: url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.5) 0%, rgba(118, 75, 162, 0.5) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
            text-shadow: 0 3px 15px rgba(0,0,0,0.5);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
            text-shadow: 0 2px 10px rgba(0,0,0,0.4);
        }

        .action-boxes {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 4rem;
            flex-wrap: wrap;
        }

        .action-box {
            text-decoration: none;
            cursor: pointer;
            text-align: center;
            position: relative;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .action-box:hover {
            animation: none;
            transform: translateY(-10px) scale(1.1);
        }

        .action-box-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            display: block;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5));
            transition: all 0.3s;
        }

        .action-box-label {
            display: inline-block;
            padding: 0.8rem 2rem;
            border: 3px solid;
            border-image: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%) 1;
            border-radius: 10px;
            font-size: 1.5rem;
            font-weight: 900;
            font-family: 'Inter', sans-serif;
            letter-spacing: 1px;
            text-transform: uppercase;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5), inset 0 0 20px rgba(255, 215, 0, 0.1);
            transition: all 0.3s;
        }

        .action-box.buy .action-box-label {
            color: #27ae60;
            text-shadow: 0 0 10px rgba(39, 174, 96, 0.8);
        }

        .action-box.sell .action-box-label {
            color: #e74c3c;
            text-shadow: 0 0 10px rgba(231, 76, 60, 0.8);
        }

        .action-box.auction .action-box-label {
            color: #8B4513;
            text-shadow: 0 0 10px rgba(139, 69, 19, 0.8);
        }

        .action-box:hover .action-box-icon {
            transform: rotate(10deg) scale(1.2);
            filter: drop-shadow(0 8px 25px rgba(255,255,255,0.3));
        }

        .action-box:hover .action-box-label {
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), inset 0 0 30px rgba(255, 215, 0, 0.2);
            transform: scale(1.05);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 2rem 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2.5rem;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
            position: relative;
            margin: auto;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            font-family: 'Inter', sans-serif;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .close-btn:hover {
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.9);
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: white;
            background: white;
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }

        .error-message {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            border-left: 4px solid #ff6b6b;
            display: none;
        }

        .error-message.show {
            display: block;
            animation: shake 0.5s;
        }

        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255,255,255,0.4);
        }

        .success-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            overflow-y: auto;
        }

        .success-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 1rem;
        }

        .success-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 2rem;
            border-radius: 20px;
            width: 95%;
            max-width: 600px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.5s ease;
            text-align: center;
            color: white;
            border: 2px solid rgba(255, 215, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.3;
        }

        .success-message {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            opacity: 0.95;
        }

        .discount-box {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 1.2rem;
            border-radius: 15px;
            margin: 1.5rem 0;
            border: 2px solid rgba(255, 215, 0, 0.5);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .discount-code {
            font-size: 2rem;
            font-weight: 900;
            letter-spacing: 3px;
            margin: 0.5rem 0;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.8));
        }

        .privacy-notice {
            background: rgba(52, 152, 219, 0.2);
            padding: 1rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            font-size: 0.9rem;
            line-height: 1.5;
            border-left: 4px solid #3498db;
        }

        .whatsapp-btn-success {
            display: inline-block;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            padding: 0.9rem 1.8rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1rem;
            margin-top: 1rem;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
        }

        .close-success-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #2c3e50;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .close-success-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        }

        .features {
            padding: 4rem 2rem;
            background: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2c3e50;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-family: 'Inter', sans-serif;
        }

        .about {
            padding: 4rem 2rem;
            background: white;
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .about-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
            margin-bottom: 1rem;
        }

        .contact {
            padding: 4rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .contact-info {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-info h2 {
            margin-bottom: 2rem;
            font-family: 'Inter', sans-serif;
        }

        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            font-size: 1.1rem;
        }

        .contact-details a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .contact-details a:hover {
            opacity: 0.8;
        }

        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem;
        }

        @media (max-width: 768px) {
            .animation-section { height: 100px; }
            .logo-img { width: 55px; height: 55px; }
            .brand-name { font-size: 1.4rem; }
            .brand-tagline { font-size: 0.6rem; }
            .location-icon { font-size: 1.5rem; }
            .location-label { font-size: 0.5rem; }
            .truck { font-size: 2rem; }
            .customer-person { font-size: 1.5rem; }
            .hero { background-attachment: scroll; padding: 4rem 1rem; }
            .hero h1 { font-size: 1.8rem; }
            .hero p { font-size: 1rem; }
            .action-boxes { gap: 2rem; }
            .action-box-icon { font-size: 3.5rem; }
            .action-box-label { font-size: 1.2rem; padding: 0.6rem 1.5rem; }
            .section-title { font-size: 2rem; }
            .modal-content { padding: 1.5rem; }
            .modal-title { font-size: 1.5rem; }
            .success-content { padding: 1.5rem; }
            .success-icon { font-size: 3rem; }
            .success-title { font-size: 1.5rem; }
            .success-message { font-size: 0.9rem; }
            .discount-code { font-size: 1.5rem; letter-spacing: 2px; }
            .discount-box { padding: 1rem; }
            .privacy-notice { font-size: 0.85rem; padding: 0.8rem; }
            .whatsapp-btn-success { font-size: 0.9rem; padding: 0.8rem 1.5rem; }
            .close-success-btn { font-size: 0.9rem; padding: 0.7rem 1.5rem; }
            .orders-title, .po-title { font-size: 2rem; }
            .orders-header, .po-header { flex-direction: column; gap: 1rem; align-items: flex-start; }
            .form-row { grid-template-columns: 1fr; }
            .orders-grid, .po-grid { grid-template-columns: 1fr; }
            .form-buttons { flex-direction: column; }
            .otp-digit { width: 40px; height: 50px; font-size: 1.2rem; }
            .otp-input-container { gap: 0.3rem; }
            .order-card-actions { flex-direction: column; }
            .order-action-btn { min-width: auto; }
        }

        @media (max-width: 480px) {
            .success-title { font-size: 1.3rem; }
            .discount-code { font-size: 1.3rem; }
            .action-box-label { font-size: 1rem; padding: 0.5rem 1.2rem; }
            .order-form-card, .po-form-card { padding: 1.5rem; }
            .otp-content { padding: 1.5rem; }
            .otp-title { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-section">
                <img src="https://nyc3.digitaloceanspaces.com/bhindi-drive/files/e42f16e8-8f96-4b73-9b52-8fe6992865e2/2025-12-11T20-02-47-298Z-a17e40fd-chat-image-1765483367276-0.jpg" alt="AK Brands Marketing Logo" class="logo-img" id="headerLogo">
                <div class="brand-text">
                    <div class="brand-name"><span class="ak">AK</span> Brands Marketing</div>
                    <div class="brand-tagline">Trusted Firm</div>
                </div>
            </div>
            <div class="menu-dropdown">
                <button class="menu-button" onclick="toggleMenu()">‚ãÆ</button>
                <div class="dropdown-content" id="menuDropdown">
                    <a href="#home" onclick="showSection('home')">Home</a>
                    <a href="#features" onclick="showSection('features')">Services</a>
                    <a href="#about" onclick="showSection('about')">About</a>
                    <a href="#contact" onclick="showSection('contact')">Contact</a>
                    <a onclick="openOrdersWithOTP()">Orders</a>
                    <a onclick="openPOWithOTP()">Purchase Orders</a>
                </div>
            </div>
        </div>

        <div class="animation-section" id="animationSection">
            <div class="road-lines"></div>
            <div class="connection-line"></div>
            <div class="business-locations">
                <div class="location">
                    <div class="location-icon">üè≠</div>
                    <div class="location-label supplier">Supplier</div>
                </div>
                <div class="location">
                    <div class="location-icon">üè¢</div>
                    <div class="location-label office">AK</div>
                </div>
                <div class="location">
                    <div class="location-icon">üè™</div>
                    <div class="location-label customer">Customer</div>
                </div>
            </div>
            <div class="customer-person">üö∂</div>
            <div class="order-payment">üí≥üìù</div>
            <div class="packing-boxes">üì¶üì¶üì¶</div>
            <div class="truck-container">
                <div class="truck">üöö</div>
            </div>
            <div class="delivery-check">‚úÖ</div>
        </div>
    </header>

    <div id="otpModal" class="otp-modal">
        <div class="otp-content">
            <h2 class="otp-title">üîê Secure Login</h2>
            <p class="otp-subtitle">
                Enter your authorized phone number to receive OTP
            </p>
            
            <div id="phoneInputSection">
                <div class="phone-input-container">
                    <input type="tel" id="phoneInput" class="phone-input" placeholder="Enter 10-digit mobile number" maxlength="10" pattern="[0-9]{10}">
                </div>
                <button class="send-otp-btn" onclick="requestOTP()">Send OTP</button>
            </div>
            
            <div class="otp-loading" id="otpLoading">
                <div class="spinner"></div>
                <p style="margin-top: 1rem;">Sending OTP via WhatsApp...</p>
            </div>
            
            <div id="otpInputSection" style="display: none;">
                <div class="otp-input-container">
                    <input type="text" maxlength="1" class="otp-digit" id="otp1" oninput="moveToNext(this, 'otp2')" onkeydown="moveToPrev(event, this, null)">
                    <input type="text" maxlength="1" class="otp-digit" id="otp2" oninput="moveToNext(this, 'otp3')" onkeydown="moveToPrev(event, this, 'otp1')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp3" oninput="moveToNext(this, 'otp4')" onkeydown="moveToPrev(event, this, 'otp2')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp4" oninput="moveToNext(this, 'otp5')" onkeydown="moveToPrev(event, this, 'otp3')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp5" oninput="moveToNext(this, 'otp6')" onkeydown="moveToPrev(event, this, 'otp4')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp6" oninput="handleLastDigit()" onkeydown="moveToPrev(event, this, 'otp5')">
                </div>
                
                <div class="otp-error" id="otpError">‚ùå Invalid OTP. Please try again.</div>
                
                <div class="otp-timer" id="otpTimer"></div>
                
                <div class="otp-buttons">
                    <button class="otp-btn otp-verify" onclick="verifyOTP()">Verify</button>
                    <button class="otp-btn otp-resend" id="resendBtn" onclick="resendOTP()" disabled>Resend OTP</button>
                </div>
            </div>
            
            <div class="otp-error" id="phoneError" style="margin-top: 1rem;">‚ùå Unauthorized phone number</div>
            
            <button class="otp-btn otp-cancel" onclick="closeOTPModal()" style="width: 100%; margin-top: 1rem;">Cancel</button>
        </div>
    </div>

    <!-- PO Section -->
    <section id="poSection" class="po-section">
        <div class="po-container">
            <div class="po-header">
                <h1 class="po-title">üìÑ Purchase Orders</h1>
                <div class="po-actions">
                    <button class="new-po-btn" onclick="createNewPO()">‚ûï New PO</button>
                    <div class="export-dropdown">
                        <button class="export-btn" onclick="togglePOExportMenu()">üì• Export All</button>
                        <div class="export-dropdown-content" id="poExportDropdown">
                            <button onclick="exportAllPOsToPDF()">üìÑ Export to PDF</button>
                            <button onclick="exportAllPOsToExcel()">üìä Export to Excel</button>
                            <button onclick="exportAllPOsToWord()">üìù Export to Word</button>
                            <button onclick="shareAllPOsViaWhatsApp()">üì± Send via WhatsApp</button>
                        </div>
                    </div>
                    <button class="logout-btn" onclick="logoutPO()">üö™ Logout</button>
                </div>
            </div>

            <div class="po-form-card" id="poFormCard">
                <div class="po-serial" id="poSerial">PO #AKBM-2026-001</div>
                
                <form id="poForm">
                    <!-- Vendor/Supplier Details -->
                    <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">üè≠ Supplier Details</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Supplier Name *</label>
                            <input type="text" name="supplierName" required placeholder="Enter supplier name">
                        </div>
                        <div class="form-field">
                            <label>Supplier Contact *</label>
                            <input type="tel" name="supplierContact" required placeholder="10 digit mobile" pattern="[0-9]{10}">
                        </div>
                        <div class="form-field full-width">
                            <label>Supplier Address *</label>
                            <textarea name="supplierAddress" required placeholder="Enter complete address" rows="2"></textarea>
                        </div>
                    </div>

                    <!-- Customer Details -->
                    <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">üë§ Customer Details</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Customer Name *</label>
                            <input type="text" name="customerName" required placeholder="Enter customer name">
                        </div>
                        <div class="form-field">
                            <label>Customer Contact *</label>
                            <input type="tel" name="customerContact" required placeholder="10 digit mobile" pattern="[0-9]{10}">
                        </div>
                        <div class="form-field full-width">
                            <label>Delivery Address *</label>
                            <textarea name="deliveryAddress" required placeholder="Enter delivery address" rows="2"></textarea>
                        </div>
                    </div>

                    <!-- Product Details -->
                    <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">üì¶ Product Details</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Product/Item Description *</label>
                            <input type="text" name="productDescription" required placeholder="e.g., Electronics, Garments">
                        </div>
                        <div class="form-field">
                            <label>Quantity *</label>
                            <input type="number" name="quantity" required placeholder="Enter quantity" min="1">
                        </div>
                        <div class="form-field">
                            <label>Unit Price (‚Çπ) *</label>
                            <input type="number" name="unitPrice" required placeholder="Price per unit" min="0" step="0.01">
                        </div>
                        <div class="form-field">
                            <label>Total Amount (‚Çπ) *</label>
                            <input type="number" name="totalAmount" required placeholder="Total amount" min="0" step="0.01" readonly>
                        </div>
                    </div>

                    <!-- Delivery & Payment Terms -->
                    <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">üöö Delivery & Payment</div>
                    <div class="form-row">
                        <div class="form-field">
                            <label>Expected Delivery Date *</label>
                            <input type="date" name="deliveryDate" required>
                        </div>
                        <div class="form-field">
                            <label>Payment Terms *</label>
                            <select name="paymentTerms" required>
                                <option value="">Select terms</option>
                                <option value="Advance Payment">Advance Payment</option>
                                <option value="50% Advance">50% Advance</option>
                                <option value="Cash on Delivery">Cash on Delivery</option>
                                <option value="Credit - 7 Days">Credit - 7 Days</option>
                                <option value="Credit - 15 Days">Credit - 15 Days</option>
                                <option value="Credit - 30 Days">Credit - 30 Days</option>
                            </select>
                        </div>
                        <div class="form-field full-width">
                            <label>Special Instructions</label>
                            <textarea name="specialInstructions" placeholder="Any special handling or delivery instructions" rows="2"></textarea>
                        </div>
                    </div>

                    <div class="form-buttons">
                        <button type="submit" class="save-po-btn">üíæ Generate PO</button>
                        <button type="button" class="cancel-edit-btn" onclick="cancelPOEdit()" style="display: none;">‚ùå Cancel</button>
                    </div>
                </form>
            </div>

            <div class="saved-orders-section">
                <h2 class="saved-orders-title">üìÑ All Purchase Orders</h2>
                <div class="po-grid" id="poGrid">
                    <div class="no-orders">No purchase orders yet. Create your first PO above!</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Orders Section (existing code continues...) -->
    <section id="ordersSection" class="orders-section">
        <!-- ... existing orders section code ... -->
    </section>

    <!-- Rest of the HTML (hero, modals, etc.) continues... -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        const AUTHORIZED_PHONE = "8660502217";
        const COMPANY_INFO = {
            name: "AK Brands Marketing",
            tagline: "Trusted Firm",
            email: "abdul@akbrandsmarketing.com",
            phone: "+91 8660502217",
            location: "Bengaluru, Karnataka, India",
            logoUrl: "https://nyc3.digitaloceanspaces.com/bhindi-drive/files/e42f16e8-8f96-4b73-9b52-8fe6992865e2/2025-12-11T20-02-47-298Z-a17e40fd-chat-image-1765483367276-0.jpg"
        };
        
        let isOrdersLoggedIn = false;
        let isPOLoggedIn = false;
        let loginTarget = ''; // 'orders' or 'po'
        let codeCounter = parseInt(localStorage.getItem('akCodeCounter') || '1');
        let registeredPhones = JSON.parse(localStorage.getItem('akRegisteredPhones') || '{}');
        let customerData = null;
        let orders = JSON.parse(localStorage.getItem('akOrders') || '[]');
        let orderCounter = parseInt(localStorage.getItem('akOrderCounter') || '1');
        let editingOrderIndex = null;
        
        // PO System
        let purchaseOrders = JSON.parse(localStorage.getItem('akPurchaseOrders') || '[]');
        let poCounter = parseInt(localStorage.getItem('akPOCounter') || '1');
        let editingPOIndex = null;
        
        // OTP System
        let generatedOTP = '';
        let otpTimer = null;
        let resendTimer = null;
        let otpExpiryTime = null;
        let enteredPhone = '';

        // Auto-calculate total amount in PO form
        document.addEventListener('DOMContentLoaded', function() {
            const poForm = document.getElementById('poForm');
            if (poForm) {
                const quantityInput = poForm.querySelector('[name="quantity"]');
                const unitPriceInput = poForm.querySelector('[name="unitPrice"]');
                const totalAmountInput = poForm.querySelector('[name="totalAmount"]');
                
                function calculateTotal() {
                    const quantity = parseFloat(quantityInput.value) || 0;
                    const unitPrice = parseFloat(unitPriceInput.value) || 0;
                    totalAmountInput.value = (quantity * unitPrice).toFixed(2);
                }
                
                quantityInput.addEventListener('input', calculateTotal);
                unitPriceInput.addEventListener('input', calculateTotal);
            }
        });

        function generatePONumber() {
            const year = new Date().getFullYear();
            const poNum = String(poCounter).padStart(3, '0');
            return `AKBM-${year}-${poNum}`;
        }

        function openPOWithOTP() {
            if (isPOLoggedIn) {
                showPOSection();
            } else {
                loginTarget = 'po';
                document.getElementById('otpModal').classList.add('show');
                document.getElementById('phoneInputSection').style.display = 'block';
                document.getElementById('otpInputSection').style.display = 'none';
                document.getElementById('phoneInput').value = '';
                document.getElementById('phoneError').classList.remove('show');
                document.getElementById('phoneInput').focus();
            }
            document.getElementById('menuDropdown').classList.remove('show');
        }

        function showPOSection() {
            document.getElementById('home').style.display = 'none';
            document.getElementById('features').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            document.getElementById('ordersSection').classList.remove('show');
            document.getElementById('poSection').classList.add('show');
            updatePOSerial();
            displaySavedPOs();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function logoutPO() {
            isPOLoggedIn = false;
            showSection('home');
        }

        function updatePOSerial() {
            if (editingPOIndex !== null) {
                document.getElementById('poSerial').textContent = `PO #${purchaseOrders[editingPOIndex].poNumber}`;
            } else {
                document.getElementById('poSerial').textContent = `PO #${generatePONumber()}`;
            }
        }

        function createNewPO() {
            editingPOIndex = null;
            document.getElementById('poForm').reset();
            updatePOSerial();
            document.querySelector('.cancel-edit-btn').style.display = 'none';
            document.querySelector('.save-po-btn').textContent = 'üíæ Generate PO';
            document.getElementById('poFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function cancelPOEdit() {
            createNewPO();
        }

        document.getElementById('poForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const poData = {
                poNumber: editingPOIndex !== null ? purchaseOrders[editingPOIndex].poNumber : generatePONumber(),
                timestamp: editingPOIndex !== null ? purchaseOrders[editingPOIndex].timestamp : new Date().toISOString()
            };
            
            for (let [key, value] of formData.entries()) {
                poData[key] = value;
            }
            
            if (editingPOIndex !== null) {
                purchaseOrders[editingPOIndex] = poData;
                alert(`‚úÖ PO #${poData.poNumber} updated successfully!`);
            } else {
                purchaseOrders.push(poData);
                poCounter++;
                localStorage.setItem('akPOCounter', poCounter.toString());
                alert(`‚úÖ PO #${poData.poNumber} generated successfully!`);
            }
            
            localStorage.setItem('akPurchaseOrders', JSON.stringify(purchaseOrders));
            createNewPO();
            displaySavedPOs();
        });

        function displaySavedPOs() {
            const poGrid = document.getElementById('poGrid');
            
            if (purchaseOrders.length === 0) {
                poGrid.innerHTML = '<div class="no-orders">No purchase orders yet. Create your first PO above!</div>';
                return;
            }
            
            poGrid.innerHTML = purchaseOrders.map((po, index) => {
                const date = new Date(po.timestamp);
                const formattedDate = date.toLocaleDateString('en-IN', { 
                    day: '2-digit', 
                    month: 'short', 
                    year: 'numeric' 
                });
                
                return `
                    <div class="po-card">
                        <div class="po-card-header">
                            <div class="po-number">PO #${po.poNumber}</div>
                            <div class="po-date">${formattedDate}</div>
                        </div>
                        <div class="order-info">
                            <div class="order-info-row">
                                <span class="order-info-label">Supplier:</span>
                                <span class="order-info-value">${po.supplierName}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Customer:</span>
                                <span class="order-info-value">${po.customerName}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Product:</span>
                                <span class="order-info-value">${po.productDescription || 'N/A'}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Total Amount:</span>
                                <span class="order-info-value">‚Çπ${po.totalAmount || '0'}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Delivery:</span>
                                <span class="order-info-value">${po.deliveryDate || 'N/A'}</span>
                            </div>
                        </div>
                        <div class="order-card-actions">
                            <button class="order-action-btn edit-btn" onclick="editPO(${index})">‚úèÔ∏è Edit</button>
                            <button class="order-action-btn download-btn" onclick="downloadPO(${index})">üì• Download</button>
                            <button class="order-action-btn whatsapp-btn" onclick="sharePOViaWhatsApp(${index})">üì± Share</button>
                            <button class="order-action-btn delete-btn" onclick="deletePO(${index})">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function editPO(index) {
            editingPOIndex = index;
            const po = purchaseOrders[index];
            const form = document.getElementById('poForm');
            
            Object.keys(po).forEach(key => {
                if (form[key] && key !== 'poNumber' && key !== 'timestamp') {
                    form[key].value = po[key] || '';
                }
            });
            
            updatePOSerial();
            document.querySelector('.cancel-edit-btn').style.display = 'block';
            document.querySelector('.save-po-btn').textContent = '‚úèÔ∏è Update PO';
            document.getElementById('poFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function deletePO(index) {
            if (confirm(`Are you sure you want to delete PO #${purchaseOrders[index].poNumber}?`)) {
                purchaseOrders.splice(index, 1);
                localStorage.setItem('akPurchaseOrders', JSON.stringify(purchaseOrders));
                displaySavedPOs();
                alert('‚úÖ Purchase Order deleted successfully!');
            }
        }

        function formatPOForWhatsApp(po) {
            let message = `üìÑ *PURCHASE ORDER*\n`;
            message += `*${COMPANY_INFO.name}*\n`;
            message += `_${COMPANY_INFO.tagline}_\n\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `*PO Number:* ${po.poNumber}\n`;
            message += `*Date:* ${new Date(po.timestamp).toLocaleDateString('en-IN')}\n\n`;
            
            message += `üè≠ *SUPPLIER DETAILS*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `Name: ${po.supplierName}\n`;
            message += `Contact: ${po.supplierContact}\n`;
            message += `Address: ${po.supplierAddress}\n\n`;
            
            message += `üë§ *CUSTOMER DETAILS*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `Name: ${po.customerName}\n`;
            message += `Contact: ${po.customerContact}\n`;
            message += `Delivery Address: ${po.deliveryAddress}\n\n`;
            
            message += `üì¶ *PRODUCT DETAILS*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `Description: ${po.productDescription}\n`;
            message += `Quantity: ${po.quantity}\n`;
            message += `Unit Price: ‚Çπ${po.unitPrice}\n`;
            message += `*Total Amount: ‚Çπ${po.totalAmount}*\n\n`;
            
            message += `üöö *DELIVERY & PAYMENT*\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `Expected Delivery: ${po.deliveryDate}\n`;
            message += `Payment Terms: ${po.paymentTerms}\n`;
            if (po.specialInstructions) {
                message += `Special Instructions: ${po.specialInstructions}\n`;
            }
            
            message += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìß ${COMPANY_INFO.email}\n`;
            message += `üì± ${COMPANY_INFO.phone}\n`;
            message += `üìç ${COMPANY_INFO.location}\n\n`;
            message += `_This is an official Purchase Order from AK Brands Marketing_`;
            
            return message;
        }

        function sharePOViaWhatsApp(index) {
            const po = purchaseOrders[index];
            const message = formatPOForWhatsApp(po);
            
            // Ask user who to send to
            const recipient = prompt('Send PO to:\n1. Customer\n2. Supplier\n3. Both\n\nEnter 1, 2, or 3:');
            
            if (recipient === '1') {
                // Send to customer
                const whatsappUrl = `https://wa.me/91${po.customerContact}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            } else if (recipient === '2') {
                // Send to supplier
                const whatsappUrl = `https://wa.me/91${po.supplierContact}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            } else if (recipient === '3') {
                // Send to both
                const customerUrl = `https://wa.me/91${po.customerContact}?text=${encodeURIComponent(message)}`;
                const supplierUrl = `https://wa.me/91${po.supplierContact}?text=${encodeURIComponent(message)}`;
                window.open(customerUrl, '_blank');
                setTimeout(() => window.open(supplierUrl, '_blank'), 1000);
            }
        }

        function downloadPO(index) {
            const po = purchaseOrders[index];
            const dropdown = document.createElement('div');
            dropdown.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:2rem;border-radius:10px;box-shadow:0 10px 40px rgba(0,0,0,0.3);z-index:4000;';
            dropdown.innerHTML = `
                <h3 style="margin-bottom:1rem;color:#2c3e50;">Download PO #${po.poNumber}</h3>
                <button onclick="exportPOToPDF(${index}); document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#e74c3c;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">üìÑ PDF</button>
                <button onclick="exportPOToExcel(${index}); document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#27ae60;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">üìä Excel</button>
                <button onclick="exportPOToWord(${index}); document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#3498db;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">üìù Word</button>
                <button onclick="sharePOViaWhatsApp(${index}); document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#25D366;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">üì± WhatsApp</button>
                <button onclick="document.body.removeChild(this.parentElement)" style="width:100%;padding:0.8rem;margin:0.5rem 0;background:#95a5a6;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:600;">‚ùå Cancel</button>
            `;
            document.body.appendChild(dropdown);
        }

        function exportPOToPDF(index) {
            const po = purchaseOrders[index];
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Header
            doc.setFillColor(230, 126, 34);
            doc.rect(0, 0, 210, 50, 'F');
            doc.setFillColor(255, 255, 255);
            doc.circle(25, 25, 15, 'F');
            doc.setFontSize(20);
            doc.setTextColor(230, 126, 34);
            doc.setFont(undefined, 'bold');
            doc.text('AK', 17, 29);
            doc.setFontSize(26);
            doc.setTextColor(255, 255, 255);
            doc.text('AK Brands Marketing', 50, 22);
            doc.setFontSize(11);
            doc.setFont(undefined, 'italic');
            doc.text('Trusted Firm', 50, 29);
            doc.setFontSize(9);
            doc.setFont(undefined, 'normal');
            doc.text(`üìß ${COMPANY_INFO.email}`, 50, 36);
            doc.text(`üì± ${COMPANY_INFO.phone}`, 50, 41);
            doc.text(`üìç ${COMPANY_INFO.location}`, 50, 46);
            
            // PO Title
            doc.setFillColor(255, 255, 255);
            doc.rect(0, 50, 210, 20, 'F');
            doc.setTextColor(44, 62, 80);
            doc.setFontSize(22);
            doc.setFont(undefined, 'bold');
            doc.text('PURCHASE ORDER', 15, 60);
            doc.setFontSize(11);
            doc.setFont(undefined, 'normal');
            doc.text(`PO #${po.poNumber}  |  Date: ${new Date(po.timestamp).toLocaleDateString('en-IN')}`, 15, 66);
            
            let y = 78;
            const lineHeight = 6;
            
            // Supplier Details
            doc.setFillColor(230, 126, 34);
            doc.roundedRect(15, y - 6, 180, 10, 2, 2, 'F');
            doc.setFontSize(12);
            doc.setFont(undefined, 'bold');
            doc.setTextColor(255, 255, 255);
            doc.text('üè≠ SUPPLIER DETAILS', 18, y);
            y += 12;
            
            doc.setFontSize(10);
            doc.setFont(undefined, 'normal');
            doc.setTextColor(44, 62, 80);
            doc.text(`Name: ${po.supplierName}`, 18, y); y += lineHeight;
            doc.text(`Contact: ${po.supplierContact}`, 18, y); y += lineHeight;
            const supplierAddr = doc.splitTextToSize(`Address: ${po.supplierAddress}`, 170);
            supplierAddr.forEach(line => { doc.text(line, 18, y); y += lineHeight; });
            y += 5;
            
            // Customer Details
            doc.setFillColor(230, 126, 34);
            doc.roundedRect(15, y - 6, 180, 10, 2, 2, 'F');
            doc.setFont(undefined, 'bold');
            doc.setTextColor(255, 255, 255);
            doc.text('üë§ CUSTOMER DETAILS', 18, y);
            y += 12;
            
            doc.setFont(undefined, 'normal');
            doc.setTextColor(44, 62, 80);
            doc.text(`Name: ${po.customerName}`, 18, y); y += lineHeight;
            doc.text(`Contact: ${po.customerContact}`, 18, y); y += lineHeight;
            const deliveryAddr = doc.splitTextToSize(`Delivery Address: ${po.deliveryAddress}`, 170);
            deliveryAddr.forEach(line => { doc.text(line, 18, y); y += lineHeight; });
            y += 5;
            
            // Product Details
            doc.setFillColor(230, 126, 34);
            doc.roundedRect(15, y - 6, 180, 10, 2, 2, 'F');
            doc.setFont(undefined, 'bold');
            doc.setTextColor(255, 255, 255);
            doc.text('üì¶ PRODUCT DETAILS', 18, y);
            y += 12;
            
            doc.setFont(undefined, 'normal');
            doc.setTextColor(44, 62, 80);
            doc.text(`Description: ${po.productDescription}`, 18, y); y += lineHeight;
            doc.text(`Quantity: ${po.quantity}`, 18, y); y += lineHeight;
            doc.text(`Unit Price: ‚Çπ${po.unitPrice}`, 18, y); y += lineHeight;
            doc.setFont(undefined, 'bold');
            doc.text(`Total Amount: ‚Çπ${po.totalAmount}`, 18, y); y += lineHeight;
            doc.setFont(undefined, 'normal');
            y += 5;
            
            // Delivery & Payment
            doc.setFillColor(230, 126, 34);
            doc.roundedRect(15, y - 6, 180, 10, 2, 2, 'F');
            doc.setFont(undefined, 'bold');
            doc.setTextColor(255, 255, 255);
            doc.text('üöö DELIVERY & PAYMENT', 18, y);
            y += 12;
            
            doc.setFont(undefined, 'normal');
            doc.setTextColor(44, 62, 80);
            doc.text(`Expected Delivery: ${po.deliveryDate}`, 18, y); y += lineHeight;
            doc.text(`Payment Terms: ${po.paymentTerms}`, 18, y); y += lineHeight;
            if (po.specialInstructions) {
                const instructions = doc.splitTextToSize(`Special Instructions: ${po.specialInstructions}`, 170);
                instructions.forEach(line => { doc.text(line, 18, y); y += lineHeight; });
            }
            
            // Footer
            doc.setFontSize(8);
            doc.setTextColor(128, 128, 128);
            doc.text(`Generated on ${new Date().toLocaleDateString('en-IN')}`, 15, 290);
            
            doc.save(`PO_${po.poNumber}.pdf`);
        }

        function exportPOToExcel(index) {
            const po = purchaseOrders[index];
            const ws_data = [
                [COMPANY_INFO.name],
                [COMPANY_INFO.tagline],
                ['PURCHASE ORDER'],
                [],
                ['PO Number', po.poNumber],
                ['Date', new Date(po.timestamp).toLocaleDateString()],
                [],
                ['SUPPLIER DETAILS'],
                ['Name', po.supplierName],
                ['Contact', po.supplierContact],
                ['Address', po.supplierAddress],
                [],
                ['CUSTOMER DETAILS'],
                ['Name', po.customerName],
                ['Contact', po.customerContact],
                ['Delivery Address', po.deliveryAddress],
                [],
                ['PRODUCT DETAILS'],
                ['Description', po.productDescription],
                ['Quantity', po.quantity],
                ['Unit Price', po.unitPrice],
                ['Total Amount', po.totalAmount],
                [],
                ['DELIVERY & PAYMENT'],
                ['Expected Delivery', po.deliveryDate],
                ['Payment Terms', po.paymentTerms],
                ['Special Instructions', po.specialInstructions || '']
            ];
            
            const ws = XLSX.utils.aoa_to_sheet(ws_data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, `PO ${po.poNumber}`);
            XLSX.writeFile(wb, `PO_${po.poNumber}.xlsx`);
        }

        function exportPOToWord(index) {
            const po = purchaseOrders[index];
            let content = `${COMPANY_INFO.name}\n${COMPANY_INFO.tagline}\n\nPURCHASE ORDER\n\n`;
            content += `PO Number: ${po.poNumber}\nDate: ${new Date(po.timestamp).toLocaleDateString()}\n\n`;
            content += `SUPPLIER DETAILS\n${'‚îÄ'.repeat(50)}\n`;
            content += `Name: ${po.supplierName}\nContact: ${po.supplierContact}\nAddress: ${po.supplierAddress}\n\n`;
            content += `CUSTOMER DETAILS\n${'‚îÄ'.repeat(50)}\n`;
            content += `Name: ${po.customerName}\nContact: ${po.customerContact}\nDelivery Address: ${po.deliveryAddress}\n\n`;
            content += `PRODUCT DETAILS\n${'‚îÄ'.repeat(50)}\n`;
            content += `Description: ${po.productDescription}\nQuantity: ${po.quantity}\nUnit Price: ‚Çπ${po.unitPrice}\nTotal Amount: ‚Çπ${po.totalAmount}\n\n`;
            content += `DELIVERY & PAYMENT\n${'‚îÄ'.repeat(50)}\n`;
            content += `Expected Delivery: ${po.deliveryDate}\nPayment Terms: ${po.paymentTerms}\n`;
            if (po.specialInstructions) content += `Special Instructions: ${po.specialInstructions}\n`;
            
            const blob = new Blob([content], { type: 'application/msword' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `PO_${po.poNumber}.doc`;
            a.click();
        }

        function togglePOExportMenu() {
            document.getElementById('poExportDropdown').classList.toggle('show');
        }

        function exportAllPOsToPDF() {
            alert('Exporting all POs to PDF...');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        function exportAllPOsToExcel() {
            alert('Exporting all POs to Excel...');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        function exportAllPOsToWord() {
            alert('Exporting all POs to Word...');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        function shareAllPOsViaWhatsApp() {
            if (purchaseOrders.length === 0) {
                alert('No purchase orders to share!');
                return;
            }
            
            let message = `üìÑ *ALL PURCHASE ORDERS*\n`;
            message += `*${COMPANY_INFO.name}*\n\n`;
            message += `Total POs: ${purchaseOrders.length}\n\n`;
            
            purchaseOrders.forEach((po, index) => {
                message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
                message += `*PO #${po.poNumber}*\n`;
                message += `Date: ${new Date(po.timestamp).toLocaleDateString('en-IN')}\n`;
                message += `Supplier: ${po.supplierName}\n`;
                message += `Customer: ${po.customerName}\n`;
                message += `Product: ${po.productDescription}\n`;
                message += `Amount: ‚Çπ${po.totalAmount}\n`;
                message += `Delivery: ${po.deliveryDate}\n\n`;
            });
            
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `üìß ${COMPANY_INFO.email}\n`;
            message += `üì± ${COMPANY_INFO.phone}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        // OTP Functions
        function generateOTP() {
            return Math.floor(100000 + Math.random() * 900000).toString();
        }

        function openOrdersWithOTP() {
            if (isOrdersLoggedIn) {
                showOrdersSection();
            } else {
                loginTarget = 'orders';
                document.getElementById('otpModal').classList.add('show');
                document.getElementById('phoneInputSection').style.display = 'block';
                document.getElementById('otpInputSection').style.display = 'none';
                document.getElementById('phoneInput').value = '';
                document.getElementById('phoneError').classList.remove('show');
                document.getElementById('phoneInput').focus();
            }
            document.getElementById('menuDropdown').classList.remove('show');
        }

        function requestOTP() {
            const phoneInput = document.getElementById('phoneInput').value.trim();
            
            if (phoneInput.length !== 10 || !/^\d+$/.test(phoneInput)) {
                showPhoneError('Please enter a valid 10-digit mobile number');
                return;
            }
            
            if (phoneInput !== AUTHORIZED_PHONE) {
                showPhoneError('Unauthorized phone number. Access denied.');
                return;
            }
            
            enteredPhone = phoneInput;
            sendOTP();
        }

        function sendOTP() {
            generatedOTP = generateOTP();
            otpExpiryTime = Date.now() + (5 * 60 * 1000);
            
            document.getElementById('phoneInputSection').style.display = 'none';
            document.getElementById('otpLoading').classList.add('show');
            document.getElementById('otpInputSection').style.display = 'none';
            
            const sectionName = loginTarget === 'orders' ? 'Orders Dashboard' : 'Purchase Orders Dashboard';
            const message = `üîê *AK Brands Marketing - Secure Login*\n\nYour OTP for ${sectionName}:\n\n*${generatedOTP}*\n\nValid for 5 minutes.\n\n‚ö†Ô∏è Do not share this code with anyone.`;
            const whatsappUrl = `https://wa.me/91${enteredPhone}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            setTimeout(() => {
                document.getElementById('otpLoading').classList.remove('show');
                document.getElementById('otpInputSection').style.display = 'block';
                document.getElementById('otp1').focus();
                startOTPTimer();
                startResendTimer();
            }, 2000);
        }

        function startOTPTimer() {
            updateTimerDisplay();
            otpTimer = setInterval(() => {
                if (Date.now() >= otpExpiryTime) {
                    clearInterval(otpTimer);
                    document.getElementById('otpTimer').textContent = '‚è∞ OTP expired. Please request a new one.';
                    document.getElementById('otpTimer').style.color = '#ff6b6b';
                } else {
                    updateTimerDisplay();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const remaining = Math.max(0, Math.floor((otpExpiryTime - Date.now()) / 1000));
            const minutes = Math.floor(remaining / 60);
            const seconds = remaining % 60;
            document.getElementById('otpTimer').textContent = `‚è±Ô∏è OTP expires in ${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('otpTimer').style.color = 'rgba(255,255,255,0.8)';
        }

        function startResendTimer() {
            const resendBtn = document.getElementById('resendBtn');
            let countdown = 60;
            resendBtn.disabled = true;
            resendBtn.textContent = `Resend (${countdown}s)`;
            
            resendTimer = setInterval(() => {
                countdown--;
                if (countdown <= 0) {
                    clearInterval(resendTimer);
                    resendBtn.disabled = false;
                    resendBtn.textContent = 'Resend OTP';
                } else {
                    resendBtn.textContent = `Resend (${countdown}s)`;
                }
            }, 1000);
        }

        function resendOTP() {
            clearInterval(otpTimer);
            clearInterval(resendTimer);
            clearOTPInputs();
            sendOTP();
        }

        function moveToNext(current, nextId) {
            if (current.value.length === 1 && nextId) {
                document.getElementById(nextId).focus();
            }
        }

        function moveToPrev(event, current, prevId) {
            if (event.key === 'Backspace' && current.value === '' && prevId) {
                document.getElementById(prevId).focus();
            }
        }

        function handleLastDigit() {
            const otp6 = document.getElementById('otp6');
            if (otp6.value.length === 1) {
                verifyOTP();
            }
        }

        function verifyOTP() {
            const enteredOTP = 
                document.getElementById('otp1').value +
                document.getElementById('otp2').value +
                document.getElementById('otp3').value +
                document.getElementById('otp4').value +
                document.getElementById('otp5').value +
                document.getElementById('otp6').value;
            
            if (enteredOTP.length !== 6) {
                showOTPError('Please enter complete 6-digit OTP');
                return;
            }
            
            if (Date.now() >= otpExpiryTime) {
                showOTPError('OTP has expired. Please request a new one.');
                return;
            }
            
            if (enteredOTP === generatedOTP) {
                if (loginTarget === 'orders') {
                    isOrdersLoggedIn = true;
                    clearInterval(otpTimer);
                    clearInterval(resendTimer);
                    closeOTPModal();
                    showOrdersSection();
                } else if (loginTarget === 'po') {
                    isPOLoggedIn = true;
                    clearInterval(otpTimer);
                    clearInterval(resendTimer);
                    closeOTPModal();
                    showPOSection();
                }
            } else {
                showOTPError('Invalid OTP. Please try again.');
                clearOTPInputs();
                document.getElementById('otp1').focus();
            }
        }

        function showOTPError(message) {
            const errorDiv = document.getElementById('otpError');
            errorDiv.textContent = `‚ùå ${message}`;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 3000);
        }

        function showPhoneError(message) {
            const errorDiv = document.getElementById('phoneError');
            errorDiv.textContent = `‚ùå ${message}`;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 3000);
        }

        function clearOTPInputs() {
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`otp${i}`).value = '';
            }
        }

        function closeOTPModal() {
            document.getElementById('otpModal').classList.remove('show');
            clearInterval(otpTimer);
            clearInterval(resendTimer);
            clearOTPInputs();
            document.getElementById('phoneInput').value = '';
            document.getElementById('phoneError').classList.remove('show');
        }

        function toggleMenu() {
            const dropdown = document.getElementById('menuDropdown');
            const animationSection = document.getElementById('animationSection');
            dropdown.classList.toggle('show');
            if (dropdown.classList.contains('show')) {
                animationSection.classList.add('paused');
            } else {
                animationSection.classList.remove('paused');
            }
        }

        window.onclick = function(event) {
            if (!event.target.matches('.menu-button') && !event.target.matches('.export-btn')) {
                const dropdowns = document.getElementsByClassName('dropdown-content');
                const animationSection = document.getElementById('animationSection');
                const exportDropdown = document.getElementById('exportDropdown');
                const poExportDropdown = document.getElementById('poExportDropdown');
                
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                        animationSection.classList.remove('paused');
                    }
                }
                
                if (exportDropdown && exportDropdown.classList.contains('show')) {
                    exportDropdown.classList.remove('show');
                }
                
                if (poExportDropdown && poExportDropdown.classList.contains('show')) {
                    poExportDropdown.classList.remove('show');
                }
            }
            
            if (event.target.classList.contains('otp-modal')) {
                closeOTPModal();
            }
        }

        function showSection(section) {
            document.getElementById('ordersSection').classList.remove('show');
            document.getElementById('poSection').classList.remove('show');
            document.getElementById('home').style.display = 'flex';
            document.getElementById('features').style.display = 'block';
            document.getElementById('about').style.display = 'block';
            document.getElementById('contact').style.display = 'block';
            document.getElementById(section).scrollIntoView({ behavior: 'smooth' });
            document.getElementById('menuDropdown').classList.remove('show');
        }

        function showOrdersSection() {
            document.getElementById('home').style.display = 'none';
            document.getElementById('features').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            document.getElementById('poSection').classList.remove('show');
            document.getElementById('ordersSection').classList.add('show');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function logoutOrders() {
            isOrdersLoggedIn = false;
            showSection('home');
        }

        // Note: The rest of the orders section JavaScript code continues here...
        // (All the existing order management functions remain the same)
    </script>
</body>
</html>