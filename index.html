<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AK Brands Marketing - India's Leading B2B Liquidation Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/docx/7.1.0/docx.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.95) 0%, rgba(26, 26, 26, 0.95) 100%);
            padding: 1.2rem 0 0 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(26, 188, 156, 0.1);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1.2rem;
        }

        .logo-img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            filter: drop-shadow(0 3px 10px rgba(26, 188, 156, 0.3));
            transition: transform 0.3s ease;
        }

        .logo-img:hover {
            transform: scale(1.05);
        }

        .brand-text {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .brand-name {
            font-size: 1.75rem;
            font-weight: 500;
            font-family: 'Playfair Display', Georgia, serif;
            color: #1abc9c;
            letter-spacing: 0.5px;
            line-height: 1.2;
            position: relative;
        }

        .brand-name .ak {
            font-weight: 600;
            color: #16a085;
        }

        .brand-tagline {
            font-size: 0.75rem;
            color: #95a5a6;
            font-weight: 400;
            letter-spacing: 0.5px;
            font-family: 'Playfair Display', Georgia, serif;
            opacity: 0.85;
            font-style: italic;
        }

        /* Dropdown Menu */
        .menu-dropdown {
            position: relative;
        }

        .menu-button {
            background: none;
            border: none;
            color: #ecf0f1;
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.3s;
        }

        .menu-button:hover {
            color: #1abc9c;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: rgba(44, 62, 80, 0.98);
            min-width: 180px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            border-radius: 8px;
            margin-top: 0.5rem;
            overflow: hidden;
            z-index: 1001;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(26, 188, 156, 0.3);
        }

        .dropdown-content.show {
            display: block;
            animation: dropdownSlide 0.3s ease-out;
        }

        @keyframes dropdownSlide {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dropdown-content a {
            color: #ecf0f1;
            padding: 1rem 1.5rem;
            text-decoration: none;
            display: block;
            transition: all 0.3s;
            font-weight: 500;
            position: relative;
            z-index: 1;
            cursor: pointer;
        }

        .dropdown-content a:hover {
            background: rgba(26, 188, 156, 0.2);
            color: #1abc9c;
            padding-left: 2rem;
        }

        /* Tabs */
        .tabs-container {
            display: flex;
            gap: 0;
            margin-bottom: 2rem;
            border-bottom: 2px solid #e0e0e0;
            overflow-x: auto;
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            min-width: 150px;
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            color: #7f8c8d;
            white-space: nowrap;
        }

        .tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .tab-btn:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Universal Card Actions */
        .universal-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .action-btn {
            flex: 1;
            min-width: 100px;
            padding: 0.6rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .view-btn {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
        }

        .edit-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }

        .delete-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .download-pdf-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .download-excel-btn {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
        }

        .download-word-btn {
            background: linear-gradient(135deg, #2980b9 0%, #21618c 100%);
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }

        .save-btn {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
        }

        /* Database Card Styles */
        .database-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border-left: 4px solid #3498db;
        }

        .database-card.supplier {
            border-left-color: #e67e22;
        }

        .database-title {
            font-size: 1.5rem;
            color: #3498db;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .database-title.supplier {
            color: #e67e22;
        }

        .database-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .database-item-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #3498db;
        }

        .database-item-card.supplier {
            border-left-color: #e67e22;
        }

        .database-item-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        }

        .database-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .database-item-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #3498db;
        }

        .database-item-name.supplier {
            color: #e67e22;
        }

        .database-item-id {
            font-size: 0.85rem;
            color: #95a5a6;
        }

        .database-item-info {
            margin-bottom: 1rem;
        }

        .database-info-row {
            display: flex;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .database-info-label {
            font-weight: 600;
            color: #2c3e50;
            min-width: 100px;
        }

        .database-info-value {
            color: #555;
            word-break: break-word;
        }

        /* Delivery Address Card */
        .delivery-address-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border-left: 4px solid #27ae60;
        }

        .delivery-address-preview {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            border: 2px dashed #27ae60;
            margin-top: 1.5rem;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            line-height: 1.8;
            font-size: 0.95rem;
            color: #2c3e50;
        }

        /* Saved Delivery Addresses */
        .saved-delivery-section {
            margin-top: 3rem;
        }

        .delivery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .delivery-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #27ae60;
        }

        .delivery-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        }

        .delivery-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .delivery-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #27ae60;
        }

        .delivery-date {
            font-size: 0.85rem;
            color: #95a5a6;
        }

        .delivery-preview {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            white-space: pre-wrap;
            line-height: 1.6;
            margin-bottom: 1rem;
            max-height: 200px;
            overflow-y: auto;
        }

        /* View Modal */
        .view-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            overflow-y: auto;
        }

        .view-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 2rem;
        }

        .view-modal-content {
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            width: 95%;
            max-width: 800px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.5s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .view-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid #667eea;
        }

        .view-modal-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #667eea;
        }

        .view-close-btn {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #95a5a6;
            transition: all 0.3s;
        }

        .view-close-btn:hover {
            color: #e74c3c;
            transform: rotate(90deg);
        }

        .view-section {
            margin-bottom: 2rem;
        }

        .view-section-title {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 1rem;
            font-weight: 700;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 0.5rem;
        }

        .view-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .view-info-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .view-info-label {
            font-size: 0.85rem;
            color: #7f8c8d;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .view-info-value {
            font-size: 1rem;
            color: #2c3e50;
            font-weight: 500;
        }

        /* OTP Modal */
        .otp-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
        }

        .otp-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .otp-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 2.5rem;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.5s ease;
            text-align: center;
            color: white;
            border: 2px solid rgba(26, 188, 156, 0.3);
        }

        .otp-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
            color: #1abc9c;
        }

        .otp-subtitle {
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
            line-height: 1.5;
        }

        .phone-input-container {
            margin-bottom: 1.5rem;
        }

        .phone-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid rgba(26, 188, 156, 0.5);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1.1rem;
            text-align: center;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .phone-input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .phone-input:focus {
            outline: none;
            border-color: #1abc9c;
            background: rgba(255,255,255,0.15);
        }

        .send-otp-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .send-otp-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26, 188, 156, 0.4);
        }

        .send-otp-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .otp-input-container {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin: 1.5rem 0;
        }

        .otp-digit {
            width: 50px;
            height: 60px;
            border: 2px solid rgba(26, 188, 156, 0.5);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1.5rem;
            text-align: center;
            font-weight: 700;
            transition: all 0.3s;
        }

        .otp-digit:focus {
            outline: none;
            border-color: #1abc9c;
            background: rgba(255,255,255,0.15);
            transform: scale(1.05);
        }

        .otp-error {
            color: #ff6b6b;
            font-size: 0.9rem;
            margin: 1rem 0;
            display: none;
        }

        .otp-error.show {
            display: block;
            animation: shake 0.5s;
        }

        .otp-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .otp-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .otp-verify {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
        }

        .otp-resend {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .otp-cancel {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .otp-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .otp-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .otp-timer {
            font-size: 0.9rem;
            margin-top: 1rem;
            opacity: 0.8;
        }

        .otp-loading {
            display: none;
            margin: 1rem 0;
        }

        .otp-loading.show {
            display: block;
        }

        .spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid #1abc9c;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Orders Section */
        .orders-section {
            display: none;
            padding: 4rem 2rem;
            background: #f8f9fa;
            min-height: 100vh;
        }

        .orders-section.show {
            display: block;
        }

        .orders-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .orders-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .orders-title {
            font-size: 2.5rem;
            color: #2c3e50;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }

        .orders-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .new-order-btn, .export-btn, .new-po-btn, .new-delivery-btn, .new-customer-btn, .new-supplier-btn {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .new-po-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
        }

        .new-delivery-btn {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
        }

        .new-customer-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }

        .new-supplier-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
        }

        .export-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }

        .new-order-btn:hover, .export-btn:hover, .new-po-btn:hover, .new-delivery-btn:hover, .new-customer-btn:hover, .new-supplier-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26, 188, 156, 0.4);
        }

        .logout-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .order-form-card, .po-form-card {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .order-serial, .po-serial {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            display: inline-block;
            font-weight: 700;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .po-serial {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
        }

        .form-section-title {
            font-size: 1.3rem;
            color: #667eea;
            margin: 2rem 0 1.5rem 0;
            font-weight: 700;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-section-title:first-of-type {
            margin-top: 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-field {
            display: flex;
            flex-direction: column;
        }

        .form-field.full-width {
            grid-column: 1 / -1;
        }

        .form-field label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-field input,
        .form-field select,
        .form-field textarea {
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .form-field input[type="file"] {
            padding: 0.5rem;
        }

        .form-field input:focus,
        .form-field select:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .form-field textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .save-order-btn, .save-po-btn, .save-delivery-btn, .save-customer-btn, .save-supplier-btn {
            background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
        }

        .save-po-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
        }

        .save-delivery-btn {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
        }

        .save-customer-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }

        .save-supplier-btn {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
        }

        .save-order-btn:hover, .save-po-btn:hover, .save-delivery-btn:hover, .save-customer-btn:hover, .save-supplier-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(26, 188, 156, 0.4);
        }

        .cancel-edit-btn {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cancel-edit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(149, 165, 166, 0.4);
        }

        /* Saved Orders List */
        .saved-orders-section {
            margin-top: 3rem;
        }

        .saved-orders-title {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .orders-grid, .po-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .order-card, .po-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 4px solid #667eea;
        }

        .po-card {
            border-left-color: #e67e22;
        }

        .order-card:hover, .po-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        }

        .order-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .order-number, .po-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #667eea;
        }

        .po-number {
            color: #e67e22;
        }

        .order-date {
            font-size: 0.85rem;
            color: #95a5a6;
        }

        .order-info {
            margin-bottom: 1rem;
        }

        .order-info-row {
            display: flex;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .order-info-label {
            font-weight: 600;
            color: #2c3e50;
            min-width: 120px;
        }

        .order-info-value {
            color: #555;
        }

        .no-orders {
            text-align: center;
            padding: 3rem;
            color: #95a5a6;
            font-size: 1.2rem;
        }

        /* Export Dropdown */
        .export-dropdown {
            position: relative;
            display: inline-block;
        }

        .export-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: white;
            min-width: 180px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-radius: 8px;
            z-index: 1;
            overflow: hidden;
        }

        .export-dropdown-content.show {
            display: block;
        }

        .export-dropdown-content button {
            width: 100%;
            padding: 0.8rem 1rem;
            border: none;
            background: white;
            text-align: left;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 600;
            color: #2c3e50;
        }

        .export-dropdown-content button:hover {
            background: #f8f9fa;
        }

        /* Animation Section */
        .animation-section {
            position: relative;
            width: 100%;
            height: 140px;
            margin-top: 1rem;
            background: linear-gradient(to bottom, transparent 0%, transparent 75%, #34495e 75%, #2c3e50 80%, #34495e 80%, #34495e 100%);
        }

        .animation-section.paused * {
            animation-play-state: paused !important;
        }

        .connection-line {
            position: absolute;
            bottom: 42%;
            left: 15%;
            width: 35%;
            height: 3px;
            background: linear-gradient(90deg, #1abc9c, #3498db);
            z-index: 8;
            opacity: 0;
            animation: showConnection 30s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(26, 188, 156, 0.5);
        }

        @keyframes showConnection {
            0%, 30% { opacity: 0; width: 0; }
            35% { opacity: 1; width: 35%; }
            40% { opacity: 1; width: 35%; }
            45% { opacity: 0; width: 35%; }
            100% { opacity: 0; width: 35%; }
        }

        .connection-line::before {
            content: 'â†’';
            position: absolute;
            right: -15px;
            top: -12px;
            font-size: 1.5rem;
            color: #3498db;
        }

        .business-locations {
            position: absolute;
            bottom: 30%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 5%;
            z-index: 10;
        }

        .location {
            text-align: center;
            position: relative;
        }

        .location-icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.4));
        }

        .location-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: #ecf0f1;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            white-space: nowrap;
        }

        .supplier { color: #3498db; }
        .office { color: #1abc9c; }
        .customer { color: #f39c12; }

        .customer-person {
            position: absolute;
            bottom: 30%;
            right: 20%;
            font-size: 2rem;
            z-index: 15;
            animation: customerJourney 30s ease-in-out infinite;
        }

        @keyframes customerJourney {
            0%, 5% { right: 20%; transform: scaleX(1); opacity: 1; }
            15% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 1; }
            20%, 25% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 1; }
            30% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 0; }
            100% { right: 50%; transform: scaleX(1) translateX(50%); opacity: 0; }
        }

        .order-payment {
            position: absolute;
            bottom: 35%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            z-index: 15;
            opacity: 0;
            animation: showOrderPayment 30s ease-in-out infinite;
        }

        @keyframes showOrderPayment {
            0%, 20% { opacity: 0; transform: translateX(-50%) scale(0); }
            25% { opacity: 1; transform: translateX(-50%) scale(1.2); }
            30% { opacity: 1; transform: translateX(-50%) scale(1); }
            35% { opacity: 0; transform: translateX(-50%) scale(0); }
            100% { opacity: 0; transform: translateX(-50%) scale(0); }
        }

        .packing-boxes {
            position: absolute;
            bottom: 35%;
            left: 15%;
            font-size: 1.5rem;
            z-index: 15;
            opacity: 0;
            animation: packingGoods 30s ease-in-out infinite;
        }

        @keyframes packingGoods {
            0%, 40% { opacity: 0; transform: scale(0); }
            45% { opacity: 1; transform: scale(1.2); }
            50% { opacity: 1; transform: scale(1); }
            55% { opacity: 1; transform: scale(1); }
            60% { opacity: 0; transform: scale(0); }
            100% { opacity: 0; transform: scale(0); }
        }

        .truck-container {
            position: absolute;
            bottom: 28%;
            width: 100%;
            height: 80px;
            z-index: 20;
        }

        .truck {
            position: absolute;
            left: 15%;
            bottom: 0;
            font-size: 3rem;
            opacity: 0;
            transform: scaleX(-1);
            animation: truckDelivery 30s ease-in-out infinite;
        }

        @keyframes truckDelivery {
            0%, 55% { left: 15%; opacity: 0; }
            60% { left: 15%; opacity: 1; }
            85% { left: 80%; opacity: 1; }
            90% { left: 80%; opacity: 1; }
            95% { left: 80%; opacity: 0; }
            100% { left: 80%; opacity: 0; }
        }

        .delivery-check {
            position: absolute;
            bottom: 35%;
            right: 15%;
            font-size: 2rem;
            z-index: 15;
            opacity: 0;
            animation: deliveryComplete 30s ease-in-out infinite;
        }

        @keyframes deliveryComplete {
            0%, 85% { opacity: 0; transform: scale(0) rotate(0deg); }
            90% { opacity: 1; transform: scale(1.3) rotate(360deg); }
            95% { opacity: 1; transform: scale(1) rotate(360deg); }
            100% { opacity: 0; transform: scale(0) rotate(360deg); }
        }

        .road-lines {
            position: absolute;
            bottom: 25%;
            left: 0;
            width: 100%;
            height: 2px;
            background: repeating-linear-gradient(90deg, transparent 0px, transparent 20px, rgba(255,255,255,0.3) 20px, rgba(255,255,255,0.3) 40px);
            z-index: 5;
        }

        .hero {
            position: relative;
            color: white;
            padding: 6rem 2rem;
            text-align: center;
            background-image: url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.5) 0%, rgba(118, 75, 162, 0.5) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
            text-shadow: 0 3px 15px rgba(0,0,0,0.5);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
            text-shadow: 0 2px 10px rgba(0,0,0,0.4);
        }

        .action-boxes {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 4rem;
            flex-wrap: wrap;
        }

        .action-box {
            text-decoration: none;
            cursor: pointer;
            text-align: center;
            position: relative;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .action-box:hover {
            animation: none;
            transform: translateY(-10px) scale(1.1);
        }

        .action-box-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            display: block;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5));
            transition: all 0.3s;
        }

        .action-box-label {
            display: inline-block;
            padding: 0.8rem 2rem;
            border: 3px solid;
            border-image: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%) 1;
            border-radius: 10px;
            font-size: 1.5rem;
            font-weight: 900;
            font-family: 'Inter', sans-serif;
            letter-spacing: 1px;
            text-transform: uppercase;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5), inset 0 0 20px rgba(255, 215, 0, 0.1);
            transition: all 0.3s;
        }

        .action-box.buy .action-box-label {
            color: #27ae60;
            text-shadow: 0 0 10px rgba(39, 174, 96, 0.8);
        }

        .action-box.sell .action-box-label {
            color: #e74c3c;
            text-shadow: 0 0 10px rgba(231, 76, 60, 0.8);
        }

        .action-box.auction .action-box-label {
            color: #8B4513;
            text-shadow: 0 0 10px rgba(139, 69, 19, 0.8);
        }

        .action-box:hover .action-box-icon {
            transform: rotate(10deg) scale(1.2);
            filter: drop-shadow(0 8px 25px rgba(255,255,255,0.3));
        }

        .action-box:hover .action-box-label {
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), inset 0 0 30px rgba(255, 215, 0, 0.2);
            transform: scale(1.05);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 2rem 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2.5rem;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
            position: relative;
            margin: auto;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            font-family: 'Inter', sans-serif;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .close-btn:hover {
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.9);
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: white;
            background: white;
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }

        .error-message {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            border-left: 4px solid #ff6b6b;
            display: none;
        }

        .error-message.show {
            display: block;
            animation: shake 0.5s;
        }

        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255,255,255,0.4);
        }

        .success-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            overflow-y: auto;
        }

        .success-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            padding: 1rem;
        }

        .success-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            padding: 2rem;
            border-radius: 20px;
            width: 95%;
            max-width: 600px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.4);
            animation: slideUp 0.5s ease;
            text-align: center;
            color: white;
            border: 2px solid rgba(255, 215, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.3;
        }

        .success-message {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            opacity: 0.95;
        }

        .discount-box {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 1.2rem;
            border-radius: 15px;
            margin: 1.5rem 0;
            border: 2px solid rgba(255, 215, 0, 0.5);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .discount-code {
            font-size: 2rem;
            font-weight: 900;
            letter-spacing: 3px;
            margin: 0.5rem 0;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.8));
        }

        .privacy-notice {
            background: rgba(52, 152, 219, 0.2);
            padding: 1rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            font-size: 0.9rem;
            line-height: 1.5;
            border-left: 4px solid #3498db;
        }

        .whatsapp-btn-success {
            display: inline-block;
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            padding: 0.9rem 1.8rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1rem;
            margin-top: 1rem;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
        }

        .close-success-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #2c3e50;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .close-success-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        }

        .features {
            padding: 4rem 2rem;
            background: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2c3e50;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-family: 'Inter', sans-serif;
        }

        .about {
            padding: 4rem 2rem;
            background: white;
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .about-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
            margin-bottom: 1rem;
        }

        .contact {
            padding: 4rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .contact-info {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-info h2 {
            margin-bottom: 2rem;
            font-family: 'Inter', sans-serif;
        }

        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            font-size: 1.1rem;
        }

        .contact-details a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .contact-details a:hover {
            opacity: 0.8;
        }

        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem;
        }

        @media (max-width: 768px) {
            .animation-section { height: 100px; }
            .logo-img { width: 55px; height: 55px; }
            .brand-name { font-size: 1.4rem; }
            .brand-tagline { font-size: 0.6rem; }
            .location-icon { font-size: 1.5rem; }
            .location-label { font-size: 0.5rem; }
            .truck { font-size: 2rem; }
            .customer-person { font-size: 1.5rem; }
            .hero { background-attachment: scroll; padding: 4rem 1rem; }
            .hero h1 { font-size: 1.8rem; }
            .hero p { font-size: 1rem; }
            .action-boxes { gap: 2rem; }
            .action-box-icon { font-size: 3.5rem; }
            .action-box-label { font-size: 1.2rem; padding: 0.6rem 1.5rem; }
            .section-title { font-size: 2rem; }
            .modal-content { padding: 1.5rem; }
            .modal-title { font-size: 1.5rem; }
            .success-content { padding: 1.5rem; }
            .success-icon { font-size: 3rem; }
            .success-title { font-size: 1.5rem; }
            .success-message { font-size: 0.9rem; }
            .discount-code { font-size: 1.5rem; letter-spacing: 2px; }
            .discount-box { padding: 1rem; }
            .privacy-notice { font-size: 0.85rem; padding: 0.8rem; }
            .whatsapp-btn-success { font-size: 0.9rem; padding: 0.8rem 1.5rem; }
            .close-success-btn { font-size: 0.9rem; padding: 0.7rem 1.5rem; }
            .orders-title { font-size: 2rem; }
            .orders-header { flex-direction: column; gap: 1rem; align-items: flex-start; }
            .form-row { grid-template-columns: 1fr; }
            .orders-grid, .po-grid, .delivery-grid, .database-grid { grid-template-columns: 1fr; }
            .form-buttons { flex-direction: column; }
            .otp-digit { width: 40px; height: 50px; font-size: 1.2rem; }
            .otp-input-container { gap: 0.3rem; }
            .universal-actions { flex-direction: column; }
            .action-btn { min-width: auto; }
            .tab-btn { font-size: 0.9rem; padding: 0.8rem 1rem; min-width: 120px; }
            .tabs-container { overflow-x: auto; }
        }

        @media (max-width: 480px) {
            .success-title { font-size: 1.3rem; }
            .discount-code { font-size: 1.3rem; }
            .action-box-label { font-size: 1rem; padding: 0.5rem 1.2rem; }
            .order-form-card, .po-form-card, .database-card { padding: 1.5rem; }
            .otp-content { padding: 1.5rem; }
            .otp-title { font-size: 1.5rem; }
            .delivery-address-card { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-section">
                <img src="https://nyc3.digitaloceanspaces.com/bhindi-drive/files/e42f16e8-8f96-4b73-9b52-8fe6992865e2/2025-12-11T20-02-47-298Z-a17e40fd-chat-image-1765483367276-0.jpg" alt="AK Brands Marketing Logo" class="logo-img" id="headerLogo">
                <div class="brand-text">
                    <div class="brand-name"><span class="ak">AK</span> Brands Marketing</div>
                    <div class="brand-tagline">Trusted Firm</div>
                </div>
            </div>
            <div class="menu-dropdown">
                <button class="menu-button" onclick="toggleMenu()">â‹®</button>
                <div class="dropdown-content" id="menuDropdown">
                    <a href="#home" onclick="showSection('home')">Home</a>
                    <a href="#features" onclick="showSection('features')">Services</a>
                    <a href="#about" onclick="showSection('about')">About</a>
                    <a href="#contact" onclick="showSection('contact')">Contact</a>
                    <a onclick="openOrdersWithOTP()">Orders Management</a>
                </div>
            </div>
        </div>

        <div class="animation-section" id="animationSection">
            <div class="road-lines"></div>
            <div class="connection-line"></div>
            <div class="business-locations">
                <div class="location">
                    <div class="location-icon">ðŸ­</div>
                    <div class="location-label supplier">Supplier</div>
                </div>
                <div class="location">
                    <div class="location-icon">ðŸ¢</div>
                    <div class="location-label office">AK</div>
                </div>
                <div class="location">
                    <div class="location-icon">ðŸª</div>
                    <div class="location-label customer">Customer</div>
                </div>
            </div>
            <div class="customer-person">ðŸš¶</div>
            <div class="order-payment">ðŸ’³ðŸ“</div>
            <div class="packing-boxes">ðŸ“¦ðŸ“¦ðŸ“¦</div>
            <div class="truck-container">
                <div class="truck">ðŸšš</div>
            </div>
            <div class="delivery-check">âœ…</div>
        </div>
    </header>

    <!-- View Modal -->
    <div id="viewModal" class="view-modal">
        <div class="view-modal-content">
            <div class="view-modal-header">
                <h2 class="view-modal-title" id="viewModalTitle">View Details</h2>
                <button class="view-close-btn" onclick="closeViewModal()">&times;</button>
            </div>
            <div id="viewModalBody"></div>
        </div>
    </div>

    <div id="otpModal" class="otp-modal">
        <div class="otp-content">
            <h2 class="otp-title">ðŸ” Secure Login</h2>
            <p class="otp-subtitle">
                Enter your authorized phone number to receive OTP
            </p>
            
            <div id="phoneInputSection">
                <div class="phone-input-container">
                    <input type="tel" id="phoneInput" class="phone-input" placeholder="Enter 10-digit mobile number" maxlength="10" pattern="[0-9]{10}">
                </div>
                <button class="send-otp-btn" onclick="requestOTP()">Send OTP</button>
            </div>
            
            <div class="otp-loading" id="otpLoading">
                <div class="spinner"></div>
                <p style="margin-top: 1rem;">Sending OTP via WhatsApp...</p>
            </div>
            
            <div id="otpInputSection" style="display: none;">
                <div class="otp-input-container">
                    <input type="text" maxlength="1" class="otp-digit" id="otp1" oninput="moveToNext(this, 'otp2')" onkeydown="moveToPrev(event, this, null)">
                    <input type="text" maxlength="1" class="otp-digit" id="otp2" oninput="moveToNext(this, 'otp3')" onkeydown="moveToPrev(event, this, 'otp1')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp3" oninput="moveToNext(this, 'otp4')" onkeydown="moveToPrev(event, this, 'otp2')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp4" oninput="moveToNext(this, 'otp5')" onkeydown="moveToPrev(event, this, 'otp3')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp5" oninput="moveToNext(this, 'otp6')" onkeydown="moveToPrev(event, this, 'otp4')">
                    <input type="text" maxlength="1" class="otp-digit" id="otp6" oninput="handleLastDigit()" onkeydown="moveToPrev(event, this, 'otp5')">
                </div>
                
                <div class="otp-error" id="otpError">âŒ Invalid OTP. Please try again.</div>
                
                <div class="otp-timer" id="otpTimer"></div>
                
                <div class="otp-buttons">
                    <button class="otp-btn otp-verify" onclick="verifyOTP()">Verify</button>
                    <button class="otp-btn otp-resend" id="resendBtn" onclick="resendOTP()" disabled>Resend OTP</button>
                </div>
            </div>
            
            <div class="otp-error" id="phoneError" style="margin-top: 1rem;">âŒ Unauthorized phone number</div>
            
            <button class="otp-btn otp-cancel" onclick="closeOTPModal()" style="width: 100%; margin-top: 1rem;">Cancel</button>
        </div>
    </div>

    <!-- Orders Management Section with Tabs -->
    <section id="ordersSection" class="orders-section">
        <div class="orders-container">
            <div class="orders-header">
                <h1 class="orders-title">ðŸ“‹ Orders Management</h1>
                <div class="orders-actions">
                    <button class="logout-btn" onclick="logoutOrders()">ðŸšª Logout</button>
                </div>
            </div>

            <!-- Tabs -->
            <div class="tabs-container">
                <button class="tab-btn active" onclick="switchTab('customers')">ðŸ‘¥ Customers</button>
                <button class="tab-btn" onclick="switchTab('suppliers')">ðŸ­ Suppliers</button>
                <button class="tab-btn" onclick="switchTab('orders')">ðŸ“¦ Orders</button>
                <button class="tab-btn" onclick="switchTab('po')">ðŸ“„ Purchase Orders</button>
                <button class="tab-btn" onclick="switchTab('delivery')">ðŸšš Delivery Address</button>
            </div>

            <!-- Customer Database Tab -->
            <div id="customersTab" class="tab-content active">
                <div class="orders-header" style="margin-top: 0;">
                    <h2 style="font-size: 1.8rem; color: #3498db;">Customer Database</h2>
                    <div class="orders-actions">
                        <button class="new-customer-btn" onclick="createNewCustomer()">âž• New Customer</button>
                        <div class="export-dropdown">
                            <button class="export-btn" onclick="toggleCustomerExportMenu()">ðŸ“¥ Export All</button>
                            <div class="export-dropdown-content" id="customerExportDropdown">
                                <button onclick="exportCustomersToPDF()">ðŸ“„ Export to PDF</button>
                                <button onclick="exportCustomersToExcel()">ðŸ“Š Export to Excel</button>
                                <button onclick="exportCustomersToWord()">ðŸ“ Export to Word</button>
                                <button onclick="shareCustomersViaWhatsApp()">ðŸ“± Send via WhatsApp</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="database-card" id="customerFormCard">
                    <h3 class="database-title">ðŸ“ Add New Customer</h3>
                    
                    <form id="customerForm">
                        <div class="form-row">
                            <div class="form-field">
                                <label>Customer Name *</label>
                                <input type="text" name="customerName" required placeholder="Enter customer name">
                            </div>
                            <div class="form-field">
                                <label>Contact Details *</label>
                                <input type="tel" name="contactDetails" required placeholder="10 digit mobile" pattern="[0-9]{10}">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-field full-width">
                                <label>Address *</label>
                                <textarea name="address" required placeholder="Enter complete address" rows="2"></textarea>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-field">
                                <label>City *</label>
                                <input type="text" name="city" required placeholder="Enter city">
                            </div>
                            <div class="form-field">
                                <label>State *</label>
                                <input type="text" name="state" required placeholder="Enter state">
                            </div>
                            <div class="form-field">
                                <label>Pincode *</label>
                                <input type="text" name="pincode" required placeholder="6 digit pincode" pattern="[0-9]{6}">
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="submit" class="save-customer-btn">ðŸ’¾ Save Customer</button>
                            <button type="button" class="cancel-edit-btn" onclick="cancelCustomerEdit()" style="display: none;">âŒ Cancel</button>
                        </div>
                    </form>
                </div>

                <div class="saved-orders-section">
                    <h2 class="saved-orders-title">ðŸ‘¥ All Customers</h2>
                    <div class="database-grid" id="customersGrid">
                        <div class="no-orders">No customers yet. Add your first customer above!</div>
                    </div>
                </div>
            </div>

            <!-- Supplier Database Tab -->
            <div id="suppliersTab" class="tab-content">
                <div class="orders-header" style="margin-top: 0;">
                    <h2 style="font-size: 1.8rem; color: #e67e22;">Supplier Database</h2>
                    <div class="orders-actions">
                        <button class="new-supplier-btn" onclick="createNewSupplier()">âž• New Supplier</button>
                        <div class="export-dropdown">
                            <button class="export-btn" onclick="toggleSupplierExportMenu()">ðŸ“¥ Export All</button>
                            <div class="export-dropdown-content" id="supplierExportDropdown">
                                <button onclick="exportSuppliersToPDF()">ðŸ“„ Export to PDF</button>
                                <button onclick="exportSuppliersToExcel()">ðŸ“Š Export to Excel</button>
                                <button onclick="exportSuppliersToWord()">ðŸ“ Export to Word</button>
                                <button onclick="shareSuppliersViaWhatsApp()">ðŸ“± Send via WhatsApp</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="database-card supplier" id="supplierFormCard">
                    <h3 class="database-title supplier">ðŸ“ Add New Supplier</h3>
                    
                    <form id="supplierForm">
                        <div class="form-row">
                            <div class="form-field">
                                <label>Supplier Name *</label>
                                <input type="text" name="supplierName" required placeholder="Enter supplier name">
                            </div>
                            <div class="form-field">
                                <label>Contact Details *</label>
                                <input type="tel" name="contactDetails" required placeholder="10 digit mobile" pattern="[0-9]{10}">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-field full-width">
                                <label>Address *</label>
                                <textarea name="address" required placeholder="Enter complete address" rows="2"></textarea>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-field">
                                <label>City *</label>
                                <input type="text" name="city" required placeholder="Enter city">
                            </div>
                            <div class="form-field">
                                <label>State *</label>
                                <input type="text" name="state" required placeholder="Enter state">
                            </div>
                            <div class="form-field">
                                <label>Pincode *</label>
                                <input type="text" name="pincode" required placeholder="6 digit pincode" pattern="[0-9]{6}">
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="submit" class="save-supplier-btn">ðŸ’¾ Save Supplier</button>
                            <button type="button" class="cancel-edit-btn" onclick="cancelSupplierEdit()" style="display: none;">âŒ Cancel</button>
                        </div>
                    </form>
                </div>

                <div class="saved-orders-section">
                    <h2 class="saved-orders-title">ðŸ­ All Suppliers</h2>
                    <div class="database-grid" id="suppliersGrid">
                        <div class="no-orders">No suppliers yet. Add your first supplier above!</div>
                    </div>
                </div>
            </div>

            <!-- Orders Tab Content -->
            <div id="ordersTab" class="tab-content">
                <div class="orders-header" style="margin-top: 0;">
                    <h2 style="font-size: 1.8rem; color: #667eea;">Customer Orders</h2>
                    <div class="orders-actions">
                        <button class="new-order-btn" onclick="createNewOrder()">âž• New Order</button>
                        <div class="export-dropdown">
                            <button class="export-btn" onclick="toggleExportMenu()">ðŸ“¥ Export All</button>
                            <div class="export-dropdown-content" id="exportDropdown">
                                <button onclick="exportAllToPDF()">ðŸ“„ Export to PDF</button>
                                <button onclick="exportAllToExcel()">ðŸ“Š Export to Excel</button>
                                <button onclick="exportAllToWord()">ðŸ“ Export to Word</button>
                                <button onclick="shareAllViaWhatsApp()">ðŸ“± Send via WhatsApp</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="order-form-card" id="orderFormCard">
                    <div class="order-serial" id="orderSerial">Order #1</div>
                    
                    <form id="orderForm">
                        <!-- Customer Details -->
                        <div class="form-section-title">ðŸ‘¤ Customer Details</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Customer Name *</label>
                                <input type="text" name="customerName" required placeholder="Enter customer name">
                            </div>
                            <div class="form-field">
                                <label>Business Name</label>
                                <input type="text" name="businessName" placeholder="Enter business name">
                            </div>
                            <div class="form-field">
                                <label>Mobile Number *</label>
                                <input type="tel" name="mobileNumber" required placeholder="10 digit mobile" pattern="[0-9]{10}">
                            </div>
                            <div class="form-field">
                                <label>City</label>
                                <input type="text" name="city" placeholder="Enter city">
                            </div>
                        </div>

                        <!-- Order Details -->
                        <div class="form-section-title">ðŸ“¦ Order Details</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Lot Number *</label>
                                <input type="text" name="lotNumber" required placeholder="Enter lot number">
                            </div>
                            <div class="form-field">
                                <label>Category *</label>
                                <input type="text" name="category" required placeholder="e.g., Electronics, Garments">
                            </div>
                            <div class="form-field">
                                <label>Quantity *</label>
                                <input type="number" name="quantity" required placeholder="Enter quantity" min="1">
                            </div>
                            <div class="form-field">
                                <label>Total Amount (â‚¹) *</label>
                                <input type="number" name="totalAmount" required placeholder="Enter amount" min="0" step="0.01">
                            </div>
                        </div>

                        <!-- Payment Tracking -->
                        <div class="form-section-title">ðŸ’³ Payment Tracking</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Payment Method</label>
                                <select name="paymentMethod">
                                    <option value="">Select method</option>
                                    <option value="Cash">Cash</option>
                                    <option value="Bank">Bank Transfer</option>
                                    <option value="UPI">UPI</option>
                                </select>
                            </div>
                            <div class="form-field">
                                <label>Paid Amount (â‚¹)</label>
                                <input type="number" name="paidAmount" placeholder="Amount paid" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Balance Amount (â‚¹)</label>
                                <input type="number" name="balanceAmount" placeholder="Balance remaining" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Payment Status</label>
                                <select name="paymentStatus">
                                    <option value="">Select status</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Partial">Partial</option>
                                    <option value="Paid">Paid</option>
                                </select>
                            </div>
                        </div>

                        <!-- Order Status -->
                        <div class="form-section-title">ðŸ“Š Order Status</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Current Status</label>
                                <select name="orderStatus">
                                    <option value="">Select status</option>
                                    <option value="Confirmed">Confirmed</option>
                                    <option value="Packed">Packed</option>
                                    <option value="Dispatched">Dispatched</option>
                                    <option value="Delivered">Delivered</option>
                                    <option value="Closed">Closed</option>
                                </select>
                            </div>
                            <div class="form-field">
                                <label>Dispatch Date</label>
                                <input type="date" name="dispatchDate">
                            </div>
                            <div class="form-field">
                                <label>Delivery Date</label>
                                <input type="date" name="deliveryDate">
                            </div>
                        </div>

                        <!-- Notes -->
                        <div class="form-section-title">ðŸ“ Notes</div>
                        <div class="form-row">
                            <div class="form-field full-width">
                                <label>Additional Notes</label>
                                <textarea name="notes" placeholder="Enter any additional notes" rows="3"></textarea>
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="submit" class="save-order-btn">ðŸ’¾ Save Order</button>
                            <button type="button" class="cancel-edit-btn" onclick="cancelEdit()" style="display: none;">âŒ Cancel</button>
                        </div>
                    </form>
                </div>

                <div class="saved-orders-section">
                    <h2 class="saved-orders-title">ðŸ“¦ All Orders</h2>
                    <div class="orders-grid" id="ordersGrid">
                        <div class="no-orders">No orders yet. Create your first order above!</div>
                    </div>
                </div>
            </div>

            <!-- Purchase Orders Tab Content -->
            <div id="poTab" class="tab-content">
                <div class="orders-header" style="margin-top: 0;">
                    <h2 style="font-size: 1.8rem; color: #e67e22;">Purchase Orders</h2>
                    <div class="orders-actions">
                        <button class="new-po-btn" onclick="createNewPO()">âž• New PO</button>
                        <div class="export-dropdown">
                            <button class="export-btn" onclick="togglePOExportMenu()">ðŸ“¥ Export All</button>
                            <div class="export-dropdown-content" id="poExportDropdown">
                                <button onclick="exportAllPOsToPDF()">ðŸ“„ Export to PDF</button>
                                <button onclick="exportAllPOsToExcel()">ðŸ“Š Export to Excel</button>
                                <button onclick="exportAllPOsToWord()">ðŸ“ Export to Word</button>
                                <button onclick="shareAllPOsViaWhatsApp()">ðŸ“± Send via WhatsApp</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="po-form-card" id="poFormCard">
                    <div class="po-serial" id="poSerial">PO #AKBM-2026-001</div>
                    
                    <form id="poForm">
                        <!-- Supplier Details -->
                        <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">ðŸ­ Supplier Details</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Supplier Name *</label>
                                <input type="text" name="supplierName" required placeholder="Enter supplier name">
                            </div>
                            <div class="form-field">
                                <label>Supplier Contact *</label>
                                <input type="tel" name="supplierContact" required placeholder="10 digit mobile" pattern="[0-9]{10}">
                            </div>
                            <div class="form-field full-width">
                                <label>Supplier Address *</label>
                                <textarea name="supplierAddress" required placeholder="Enter complete address" rows="2"></textarea>
                            </div>
                        </div>

                        <!-- Customer Details -->
                        <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">ðŸ‘¤ Customer Details</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Customer Name *</label>
                                <input type="text" name="customerName" required placeholder="Enter customer name">
                            </div>
                            <div class="form-field">
                                <label>Customer Contact *</label>
                                <input type="tel" name="customerContact" required placeholder="10 digit mobile" pattern="[0-9]{10}">
                            </div>
                            <div class="form-field full-width">
                                <label>Delivery Address *</label>
                                <textarea name="deliveryAddress" required placeholder="Enter delivery address" rows="2"></textarea>
                            </div>
                        </div>

                        <!-- Product Details -->
                        <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">ðŸ“¦ Product Details</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Product/Item Description *</label>
                                <input type="text" name="productDescription" required placeholder="e.g., Electronics, Garments">
                            </div>
                            <div class="form-field">
                                <label>Quantity *</label>
                                <input type="number" name="quantity" required placeholder="Enter quantity" min="1">
                            </div>
                            <div class="form-field">
                                <label>Unit Price (â‚¹) *</label>
                                <input type="number" name="unitPrice" required placeholder="Price per unit" min="0" step="0.01">
                            </div>
                            <div class="form-field">
                                <label>Total Amount (â‚¹) *</label>
                                <input type="number" name="totalAmount" required placeholder="Total amount" min="0" step="0.01" readonly>
                            </div>
                        </div>

                        <!-- Delivery & Payment Terms -->
                        <div class="form-section-title" style="color: #e67e22; border-bottom-color: #e67e22;">ðŸšš Delivery & Payment</div>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Expected Delivery Date *</label>
                                <input type="date" name="deliveryDate" required>
                            </div>
                            <div class="form-field">
                                <label>Payment Terms *</label>
                                <select name="paymentTerms" required>
                                    <option value="">Select terms</option>
                                    <option value="Advance Payment">Advance Payment</option>
                                    <option value="50% Advance">50% Advance</option>
                                    <option value="Cash on Delivery">Cash on Delivery</option>
                                    <option value="Credit - 7 Days">Credit - 7 Days</option>
                                    <option value="Credit - 15 Days">Credit - 15 Days</option>
                                    <option value="Credit - 30 Days">Credit - 30 Days</option>
                                </select>
                            </div>
                            <div class="form-field full-width">
                                <label>Special Instructions</label>
                                <textarea name="specialInstructions" placeholder="Any special handling or delivery instructions" rows="2"></textarea>
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="submit" class="save-po-btn">ðŸ’¾ Generate PO</button>
                            <button type="button" class="cancel-edit-btn" onclick="cancelPOEdit()" style="display: none;">âŒ Cancel</button>
                        </div>
                    </form>
                </div>

                <div class="saved-orders-section">
                    <h2 class="saved-orders-title">ðŸ“„ All Purchase Orders</h2>
                    <div class="po-grid" id="poGrid">
                        <div class="no-orders">No purchase orders yet. Create your first PO above!</div>
                    </div>
                </div>
            </div>

            <!-- Delivery Address Tab Content -->
            <div id="deliveryTab" class="tab-content">
                <div class="orders-header" style="margin-top: 0;">
                    <h2 style="font-size: 1.8rem; color: #27ae60;">Delivery Address</h2>
                    <div class="orders-actions">
                        <button class="new-delivery-btn" onclick="createNewDelivery()">âž• New Address</button>
                    </div>
                </div>

                <div class="delivery-address-card" id="deliveryFormCard">
                    <h3 style="color: #27ae60; margin-bottom: 1.5rem; font-size: 1.5rem;">ðŸ“¦ Create Delivery Address</h3>
                    
                    <form id="deliveryForm">
                        <div class="form-row">
                            <div class="form-field">
                                <label>Quantity *</label>
                                <input type="text" name="deliveryQuantity" required placeholder="e.g., 1000 pairs">
                            </div>
                            <div class="form-field">
                                <label>Product Name *</label>
                                <input type="text" name="deliveryProduct" required placeholder="e.g., Sports Shoes">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-field">
                                <label>Customer Name *</label>
                                <input type="text" name="deliveryCustomerName" required placeholder="Enter customer name">
                            </div>
                            <div class="form-field">
                                <label>Contact Number (Optional)</label>
                                <input type="tel" name="deliveryContact" placeholder="10 digit mobile" pattern="[0-9]{10}">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-field full-width">
                                <label>Full Address *</label>
                                <textarea name="deliveryAddress" required placeholder="Enter complete delivery address" rows="3"></textarea>
                            </div>
                        </div>

                        <div class="form-buttons">
                            <button type="submit" class="save-delivery-btn">ðŸ’¾ Generate Address</button>
                        </div>
                    </form>

                    <div class="delivery-address-preview" id="deliveryPreview" style="display: none;"></div>
                    
                    <div class="universal-actions" id="deliveryActions" style="display: none;">
                        <button class="action-btn view-btn" onclick="viewCurrentDelivery()">ðŸ‘ï¸ View</button>
                        <button class="action-btn edit-btn" onclick="editCurrentDelivery()">âœï¸ Edit</button>
                        <button class="action-btn download-pdf-btn" onclick="downloadDeliveryPDF()">ðŸ“„ PDF</button>
                        <button class="action-btn download-excel-btn" onclick="downloadDeliveryExcel()">ðŸ“Š Excel</button>
                        <button class="action-btn download-word-btn" onclick="downloadDeliveryWord()">ðŸ“ Word</button>
                        <button class="action-btn whatsapp-btn" onclick="shareDeliveryViaWhatsApp()">ðŸ“± WhatsApp</button>
                        <button class="action-btn save-btn" onclick="saveCurrentDelivery()">ðŸ’¾ Save</button>
                        <button class="action-btn delete-btn" onclick="clearDeliveryForm()">ðŸ—‘ï¸ Clear</button>
                    </div>
                </div>

                <div class="saved-delivery-section">
                    <h2 class="saved-orders-title">ðŸšš Saved Delivery Addresses</h2>
                    <div class="delivery-grid" id="deliveryGrid">
                        <div class="no-orders">No delivery addresses yet. Create your first one above!</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1>India's Leading B2B Liquidation Platform</h1>
            <p>Trusted partner for buying and selling liquidation stock lots</p>
            <div class="action-boxes">
                <div class="action-box buy" onclick="openModal('buy')">
                    <span class="action-box-icon">ðŸ›’</span>
                    <div class="action-box-label">Buy</div>
                </div>
                <div class="action-box sell" onclick="openModal('sell')">
                    <span class="action-box-icon">ðŸ’¼</span>
                    <div class="action-box-label">Sell</div>
                </div>
                <div class="action-box auction" onclick="openModal('auction')">
                    <span class="action-box-icon">ðŸ”¨</span>
                    <div class="action-box-label">Live Auction</div>
                </div>
            </div>
        </div>
    </section>

    <div id="buyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ðŸ›’ Buy Stock Lots</h2>
                <button class="close-btn" onclick="closeModal('buy')">&times;</button>
            </div>
            <div class="error-message" id="buyError"></div>
            <form onsubmit="handleSubmit(event, 'buy')">
                <div class="form-group">
                    <label>Name *</label>
                    <input type="text" name="name" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label>WhatsApp Number *</label>
                    <input type="tel" name="phone" required placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}">
                </div>
                <div class="form-group">
                    <label>Address *</label>
                    <textarea name="address" required rows="3" placeholder="Enter your complete address"></textarea>
                </div>
                <div class="form-group">
                    <label>Category *</label>
                    <input type="text" name="category" required placeholder="Enter product category (e.g., Electronics, Garments, etc.)">
                </div>
                <button type="submit" class="submit-btn">Submit Request</button>
            </form>
        </div>
    </div>

    <div id="sellModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ðŸ’¼ Sell Your Stock</h2>
                <button class="close-btn" onclick="closeModal('sell')">&times;</button>
            </div>
            <div class="error-message" id="sellError"></div>
            <form onsubmit="handleSubmit(event, 'sell')">
                <div class="form-group">
                    <label>Name *</label>
                    <input type="text" name="name" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label>WhatsApp Number *</label>
                    <input type="tel" name="phone" required placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}">
                </div>
                <div class="form-group">
                    <label>Address *</label>
                    <textarea name="address" required rows="3" placeholder="Enter your complete address"></textarea>
                </div>
                <div class="form-group">
                    <label>Category *</label>
                    <input type="text" name="category" required placeholder="Enter product category (e.g., Electronics, Garments, etc.)">
                </div>
                <button type="submit" class="submit-btn">Submit Request</button>
            </form>
        </div>
    </div>

    <div id="auctionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">ðŸ”¨ Live Auction</h2>
                <button class="close-btn" onclick="closeModal('auction')">&times;</button>
            </div>
            <div class="error-message" id="auctionError"></div>
            <form onsubmit="handleSubmit(event, 'auction')">
                <div class="form-group">
                    <label>Name *</label>
                    <input type="text" name="name" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label>WhatsApp Number *</label>
                    <input type="tel" name="phone" required placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}">
                </div>
                <div class="form-group">
                    <label>Address *</label>
                    <textarea name="address" required rows="3" placeholder="Enter your complete address"></textarea>
                </div>
                <div class="form-group">
                    <label>Category *</label>
                    <input type="text" name="category" required placeholder="Enter product category (e.g., Electronics, Garments, etc.)">
                </div>
                <button type="submit" class="submit-btn">Join Auction</button>
            </form>
        </div>
    </div>

    <div id="successModal" class="success-modal">
        <div class="success-content">
            <div class="success-icon">ðŸŽ‰</div>
            <h2 class="success-title">Welcome to AK Brands MarketingÂ© Family</h2>
            <p class="success-message">
                Thank you for choosing us as your trusted B2B liquidation partner! We're excited to have you on board.
            </p>
            <div class="discount-box">
                <p style="margin: 0; font-size: 1rem; font-weight: 600; color: white;">ðŸŽ EXCLUSIVE FIRST ORDER OFFER</p>
                <div class="discount-code" id="discountCode">AK1</div>
                <p style="margin: 0; opacity: 0.9; color: white; font-size: 0.9rem;">Get 2% OFF on your first order!</p>
            </div>
            <div class="privacy-notice">
                <strong>ðŸ”’ Your Data is Safe With Us</strong><br>
                We will not use or share your data with any 3rd party until we get your confirmation. Your privacy and trust are our top priorities.
            </div>
            <a href="https://chat.whatsapp.com/FnBohcWrSobFcloZwC6Hnq" target="_blank" class="whatsapp-btn-success">
                ðŸ“± Join WhatsApp Community
            </a>
            <br>
            <button class="close-success-btn" onclick="sendToWhatsApp()">Continue</button>
        </div>
    </div>

    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>ðŸ¢ Bulk Liquidation</h3>
                    <p>Access premium liquidation stock lots from top brands at competitive prices. Perfect for retailers and wholesalers.</p>
                </div>
                <div class="feature-card">
                    <h3>ðŸ¤ Trusted Network</h3>
                    <p>Connect with verified buyers and sellers across India. Build lasting business relationships.</p>
                </div>
                <div class="feature-card">
                    <h3>ðŸ“¦ Quality Assurance</h3>
                    <p>All stock lots are verified and quality-checked to ensure you get the best value for your investment.</p>
                </div>
                <div class="feature-card">
                    <h3>ðŸšš Logistics Support</h3>
                    <p>End-to-end logistics solutions to ensure smooth delivery of your liquidation stock across India.</p>
                </div>
                <div class="feature-card">
                    <h3>ðŸ’¼ Business Solutions</h3>
                    <p>Customized B2B solutions tailored to your specific business needs and requirements.</p>
                </div>
                <div class="feature-card">
                    <h3>ðŸ“Š Market Insights</h3>
                    <p>Get access to market trends, pricing insights, and industry analysis to make informed decisions.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title">About AK Brands Marketing</h2>
            <div class="about-content">
                <p>AK Brands Marketing is India's premier B2B liquidation platform, connecting businesses with premium stock lots from leading brands. With years of experience in the liquidation industry, we've built a reputation for reliability, quality, and exceptional service.</p>
                <p>Our mission is to provide a transparent, efficient, and trustworthy marketplace where businesses can buy and sell liquidation stock with confidence. We serve retailers, wholesalers, and distributors across India, helping them maximize value and minimize risk.</p>
                <p>Whether you're looking to source quality products at competitive prices or liquidate excess inventory, AK Brands Marketing is your trusted partner for success.</p>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="contact-info">
            <h2>Get In Touch</h2>
            <div class="contact-details">
                <p>ðŸ“§ Email: <a href="mailto:abdul@akbrandsmarketing.com">abdul@akbrandsmarketing.com</a></p>
                <p>ðŸ“± Phone: <a href="tel:+918660502217">+91 8660502217</a></p>
                <p>ðŸ“ Location: Bengaluru, Karnataka, India</p>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 AK Brands Marketing. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        const AUTHORIZED_PHONE = "8660502217";
        const COMPANY_INFO = {
            name: "AK Brands Marketing",
            tagline: "Trusted Firm",
            email: "abdul@akbrandsmarketing.com",
            phone: "+91 8660502217",
            location: "Bengaluru, Karnataka, India",
            logoUrl: "https://nyc3.digitaloceanspaces.com/bhindi-drive/files/e42f16e8-8f96-4b73-9b52-8fe6992865e2/2025-12-11T20-02-47-298Z-a17e40fd-chat-image-1765483367276-0.jpg",
            standardContact: "8660502217",
            footerContact: "9742926238"
        };
        
        let isOrdersLoggedIn = false;
        let codeCounter = parseInt(localStorage.getItem('akCodeCounter') || '1');
        let registeredPhones = JSON.parse(localStorage.getItem('akRegisteredPhones') || '{}');
        let customerData = null;
        let orders = JSON.parse(localStorage.getItem('akOrders') || '[]');
        let orderCounter = parseInt(localStorage.getItem('akOrderCounter') || '1');
        let editingOrderIndex = null;
        
        // PO System
        let purchaseOrders = JSON.parse(localStorage.getItem('akPurchaseOrders') || '[]');
        let poCounter = parseInt(localStorage.getItem('akPOCounter') || '1');
        let editingPOIndex = null;
        
        // Delivery Address System
        let deliveryAddresses = JSON.parse(localStorage.getItem('akDeliveryAddresses') || '[]');
        let deliveryCounter = parseInt(localStorage.getItem('akDeliveryCounter') || '1');
        let currentDeliveryAddress = '';
        let currentDeliveryData = null;
        
        // Customer Database System
        let customers = JSON.parse(localStorage.getItem('akCustomers') || '[]');
        let customerCounter = parseInt(localStorage.getItem('akCustomerCounter') || '1');
        let editingCustomerIndex = null;
        
        // Supplier Database System
        let suppliers = JSON.parse(localStorage.getItem('akSuppliers') || '[]');
        let supplierCounter = parseInt(localStorage.getItem('akSupplierCounter') || '1');
        let editingSupplierIndex = null;
        
        let currentTab = 'customers';
        
        // OTP System
        let generatedOTP = '';
        let otpTimer = null;
        let resendTimer = null;
        let otpExpiryTime = null;
        let enteredPhone = '';

        // Universal View Modal Functions
        function openViewModal(title, data, type) {
            const modal = document.getElementById('viewModal');
            const modalTitle = document.getElementById('viewModalTitle');
            const modalBody = document.getElementById('viewModalBody');
            
            modalTitle.textContent = title;
            
            let html = '';
            
            if (type === 'customer') {
                html = `
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ‘¤ Customer Information</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Customer ID</div>
                                <div class="view-info-value">#${data.id}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Name</div>
                                <div class="view-info-value">${data.customerName}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Contact</div>
                                <div class="view-info-value">${data.contactDetails}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">City</div>
                                <div class="view-info-value">${data.city}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">State</div>
                                <div class="view-info-value">${data.state}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Pincode</div>
                                <div class="view-info-value">${data.pincode}</div>
                            </div>
                        </div>
                        <div class="view-info-item" style="margin-top: 1rem;">
                            <div class="view-info-label">Full Address</div>
                            <div class="view-info-value">${data.address}</div>
                        </div>
                    </div>
                `;
            } else if (type === 'supplier') {
                html = `
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ­ Supplier Information</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Supplier ID</div>
                                <div class="view-info-value">#${data.id}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Name</div>
                                <div class="view-info-value">${data.supplierName}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Contact</div>
                                <div class="view-info-value">${data.contactDetails}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">City</div>
                                <div class="view-info-value">${data.city}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">State</div>
                                <div class="view-info-value">${data.state}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Pincode</div>
                                <div class="view-info-value">${data.pincode}</div>
                            </div>
                        </div>
                        <div class="view-info-item" style="margin-top: 1rem;">
                            <div class="view-info-label">Full Address</div>
                            <div class="view-info-value">${data.address}</div>
                        </div>
                    </div>
                `;
            } else if (type === 'order') {
                html = `
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ‘¤ Customer Details</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Customer Name</div>
                                <div class="view-info-value">${data.customerName || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Business Name</div>
                                <div class="view-info-value">${data.businessName || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Mobile</div>
                                <div class="view-info-value">${data.mobileNumber || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">City</div>
                                <div class="view-info-value">${data.city || 'N/A'}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ“¦ Order Details</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Lot Number</div>
                                <div class="view-info-value">${data.lotNumber || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Category</div>
                                <div class="view-info-value">${data.category || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Quantity</div>
                                <div class="view-info-value">${data.quantity || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Total Amount</div>
                                <div class="view-info-value">â‚¹${data.totalAmount || '0'}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ’³ Payment Details</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Payment Method</div>
                                <div class="view-info-value">${data.paymentMethod || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Paid Amount</div>
                                <div class="view-info-value">â‚¹${data.paidAmount || '0'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Balance</div>
                                <div class="view-info-value">â‚¹${data.balanceAmount || '0'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Status</div>
                                <div class="view-info-value">${data.paymentStatus || 'N/A'}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ“Š Order Status</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Current Status</div>
                                <div class="view-info-value">${data.orderStatus || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Dispatch Date</div>
                                <div class="view-info-value">${data.dispatchDate || 'N/A'}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Delivery Date</div>
                                <div class="view-info-value">${data.deliveryDate || 'N/A'}</div>
                            </div>
                        </div>
                    </div>
                    
                    ${data.notes ? `
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ“ Notes</h3>
                        <div class="view-info-item">
                            <div class="view-info-value">${data.notes}</div>
                        </div>
                    </div>
                    ` : ''}
                `;
            } else if (type === 'po') {
                html = `
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ­ Supplier Details</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Supplier Name</div>
                                <div class="view-info-value">${data.supplierName}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Contact</div>
                                <div class="view-info-value">${data.supplierContact}</div>
                            </div>
                        </div>
                        <div class="view-info-item" style="margin-top: 1rem;">
                            <div class="view-info-label">Address</div>
                            <div class="view-info-value">${data.supplierAddress}</div>
                        </div>
                    </div>
                    
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ‘¤ Customer Details</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Customer Name</div>
                                <div class="view-info-value">${data.customerName}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Contact</div>
                                <div class="view-info-value">${data.customerContact}</div>
                            </div>
                        </div>
                        <div class="view-info-item" style="margin-top: 1rem;">
                            <div class="view-info-label">Delivery Address</div>
                            <div class="view-info-value">${data.deliveryAddress}</div>
                        </div>
                    </div>
                    
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ“¦ Product Details</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Description</div>
                                <div class="view-info-value">${data.productDescription}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Quantity</div>
                                <div class="view-info-value">${data.quantity}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Unit Price</div>
                                <div class="view-info-value">â‚¹${data.unitPrice}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Total Amount</div>
                                <div class="view-info-value">â‚¹${data.totalAmount}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸšš Delivery & Payment</h3>
                        <div class="view-info-grid">
                            <div class="view-info-item">
                                <div class="view-info-label">Delivery Date</div>
                                <div class="view-info-value">${data.deliveryDate}</div>
                            </div>
                            <div class="view-info-item">
                                <div class="view-info-label">Payment Terms</div>
                                <div class="view-info-value">${data.paymentTerms}</div>
                            </div>
                        </div>
                        ${data.specialInstructions ? `
                        <div class="view-info-item" style="margin-top: 1rem;">
                            <div class="view-info-label">Special Instructions</div>
                            <div class="view-info-value">${data.specialInstructions}</div>
                        </div>
                        ` : ''}
                    </div>
                `;
            } else if (type === 'delivery') {
                html = `
                    <div class="view-section">
                        <h3 class="view-section-title">ðŸ“¦ Delivery Address</h3>
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px; font-family: 'Courier New', monospace; white-space: pre-wrap; line-height: 1.8;">
${formatDeliveryAddress(data)}
                        </div>
                    </div>
                `;
            }
            
            modalBody.innerHTML = html;
            modal.classList.add('show');
        }

        function closeViewModal() {
            document.getElementById('viewModal').classList.remove('show');
        }

        // Universal Action Functions
        function renderUniversalActions(index, type) {
            const actions = `
                <div class="universal-actions">
                    <button class="action-btn view-btn" onclick="viewItem(${index}, '${type}')">ðŸ‘ï¸ View</button>
                    <button class="action-btn edit-btn" onclick="editItem(${index}, '${type}')">âœï¸ Edit</button>
                    <button class="action-btn download-pdf-btn" onclick="downloadItemPDF(${index}, '${type}')">ðŸ“„ PDF</button>
                    <button class="action-btn download-excel-btn" onclick="downloadItemExcel(${index}, '${type}')">ðŸ“Š Excel</button>
                    <button class="action-btn download-word-btn" onclick="downloadItemWord(${index}, '${type}')">ðŸ“ Word</button>
                    <button class="action-btn whatsapp-btn" onclick="shareItemViaWhatsApp(${index}, '${type}')">ðŸ“± WhatsApp</button>
                    <button class="action-btn delete-btn" onclick="deleteItem(${index}, '${type}')">ðŸ—‘ï¸ Delete</button>
                </div>
            `;
            return actions;
        }

        function viewItem(index, type) {
            let data, title;
            
            switch(type) {
                case 'customer':
                    data = customers[index];
                    title = `Customer: ${data.customerName}`;
                    break;
                case 'supplier':
                    data = suppliers[index];
                    title = `Supplier: ${data.supplierName}`;
                    break;
                case 'order':
                    data = orders[index];
                    title = `Order #${data.orderNumber}`;
                    break;
                case 'po':
                    data = purchaseOrders[index];
                    title = `PO #${data.poNumber}`;
                    break;
                case 'delivery':
                    data = deliveryAddresses[index];
                    title = `Delivery #${data.id}`;
                    break;
            }
            
            openViewModal(title, data, type);
        }

        function editItem(index, type) {
            switch(type) {
                case 'customer':
                    editCustomer(index);
                    break;
                case 'supplier':
                    editSupplier(index);
                    break;
                case 'order':
                    editOrder(index);
                    break;
                case 'po':
                    editPO(index);
                    break;
                case 'delivery':
                    editDelivery(index);
                    break;
            }
        }

        function deleteItem(index, type) {
            switch(type) {
                case 'customer':
                    deleteCustomer(index);
                    break;
                case 'supplier':
                    deleteSupplier(index);
                    break;
                case 'order':
                    deleteOrder(index);
                    break;
                case 'po':
                    deletePO(index);
                    break;
                case 'delivery':
                    deleteDelivery(index);
                    break;
            }
        }

        function downloadItemPDF(index, type) {
            alert(`PDF download for ${type} #${index + 1} - Feature coming soon!`);
        }

        function downloadItemExcel(index, type) {
            alert(`Excel download for ${type} #${index + 1} - Feature coming soon!`);
        }

        function downloadItemWord(index, type) {
            alert(`Word download for ${type} #${index + 1} - Feature coming soon!`);
        }

        function shareItemViaWhatsApp(index, type) {
            switch(type) {
                case 'customer':
                    shareCustomerViaWhatsApp(index);
                    break;
                case 'supplier':
                    shareSupplierViaWhatsApp(index);
                    break;
                case 'order':
                    shareOrderViaWhatsApp(index);
                    break;
                case 'po':
                    sharePOViaWhatsApp(index);
                    break;
                case 'delivery':
                    shareDeliveryFromCard(index);
                    break;
            }
        }

        // Tab Switching
        function switchTab(tab) {
            currentTab = tab;
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            if (tab === 'customers') {
                document.getElementById('customersTab').classList.add('active');
                displayCustomers();
            } else if (tab === 'suppliers') {
                document.getElementById('suppliersTab').classList.add('active');
                displaySuppliers();
            } else if (tab === 'orders') {
                document.getElementById('ordersTab').classList.add('active');
                displaySavedOrders();
            } else if (tab === 'po') {
                document.getElementById('poTab').classList.add('active');
                displaySavedPOs();
            } else if (tab === 'delivery') {
                document.getElementById('deliveryTab').classList.add('active');
                displaySavedDeliveries();
            }
        }

        // Customer Database Functions
        function createNewCustomer() {
            editingCustomerIndex = null;
            document.getElementById('customerForm').reset();
            const cancelBtn = document.querySelector('#customerFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'none';
            document.querySelector('.save-customer-btn').textContent = 'ðŸ’¾ Save Customer';
            document.getElementById('customerFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function cancelCustomerEdit() {
            createNewCustomer();
        }

        document.getElementById('customerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const customerData = {
                id: editingCustomerIndex !== null ? customers[editingCustomerIndex].id : customerCounter,
                timestamp: editingCustomerIndex !== null ? customers[editingCustomerIndex].timestamp : new Date().toISOString()
            };
            
            for (let [key, value] of formData.entries()) {
                customerData[key] = value;
            }
            
            if (editingCustomerIndex !== null) {
                customers[editingCustomerIndex] = customerData;
                alert(`âœ… Customer "${customerData.customerName}" updated successfully!`);
            } else {
                customers.push(customerData);
                customerCounter++;
                localStorage.setItem('akCustomerCounter', customerCounter.toString());
                alert(`âœ… Customer "${customerData.customerName}" added successfully!`);
            }
            
            localStorage.setItem('akCustomers', JSON.stringify(customers));
            createNewCustomer();
            displayCustomers();
        });

        function displayCustomers() {
            const customersGrid = document.getElementById('customersGrid');
            
            if (customers.length === 0) {
                customersGrid.innerHTML = '<div class="no-orders">No customers yet. Add your first customer above!</div>';
                return;
            }
            
            customersGrid.innerHTML = customers.map((customer, index) => {
                return `
                    <div class="database-item-card">
                        <div class="database-item-header">
                            <div class="database-item-name">${customer.customerName}</div>
                            <div class="database-item-id">ID: ${customer.id}</div>
                        </div>
                        <div class="database-item-info">
                            <div class="database-info-row">
                                <span class="database-info-label">Contact:</span>
                                <span class="database-info-value">${customer.contactDetails}</span>
                            </div>
                            <div class="database-info-row">
                                <span class="database-info-label">City:</span>
                                <span class="database-info-value">${customer.city}, ${customer.state}</span>
                            </div>
                            <div class="database-info-row">
                                <span class="database-info-label">Pincode:</span>
                                <span class="database-info-value">${customer.pincode}</span>
                            </div>
                        </div>
                        ${renderUniversalActions(index, 'customer')}
                    </div>
                `;
            }).join('');
        }

        function editCustomer(index) {
            editingCustomerIndex = index;
            const customer = customers[index];
            const form = document.getElementById('customerForm');
            
            Object.keys(customer).forEach(key => {
                if (form[key] && key !== 'id' && key !== 'timestamp') {
                    form[key].value = customer[key] || '';
                }
            });
            
            const cancelBtn = document.querySelector('#customerFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'block';
            document.querySelector('.save-customer-btn').textContent = 'âœï¸ Update Customer';
            document.getElementById('customerFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function deleteCustomer(index) {
            if (confirm(`Are you sure you want to delete customer "${customers[index].customerName}"?`)) {
                customers.splice(index, 1);
                localStorage.setItem('akCustomers', JSON.stringify(customers));
                displayCustomers();
                alert('âœ… Customer deleted successfully!');
            }
        }

        function shareCustomerViaWhatsApp(index) {
            const customer = customers[index];
            let message = `ðŸ‘¤ *CUSTOMER DETAILS*\n`;
            message += `*${COMPANY_INFO.name}*\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            message += `*Name:* ${customer.customerName}\n`;
            message += `*Contact:* ${customer.contactDetails}\n`;
            message += `*Address:* ${customer.address}\n`;
            message += `*City:* ${customer.city}\n`;
            message += `*State:* ${customer.state}\n`;
            message += `*Pincode:* ${customer.pincode}\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function toggleCustomerExportMenu() {
            document.getElementById('customerExportDropdown').classList.toggle('show');
        }

        function exportCustomersToPDF() {
            alert('Export customers to PDF - Feature coming soon!');
            document.getElementById('customerExportDropdown').classList.remove('show');
        }

        function exportCustomersToExcel() {
            alert('Export customers to Excel - Feature coming soon!');
            document.getElementById('customerExportDropdown').classList.remove('show');
        }

        function exportCustomersToWord() {
            alert('Export customers to Word - Feature coming soon!');
            document.getElementById('customerExportDropdown').classList.remove('show');
        }

        function shareCustomersViaWhatsApp() {
            if (customers.length === 0) {
                alert('No customers to share!');
                return;
            }
            
            let message = `ðŸ‘¥ *CUSTOMER DATABASE*\n`;
            message += `*${COMPANY_INFO.name}*\n\n`;
            message += `Total Customers: ${customers.length}\n\n`;
            
            customers.forEach((customer, index) => {
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
                message += `${index + 1}. *${customer.customerName}*\n`;
                message += `Contact: ${customer.contactDetails}\n`;
                message += `City: ${customer.city}, ${customer.state}\n`;
                message += `Pincode: ${customer.pincode}\n\n`;
            });
            
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            document.getElementById('customerExportDropdown').classList.remove('show');
        }

        // Supplier Database Functions
        function createNewSupplier() {
            editingSupplierIndex = null;
            document.getElementById('supplierForm').reset();
            const cancelBtn = document.querySelector('#supplierFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'none';
            document.querySelector('.save-supplier-btn').textContent = 'ðŸ’¾ Save Supplier';
            document.getElementById('supplierFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function cancelSupplierEdit() {
            createNewSupplier();
        }

        document.getElementById('supplierForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const supplierData = {
                id: editingSupplierIndex !== null ? suppliers[editingSupplierIndex].id : supplierCounter,
                timestamp: editingSupplierIndex !== null ? suppliers[editingSupplierIndex].timestamp : new Date().toISOString()
            };
            
            for (let [key, value] of formData.entries()) {
                supplierData[key] = value;
            }
            
            if (editingSupplierIndex !== null) {
                suppliers[editingSupplierIndex] = supplierData;
                alert(`âœ… Supplier "${supplierData.supplierName}" updated successfully!`);
            } else {
                suppliers.push(supplierData);
                supplierCounter++;
                localStorage.setItem('akSupplierCounter', supplierCounter.toString());
                alert(`âœ… Supplier "${supplierData.supplierName}" added successfully!`);
            }
            
            localStorage.setItem('akSuppliers', JSON.stringify(suppliers));
            createNewSupplier();
            displaySuppliers();
        });

        function displaySuppliers() {
            const suppliersGrid = document.getElementById('suppliersGrid');
            
            if (suppliers.length === 0) {
                suppliersGrid.innerHTML = '<div class="no-orders">No suppliers yet. Add your first supplier above!</div>';
                return;
            }
            
            suppliersGrid.innerHTML = suppliers.map((supplier, index) => {
                return `
                    <div class="database-item-card supplier">
                        <div class="database-item-header">
                            <div class="database-item-name supplier">${supplier.supplierName}</div>
                            <div class="database-item-id">ID: ${supplier.id}</div>
                        </div>
                        <div class="database-item-info">
                            <div class="database-info-row">
                                <span class="database-info-label">Contact:</span>
                                <span class="database-info-value">${supplier.contactDetails}</span>
                            </div>
                            <div class="database-info-row">
                                <span class="database-info-label">City:</span>
                                <span class="database-info-value">${supplier.city}, ${supplier.state}</span>
                            </div>
                            <div class="database-info-row">
                                <span class="database-info-label">Pincode:</span>
                                <span class="database-info-value">${supplier.pincode}</span>
                            </div>
                        </div>
                        ${renderUniversalActions(index, 'supplier')}
                    </div>
                `;
            }).join('');
        }

        function editSupplier(index) {
            editingSupplierIndex = index;
            const supplier = suppliers[index];
            const form = document.getElementById('supplierForm');
            
            Object.keys(supplier).forEach(key => {
                if (form[key] && key !== 'id' && key !== 'timestamp') {
                    form[key].value = supplier[key] || '';
                }
            });
            
            const cancelBtn = document.querySelector('#supplierFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'block';
            document.querySelector('.save-supplier-btn').textContent = 'âœï¸ Update Supplier';
            document.getElementById('supplierFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function deleteSupplier(index) {
            if (confirm(`Are you sure you want to delete supplier "${suppliers[index].supplierName}"?`)) {
                suppliers.splice(index, 1);
                localStorage.setItem('akSuppliers', JSON.stringify(suppliers));
                displaySuppliers();
                alert('âœ… Supplier deleted successfully!');
            }
        }

        function shareSupplierViaWhatsApp(index) {
            const supplier = suppliers[index];
            let message = `ðŸ­ *SUPPLIER DETAILS*\n`;
            message += `*${COMPANY_INFO.name}*\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            message += `*Name:* ${supplier.supplierName}\n`;
            message += `*Contact:* ${supplier.contactDetails}\n`;
            message += `*Address:* ${supplier.address}\n`;
            message += `*City:* ${supplier.city}\n`;
            message += `*State:* ${supplier.state}\n`;
            message += `*Pincode:* ${supplier.pincode}\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function toggleSupplierExportMenu() {
            document.getElementById('supplierExportDropdown').classList.toggle('show');
        }

        function exportSuppliersToPDF() {
            alert('Export suppliers to PDF - Feature coming soon!');
            document.getElementById('supplierExportDropdown').classList.remove('show');
        }

        function exportSuppliersToExcel() {
            alert('Export suppliers to Excel - Feature coming soon!');
            document.getElementById('supplierExportDropdown').classList.remove('show');
        }

        function exportSuppliersToWord() {
            alert('Export suppliers to Word - Feature coming soon!');
            document.getElementById('supplierExportDropdown').classList.remove('show');
        }

        function shareSuppliersViaWhatsApp() {
            if (suppliers.length === 0) {
                alert('No suppliers to share!');
                return;
            }
            
            let message = `ðŸ­ *SUPPLIER DATABASE*\n`;
            message += `*${COMPANY_INFO.name}*\n\n`;
            message += `Total Suppliers: ${suppliers.length}\n\n`;
            
            suppliers.forEach((supplier, index) => {
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
                message += `${index + 1}. *${supplier.supplierName}*\n`;
                message += `Contact: ${supplier.contactDetails}\n`;
                message += `City: ${supplier.city}, ${supplier.state}\n`;
                message += `Pincode: ${supplier.pincode}\n\n`;
            });
            
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            document.getElementById('supplierExportDropdown').classList.remove('show');
        }

        // Delivery Address Functions
        function createNewDelivery() {
            document.getElementById('deliveryForm').reset();
            document.getElementById('deliveryPreview').style.display = 'none';
            document.getElementById('deliveryActions').style.display = 'none';
            currentDeliveryAddress = '';
            currentDeliveryData = null;
            document.getElementById('deliveryFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function formatDeliveryAddress(data) {
            let address = `${data.quantity} ${data.product}\n\n`;
            address += `${data.customerName}\n`;
            if (data.contact) {
                address += `${data.contact}\n`;
            } else {
                address += `${COMPANY_INFO.standardContact}\n`;
            }
            address += `${data.address}\n\n`;
            address += `From AK Brands MarketingÂ©\n`;
            address += `${COMPANY_INFO.footerContact}`;
            
            return address;
        }

        document.getElementById('deliveryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            currentDeliveryData = {
                id: deliveryCounter,
                timestamp: new Date().toISOString(),
                quantity: formData.get('deliveryQuantity'),
                product: formData.get('deliveryProduct'),
                customerName: formData.get('deliveryCustomerName'),
                contact: formData.get('deliveryContact'),
                address: formData.get('deliveryAddress')
            };
            
            currentDeliveryAddress = formatDeliveryAddress(currentDeliveryData);
            
            // Show preview
            document.getElementById('deliveryPreview').textContent = currentDeliveryAddress;
            document.getElementById('deliveryPreview').style.display = 'block';
            document.getElementById('deliveryActions').style.display = 'flex';
        });

        function viewCurrentDelivery() {
            if (currentDeliveryData) {
                openViewModal(`Delivery #${currentDeliveryData.id}`, currentDeliveryData, 'delivery');
            }
        }

        function editCurrentDelivery() {
            // Form is already filled, just scroll to it
            document.getElementById('deliveryFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function downloadDeliveryPDF() {
            alert('Download delivery address as PDF - Feature coming soon!');
        }

        function downloadDeliveryExcel() {
            alert('Download delivery address as Excel - Feature coming soon!');
        }

        function downloadDeliveryWord() {
            alert('Download delivery address as Word - Feature coming soon!');
        }

        function shareDeliveryViaWhatsApp() {
            if (!currentDeliveryAddress) {
                alert('âŒ No delivery address to share!');
                return;
            }
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(currentDeliveryAddress)}`;
            window.open(whatsappUrl, '_blank');
        }

        function saveCurrentDelivery() {
            if (!currentDeliveryData) {
                alert('âŒ No delivery address to save!');
                return;
            }
            
            // Save to repository
            deliveryAddresses.push(currentDeliveryData);
            deliveryCounter++;
            localStorage.setItem('akDeliveryAddresses', JSON.stringify(deliveryAddresses));
            localStorage.setItem('akDeliveryCounter', deliveryCounter.toString());
            
            displaySavedDeliveries();
            alert('âœ… Delivery address saved successfully!');
        }

        function clearDeliveryForm() {
            if (confirm('Are you sure you want to clear the current delivery address?')) {
                createNewDelivery();
            }
        }

        function displaySavedDeliveries() {
            const deliveryGrid = document.getElementById('deliveryGrid');
            
            if (deliveryAddresses.length === 0) {
                deliveryGrid.innerHTML = '<div class="no-orders">No delivery addresses yet. Create your first one above!</div>';
                return;
            }
            
            deliveryGrid.innerHTML = deliveryAddresses.map((delivery, index) => {
                const date = new Date(delivery.timestamp);
                const formattedDate = date.toLocaleDateString('en-IN', { 
                    day: '2-digit', 
                    month: 'short', 
                    year: 'numeric' 
                });
                
                const formattedAddress = formatDeliveryAddress(delivery);
                
                return `
                    <div class="delivery-card">
                        <div class="delivery-card-header">
                            <div class="delivery-number">Delivery #${delivery.id}</div>
                            <div class="delivery-date">${formattedDate}</div>
                        </div>
                        <div class="delivery-preview">${formattedAddress}</div>
                        ${renderUniversalActions(index, 'delivery')}
                    </div>
                `;
            }).join('');
        }

        function editDelivery(index) {
            const delivery = deliveryAddresses[index];
            const form = document.getElementById('deliveryForm');
            
            form.deliveryQuantity.value = delivery.quantity;
            form.deliveryProduct.value = delivery.product;
            form.deliveryCustomerName.value = delivery.customerName;
            form.deliveryContact.value = delivery.contact || '';
            form.deliveryAddress.value = delivery.address;
            
            currentDeliveryData = delivery;
            currentDeliveryAddress = formatDeliveryAddress(delivery);
            
            document.getElementById('deliveryPreview').textContent = currentDeliveryAddress;
            document.getElementById('deliveryPreview').style.display = 'block';
            document.getElementById('deliveryActions').style.display = 'flex';
            
            document.getElementById('deliveryFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function shareDeliveryFromCard(index) {
            const delivery = deliveryAddresses[index];
            const address = formatDeliveryAddress(delivery);
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(address)}`;
            window.open(whatsappUrl, '_blank');
        }

        function deleteDelivery(index) {
            if (confirm(`Are you sure you want to delete Delivery #${deliveryAddresses[index].id}?`)) {
                deliveryAddresses.splice(index, 1);
                localStorage.setItem('akDeliveryAddresses', JSON.stringify(deliveryAddresses));
                displaySavedDeliveries();
                alert('âœ… Delivery address deleted successfully!');
            }
        }

        // Auto-calculate total amount in PO form
        document.addEventListener('DOMContentLoaded', function() {
            const poForm = document.getElementById('poForm');
            if (poForm) {
                const quantityInput = poForm.querySelector('[name="quantity"]');
                const unitPriceInput = poForm.querySelector('[name="unitPrice"]');
                const totalAmountInput = poForm.querySelector('[name="totalAmount"]');
                
                function calculateTotal() {
                    const quantity = parseFloat(quantityInput.value) || 0;
                    const unitPrice = parseFloat(unitPriceInput.value) || 0;
                    totalAmountInput.value = (quantity * unitPrice).toFixed(2);
                }
                
                if (quantityInput && unitPriceInput) {
                    quantityInput.addEventListener('input', calculateTotal);
                    unitPriceInput.addEventListener('input', calculateTotal);
                }
            }
        });

        function generatePONumber() {
            const year = new Date().getFullYear();
            const poNum = String(poCounter).padStart(3, '0');
            return `AKBM-${year}-${poNum}`;
        }

        function updatePOSerial() {
            if (editingPOIndex !== null) {
                document.getElementById('poSerial').textContent = `PO #${purchaseOrders[editingPOIndex].poNumber}`;
            } else {
                document.getElementById('poSerial').textContent = `PO #${generatePONumber()}`;
            }
        }

        function createNewPO() {
            editingPOIndex = null;
            document.getElementById('poForm').reset();
            updatePOSerial();
            const cancelBtn = document.querySelector('#poFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'none';
            document.querySelector('.save-po-btn').textContent = 'ðŸ’¾ Generate PO';
            document.getElementById('poFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function cancelPOEdit() {
            createNewPO();
        }

        document.getElementById('poForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const poData = {
                poNumber: editingPOIndex !== null ? purchaseOrders[editingPOIndex].poNumber : generatePONumber(),
                timestamp: editingPOIndex !== null ? purchaseOrders[editingPOIndex].timestamp : new Date().toISOString()
            };
            
            for (let [key, value] of formData.entries()) {
                poData[key] = value;
            }
            
            if (editingPOIndex !== null) {
                purchaseOrders[editingPOIndex] = poData;
                alert(`âœ… PO #${poData.poNumber} updated successfully!`);
            } else {
                purchaseOrders.push(poData);
                poCounter++;
                localStorage.setItem('akPOCounter', poCounter.toString());
                alert(`âœ… PO #${poData.poNumber} generated successfully!`);
            }
            
            localStorage.setItem('akPurchaseOrders', JSON.stringify(purchaseOrders));
            createNewPO();
            displaySavedPOs();
        });

        function displaySavedPOs() {
            const poGrid = document.getElementById('poGrid');
            
            if (purchaseOrders.length === 0) {
                poGrid.innerHTML = '<div class="no-orders">No purchase orders yet. Create your first PO above!</div>';
                return;
            }
            
            poGrid.innerHTML = purchaseOrders.map((po, index) => {
                const date = new Date(po.timestamp);
                const formattedDate = date.toLocaleDateString('en-IN', { 
                    day: '2-digit', 
                    month: 'short', 
                    year: 'numeric' 
                });
                
                return `
                    <div class="po-card">
                        <div class="order-card-header">
                            <div class="po-number">PO #${po.poNumber}</div>
                            <div class="order-date">${formattedDate}</div>
                        </div>
                        <div class="order-info">
                            <div class="order-info-row">
                                <span class="order-info-label">Supplier:</span>
                                <span class="order-info-value">${po.supplierName}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Customer:</span>
                                <span class="order-info-value">${po.customerName}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Product:</span>
                                <span class="order-info-value">${po.productDescription || 'N/A'}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Total Amount:</span>
                                <span class="order-info-value">â‚¹${po.totalAmount || '0'}</span>
                            </div>
                        </div>
                        ${renderUniversalActions(index, 'po')}
                    </div>
                `;
            }).join('');
        }

        function editPO(index) {
            editingPOIndex = index;
            const po = purchaseOrders[index];
            const form = document.getElementById('poForm');
            
            Object.keys(po).forEach(key => {
                if (form[key] && key !== 'poNumber' && key !== 'timestamp') {
                    form[key].value = po[key] || '';
                }
            });
            
            updatePOSerial();
            const cancelBtn = document.querySelector('#poFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'block';
            document.querySelector('.save-po-btn').textContent = 'âœï¸ Update PO';
            document.getElementById('poFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function deletePO(index) {
            if (confirm(`Are you sure you want to delete PO #${purchaseOrders[index].poNumber}?`)) {
                purchaseOrders.splice(index, 1);
                localStorage.setItem('akPurchaseOrders', JSON.stringify(purchaseOrders));
                displaySavedPOs();
                alert('âœ… Purchase Order deleted successfully!');
            }
        }

        // Format PO for WhatsApp with privacy protection
        function formatPOForWhatsApp(po, recipient) {
            let message = `ðŸ“„ *PURCHASE ORDER*\n`;
            message += `*${COMPANY_INFO.name}*\n`;
            message += `_${COMPANY_INFO.tagline}_\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            message += `*PO Number:* ${po.poNumber}\n`;
            message += `*Date:* ${new Date(po.timestamp).toLocaleDateString('en-IN')}\n\n`;
            
            if (recipient === 'customer') {
                // Show to customer - hide supplier contact
                message += `ðŸ­ *SUPPLIER DETAILS*\n`;
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                message += `Name: AKBM's Supplier\n`;
                message += `Address: ${po.supplierAddress}\n\n`;
                
                message += `ðŸ‘¤ *CUSTOMER DETAILS*\n`;
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                message += `Name: ${po.customerName}\n`;
                message += `Contact: ${po.customerContact}\n`;
                message += `Delivery Address: ${po.deliveryAddress}\n\n`;
            } else if (recipient === 'supplier') {
                // Show to supplier - hide customer contact
                message += `ðŸ­ *SUPPLIER DETAILS*\n`;
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                message += `Name: ${po.supplierName}\n`;
                message += `Contact: ${po.supplierContact}\n`;
                message += `Address: ${po.supplierAddress}\n\n`;
                
                message += `ðŸ‘¤ *CUSTOMER DETAILS*\n`;
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                message += `Name: AKBM's Customer\n`;
                message += `Delivery Address: ${po.deliveryAddress}\n\n`;
            }
            
            message += `ðŸ“¦ *PRODUCT DETAILS*\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `Description: ${po.productDescription}\n`;
            message += `Quantity: ${po.quantity}\n`;
            message += `Unit Price: â‚¹${po.unitPrice}\n`;
            message += `*Total Amount: â‚¹${po.totalAmount}*\n\n`;
            
            message += `ðŸšš *DELIVERY & PAYMENT*\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `Expected Delivery: ${po.deliveryDate}\n`;
            message += `Payment Terms: ${po.paymentTerms}\n`;
            if (po.specialInstructions) {
                message += `Special Instructions: ${po.specialInstructions}\n`;
            }
            
            message += `\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}\n`;
            message += `ðŸ“ ${COMPANY_INFO.location}\n\n`;
            message += `_This is an official Purchase Order from AK Brands Marketing_`;
            
            return message;
        }

        function sharePOViaWhatsApp(index) {
            const po = purchaseOrders[index];
            
            const recipient = prompt('Send PO to:\n1. Customer\n2. Supplier\n3. Both\n\nEnter 1, 2, or 3:');
            
            if (recipient === '1') {
                // Send to customer (hide supplier contact)
                const message = formatPOForWhatsApp(po, 'customer');
                const whatsappUrl = `https://wa.me/91${po.customerContact}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            } else if (recipient === '2') {
                // Send to supplier (hide customer contact)
                const message = formatPOForWhatsApp(po, 'supplier');
                const whatsappUrl = `https://wa.me/91${po.supplierContact}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            } else if (recipient === '3') {
                // Send to both with appropriate privacy
                const customerMessage = formatPOForWhatsApp(po, 'customer');
                const supplierMessage = formatPOForWhatsApp(po, 'supplier');
                
                const customerUrl = `https://wa.me/91${po.customerContact}?text=${encodeURIComponent(customerMessage)}`;
                const supplierUrl = `https://wa.me/91${po.supplierContact}?text=${encodeURIComponent(supplierMessage)}`;
                
                window.open(customerUrl, '_blank');
                setTimeout(() => window.open(supplierUrl, '_blank'), 1000);
            }
        }

        function togglePOExportMenu() {
            document.getElementById('poExportDropdown').classList.toggle('show');
        }

        function exportAllPOsToPDF() {
            alert('Export all POs to PDF - Feature coming soon!');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        function exportAllPOsToExcel() {
            alert('Export all POs to Excel - Feature coming soon!');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        function exportAllPOsToWord() {
            alert('Export all POs to Word - Feature coming soon!');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        function shareAllPOsViaWhatsApp() {
            if (purchaseOrders.length === 0) {
                alert('No purchase orders to share!');
                return;
            }
            
            let message = `ðŸ“„ *ALL PURCHASE ORDERS*\n`;
            message += `*${COMPANY_INFO.name}*\n\n`;
            message += `Total POs: ${purchaseOrders.length}\n\n`;
            
            purchaseOrders.forEach((po, index) => {
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
                message += `*PO #${po.poNumber}*\n`;
                message += `Date: ${new Date(po.timestamp).toLocaleDateString('en-IN')}\n`;
                message += `Supplier: ${po.supplierName}\n`;
                message += `Customer: ${po.customerName}\n`;
                message += `Product: ${po.productDescription}\n`;
                message += `Amount: â‚¹${po.totalAmount}\n`;
                message += `Delivery: ${po.deliveryDate}\n\n`;
            });
            
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            document.getElementById('poExportDropdown').classList.remove('show');
        }

        // OTP Functions
        function generateOTP() {
            return Math.floor(100000 + Math.random() * 900000).toString();
        }

        function openOrdersWithOTP() {
            if (isOrdersLoggedIn) {
                showOrdersSection();
            } else {
                document.getElementById('otpModal').classList.add('show');
                document.getElementById('phoneInputSection').style.display = 'block';
                document.getElementById('otpInputSection').style.display = 'none';
                document.getElementById('phoneInput').value = '';
                document.getElementById('phoneError').classList.remove('show');
                document.getElementById('phoneInput').focus();
            }
            document.getElementById('menuDropdown').classList.remove('show');
        }

        function requestOTP() {
            const phoneInput = document.getElementById('phoneInput').value.trim();
            
            if (phoneInput.length !== 10 || !/^\d+$/.test(phoneInput)) {
                showPhoneError('Please enter a valid 10-digit mobile number');
                return;
            }
            
            if (phoneInput !== AUTHORIZED_PHONE) {
                showPhoneError('Unauthorized phone number. Access denied.');
                return;
            }
            
            enteredPhone = phoneInput;
            sendOTP();
        }

        function sendOTP() {
            generatedOTP = generateOTP();
            otpExpiryTime = Date.now() + (5 * 60 * 1000);
            
            document.getElementById('phoneInputSection').style.display = 'none';
            document.getElementById('otpLoading').classList.add('show');
            document.getElementById('otpInputSection').style.display = 'none';
            
            const message = `ðŸ” *AK Brands Marketing - Secure Login*\n\nYour OTP for Orders Management:\n\n*${generatedOTP}*\n\nValid for 5 minutes.\n\nâš ï¸ Do not share this code with anyone.`;
            const whatsappUrl = `https://wa.me/91${enteredPhone}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            setTimeout(() => {
                document.getElementById('otpLoading').classList.remove('show');
                document.getElementById('otpInputSection').style.display = 'block';
                document.getElementById('otp1').focus();
                startOTPTimer();
                startResendTimer();
            }, 2000);
        }

        function startOTPTimer() {
            updateTimerDisplay();
            otpTimer = setInterval(() => {
                if (Date.now() >= otpExpiryTime) {
                    clearInterval(otpTimer);
                    document.getElementById('otpTimer').textContent = 'â° OTP expired. Please request a new one.';
                    document.getElementById('otpTimer').style.color = '#ff6b6b';
                } else {
                    updateTimerDisplay();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const remaining = Math.max(0, Math.floor((otpExpiryTime - Date.now()) / 1000));
            const minutes = Math.floor(remaining / 60);
            const seconds = remaining % 60;
            document.getElementById('otpTimer').textContent = `â±ï¸ OTP expires in ${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('otpTimer').style.color = 'rgba(255,255,255,0.8)';
        }

        function startResendTimer() {
            const resendBtn = document.getElementById('resendBtn');
            let countdown = 60;
            resendBtn.disabled = true;
            resendBtn.textContent = `Resend (${countdown}s)`;
            
            resendTimer = setInterval(() => {
                countdown--;
                if (countdown <= 0) {
                    clearInterval(resendTimer);
                    resendBtn.disabled = false;
                    resendBtn.textContent = 'Resend OTP';
                } else {
                    resendBtn.textContent = `Resend (${countdown}s)`;
                }
            }, 1000);
        }

        function resendOTP() {
            clearInterval(otpTimer);
            clearInterval(resendTimer);
            clearOTPInputs();
            sendOTP();
        }

        function moveToNext(current, nextId) {
            if (current.value.length === 1 && nextId) {
                document.getElementById(nextId).focus();
            }
        }

        function moveToPrev(event, current, prevId) {
            if (event.key === 'Backspace' && current.value === '' && prevId) {
                document.getElementById(prevId).focus();
            }
        }

        function handleLastDigit() {
            const otp6 = document.getElementById('otp6');
            if (otp6.value.length === 1) {
                verifyOTP();
            }
        }

        function verifyOTP() {
            const enteredOTP = 
                document.getElementById('otp1').value +
                document.getElementById('otp2').value +
                document.getElementById('otp3').value +
                document.getElementById('otp4').value +
                document.getElementById('otp5').value +
                document.getElementById('otp6').value;
            
            if (enteredOTP.length !== 6) {
                showOTPError('Please enter complete 6-digit OTP');
                return;
            }
            
            if (Date.now() >= otpExpiryTime) {
                showOTPError('OTP has expired. Please request a new one.');
                return;
            }
            
            if (enteredOTP === generatedOTP) {
                isOrdersLoggedIn = true;
                clearInterval(otpTimer);
                clearInterval(resendTimer);
                closeOTPModal();
                showOrdersSection();
            } else {
                showOTPError('Invalid OTP. Please try again.');
                clearOTPInputs();
                document.getElementById('otp1').focus();
            }
        }

        function showOTPError(message) {
            const errorDiv = document.getElementById('otpError');
            errorDiv.textContent = `âŒ ${message}`;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 3000);
        }

        function showPhoneError(message) {
            const errorDiv = document.getElementById('phoneError');
            errorDiv.textContent = `âŒ ${message}`;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 3000);
        }

        function clearOTPInputs() {
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`otp${i}`).value = '';
            }
        }

        function closeOTPModal() {
            document.getElementById('otpModal').classList.remove('show');
            clearInterval(otpTimer);
            clearInterval(resendTimer);
            clearOTPInputs();
            document.getElementById('phoneInput').value = '';
            document.getElementById('phoneError').classList.remove('show');
        }

        function toggleMenu() {
            const dropdown = document.getElementById('menuDropdown');
            const animationSection = document.getElementById('animationSection');
            dropdown.classList.toggle('show');
            if (dropdown.classList.contains('show')) {
                animationSection.classList.add('paused');
            } else {
                animationSection.classList.remove('paused');
            }
        }

        function toggleExportMenu() {
            document.getElementById('exportDropdown').classList.toggle('show');
        }

        window.onclick = function(event) {
            if (!event.target.matches('.menu-button') && !event.target.matches('.export-btn')) {
                const dropdowns = document.getElementsByClassName('dropdown-content');
                const animationSection = document.getElementById('animationSection');
                const exportDropdown = document.getElementById('exportDropdown');
                const poExportDropdown = document.getElementById('poExportDropdown');
                const customerExportDropdown = document.getElementById('customerExportDropdown');
                const supplierExportDropdown = document.getElementById('supplierExportDropdown');
                
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                        animationSection.classList.remove('paused');
                    }
                }
                
                if (exportDropdown && exportDropdown.classList.contains('show')) {
                    exportDropdown.classList.remove('show');
                }
                
                if (poExportDropdown && poExportDropdown.classList.contains('show')) {
                    poExportDropdown.classList.remove('show');
                }
                
                if (customerExportDropdown && customerExportDropdown.classList.contains('show')) {
                    customerExportDropdown.classList.remove('show');
                }
                
                if (supplierExportDropdown && supplierExportDropdown.classList.contains('show')) {
                    supplierExportDropdown.classList.remove('show');
                }
            }
            
            if (event.target.classList.contains('otp-modal')) {
                closeOTPModal();
            }
            
            if (event.target.classList.contains('view-modal')) {
                closeViewModal();
            }
        }

        function showSection(section) {
            document.getElementById('ordersSection').classList.remove('show');
            document.getElementById('home').style.display = 'flex';
            document.getElementById('features').style.display = 'block';
            document.getElementById('about').style.display = 'block';
            document.getElementById('contact').style.display = 'block';
            document.getElementById(section).scrollIntoView({ behavior: 'smooth' });
            document.getElementById('menuDropdown').classList.remove('show');
        }

        function showOrdersSection() {
            document.getElementById('home').style.display = 'none';
            document.getElementById('features').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            document.getElementById('ordersSection').classList.add('show');
            displayCustomers();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function logoutOrders() {
            isOrdersLoggedIn = false;
            showSection('home');
        }

        function updateOrderSerial() {
            if (editingOrderIndex !== null) {
                document.getElementById('orderSerial').textContent = `Order #${orders[editingOrderIndex].orderNumber}`;
            } else {
                document.getElementById('orderSerial').textContent = `Order #${orderCounter}`;
            }
        }

        function createNewOrder() {
            editingOrderIndex = null;
            document.getElementById('orderForm').reset();
            updateOrderSerial();
            const cancelBtn = document.querySelector('#orderFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'none';
            document.querySelector('.save-order-btn').textContent = 'ðŸ’¾ Save Order';
            document.getElementById('orderFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function editOrder(index) {
            editingOrderIndex = index;
            const order = orders[index];
            const form = document.getElementById('orderForm');
            
            Object.keys(order).forEach(key => {
                if (form[key] && key !== 'orderNumber' && key !== 'timestamp') {
                    form[key].value = order[key] || '';
                }
            });
            
            updateOrderSerial();
            const cancelBtn = document.querySelector('#orderFormCard .cancel-edit-btn');
            if (cancelBtn) cancelBtn.style.display = 'block';
            document.querySelector('.save-order-btn').textContent = 'âœï¸ Update Order';
            document.getElementById('orderFormCard').scrollIntoView({ behavior: 'smooth' });
        }

        function cancelEdit() {
            createNewOrder();
        }

        function deleteOrder(index) {
            if (confirm(`Are you sure you want to delete Order #${orders[index].orderNumber}?`)) {
                orders.splice(index, 1);
                localStorage.setItem('akOrders', JSON.stringify(orders));
                displaySavedOrders();
                alert('âœ… Order deleted successfully!');
            }
        }

        function displaySavedOrders() {
            const ordersGrid = document.getElementById('ordersGrid');
            
            if (orders.length === 0) {
                ordersGrid.innerHTML = '<div class="no-orders">No orders yet. Create your first order above!</div>';
                return;
            }
            
            ordersGrid.innerHTML = orders.map((order, index) => {
                const date = new Date(order.timestamp);
                const formattedDate = date.toLocaleDateString('en-IN', { 
                    day: '2-digit', 
                    month: 'short', 
                    year: 'numeric' 
                });
                
                return `
                    <div class="order-card">
                        <div class="order-card-header">
                            <div class="order-number">Order #${order.orderNumber}</div>
                            <div class="order-date">${formattedDate}</div>
                        </div>
                        <div class="order-info">
                            <div class="order-info-row">
                                <span class="order-info-label">Customer:</span>
                                <span class="order-info-value">${order.customerName}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Lot Number:</span>
                                <span class="order-info-value">${order.lotNumber || 'N/A'}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Category:</span>
                                <span class="order-info-value">${order.category || 'N/A'}</span>
                            </div>
                            <div class="order-info-row">
                                <span class="order-info-label">Total Amount:</span>
                                <span class="order-info-value">â‚¹${order.totalAmount || '0'}</span>
                            </div>
                        </div>
                        ${renderUniversalActions(index, 'order')}
                    </div>
                `;
            }).join('');
        }

        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const orderData = {
                orderNumber: editingOrderIndex !== null ? orders[editingOrderIndex].orderNumber : orderCounter,
                timestamp: editingOrderIndex !== null ? orders[editingOrderIndex].timestamp : new Date().toISOString()
            };
            
            for (let [key, value] of formData.entries()) {
                orderData[key] = value;
            }
            
            if (editingOrderIndex !== null) {
                orders[editingOrderIndex] = orderData;
                alert(`âœ… Order #${orderData.orderNumber} updated successfully!`);
            } else {
                orders.push(orderData);
                orderCounter++;
                localStorage.setItem('akOrderCounter', orderCounter.toString());
                alert(`âœ… Order #${orderData.orderNumber} saved successfully!`);
            }
            
            localStorage.setItem('akOrders', JSON.stringify(orders));
            createNewOrder();
            displaySavedOrders();
        });

        function formatOrderForWhatsApp(order) {
            let message = `ðŸ“‹ *AK BRANDS MARKETING*\n`;
            message += `_${COMPANY_INFO.tagline}_\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            message += `ðŸ“¦ *ORDER #${order.orderNumber}*\n`;
            message += `ðŸ“… Date: ${new Date(order.timestamp).toLocaleDateString('en-IN')}\n\n`;
            
            message += `ðŸ‘¤ *CUSTOMER DETAILS*\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            if (order.customerName) message += `Name: ${order.customerName}\n`;
            if (order.businessName) message += `Business: ${order.businessName}\n`;
            if (order.mobileNumber) message += `Mobile: ${order.mobileNumber}\n`;
            if (order.city) message += `City: ${order.city}\n`;
            message += `\n`;
            
            message += `ðŸ“¦ *ORDER DETAILS*\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            if (order.lotNumber) message += `Lot Number: ${order.lotNumber}\n`;
            if (order.category) message += `Category: ${order.category}\n`;
            if (order.quantity) message += `Quantity: ${order.quantity}\n`;
            if (order.totalAmount) message += `Total Amount: â‚¹${order.totalAmount}\n`;
            message += `\n`;
            
            message += `ðŸ’³ *PAYMENT TRACKING*\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            if (order.paymentMethod) message += `Method: ${order.paymentMethod}\n`;
            if (order.paidAmount) message += `Paid: â‚¹${order.paidAmount}\n`;
            if (order.balanceAmount) message += `Balance: â‚¹${order.balanceAmount}\n`;
            if (order.paymentStatus) message += `Status: ${order.paymentStatus}\n`;
            message += `\n`;
            
            message += `ðŸ“Š *ORDER STATUS*\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            if (order.orderStatus) message += `Status: ${order.orderStatus}\n`;
            if (order.dispatchDate) message += `Dispatch: ${order.dispatchDate}\n`;
            if (order.deliveryDate) message += `Delivery: ${order.deliveryDate}\n`;
            
            if (order.notes) {
                message += `\nðŸ“ *NOTES*\n`;
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
                message += `${order.notes}\n`;
            }
            
            message += `\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}\n`;
            message += `ðŸ“ ${COMPANY_INFO.location}`;
            
            return message;
        }

        function shareOrderViaWhatsApp(index) {
            const order = orders[index];
            const message = formatOrderForWhatsApp(order);
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function shareAllViaWhatsApp() {
            if (orders.length === 0) {
                alert('No orders to share!');
                return;
            }
            
            let message = `ðŸ“‹ *AK BRANDS MARKETING*\n`;
            message += `_${COMPANY_INFO.tagline}_\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            message += `ðŸ“¦ *ALL ORDERS SUMMARY*\n`;
            message += `Total Orders: ${orders.length}\n\n`;
            
            orders.forEach((order, index) => {
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
                message += `*Order #${order.orderNumber}*\n`;
                message += `Date: ${new Date(order.timestamp).toLocaleDateString('en-IN')}\n`;
                if (order.customerName) message += `Customer: ${order.customerName}\n`;
                if (order.lotNumber) message += `Lot: ${order.lotNumber}\n`;
                if (order.category) message += `Category: ${order.category}\n`;
                if (order.totalAmount) message += `Amount: â‚¹${order.totalAmount}\n`;
                if (order.orderStatus) message += `Status: ${order.orderStatus}\n`;
                message += `\n`;
            });
            
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
            message += `ðŸ“§ ${COMPANY_INFO.email}\n`;
            message += `ðŸ“± ${COMPANY_INFO.phone}\n`;
            message += `ðŸ“ ${COMPANY_INFO.location}`;
            
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            document.getElementById('exportDropdown').classList.remove('show');
        }

        function exportAllToPDF() {
            alert('Export all orders to PDF - Feature coming soon!');
            document.getElementById('exportDropdown').classList.remove('show');
        }

        function exportAllToExcel() {
            alert('Export all orders to Excel - Feature coming soon!');
            document.getElementById('exportDropdown').classList.remove('show');
        }

        function exportAllToWord() {
            alert('Export all orders to Word - Feature coming soon!');
            document.getElementById('exportDropdown').classList.remove('show');
        }

        function openModal(type) {
            const modal = document.getElementById(type + 'Modal');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
            const errorDiv = document.getElementById(type + 'Error');
            errorDiv.classList.remove('show');
            errorDiv.textContent = '';
        }

        function closeModal(type) {
            const modal = document.getElementById(type + 'Modal');
            modal.classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function showError(type, message) {
            const errorDiv = document.getElementById(type + 'Error');
            errorDiv.textContent = message;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 5000);
        }

        function normalizePhoneNumber(phone) {
            let cleaned = phone.replace(/\D/g, '');
            if (cleaned.startsWith('91') && cleaned.length > 10) {
                cleaned = cleaned.substring(2);
            }
            if (cleaned.startsWith('0')) {
                cleaned = cleaned.substring(1);
            }
            if (cleaned.length === 10) {
                return '91' + cleaned;
            }
            return cleaned;
        }

        function handleSubmit(event, type) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const name = formData.get('name');
            const phone = formData.get('phone');
            const address = formData.get('address');
            const category = formData.get('category');
            const normalizedPhone = normalizePhoneNumber(phone);
            
            if (registeredPhones[normalizedPhone]) {
                showError(type, `âš ï¸ This number is already registered with discount code ${registeredPhones[normalizedPhone]}. Please register with another number.`);
                return;
            }
            
            const discountCode = 'AK' + codeCounter;
            codeCounter++;
            localStorage.setItem('akCodeCounter', codeCounter.toString());
            registeredPhones[normalizedPhone] = discountCode;
            localStorage.setItem('akRegisteredPhones', JSON.stringify(registeredPhones));
            
            customerData = {
                name: name,
                phone: normalizedPhone,
                address: address,
                category: category,
                type: type,
                discountCode: discountCode
            };
            
            document.getElementById('discountCode').textContent = discountCode;
            document.getElementById('successModal').classList.add('show');
            closeModal(type);
            form.reset();
        }

        function sendToWhatsApp() {
            document.getElementById('successModal').classList.remove('show');
            document.body.style.overflow = 'auto';
            
            if (customerData) {
                const messageToAdmin = `ðŸŽ‰ *New Customer Registration*\n\n` +
                    `*Name:* ${customerData.name}\n` +
                    `*Phone:* +${customerData.phone}\n` +
                    `*Address:* ${customerData.address}\n` +
                    `*Category:* ${customerData.category}\n` +
                    `*Type:* ${customerData.type.toUpperCase()}\n` +
                    `*Discount Code:* ${customerData.discountCode}\n\n` +
                    `_Registered via AK Brands Marketing Website_`;
                
                const customerWhatsAppUrl = `https://wa.me/918660502217?text=${encodeURIComponent(messageToAdmin)}`;
                window.open(customerWhatsAppUrl, '_blank');
                customerData = null;
            }
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
            if (event.target.classList.contains('success-modal')) {
                event.target.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
        });
    </script>
</body>
</html>